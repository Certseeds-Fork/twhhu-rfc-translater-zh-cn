{
  "title": {
    "text": "RFC 2648:  A URN Namespace for IETF Documents ",
    "zh-CHS": "RFC 2648"
  },
  "number": 2648,
  "created_at": "2021-10-24 01:50:55.935403+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Network Working Group                                           R. Moats\nRequest for Comments: 2648                                          AT&T\nCategory: Informational                                      August 1999",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 19,
      "text": "A URN Namespace for IETF Documents",
      "zh-CHS": "IETF文档的URN名称空间"
    },
    {
      "indent": 0,
      "text": "Status of this Memo",
      "zh-CHS": "本备忘录的状况"
    },
    {
      "indent": 3,
      "text": "This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited.",
      "zh-CHS": "本备忘录为互联网社区提供信息。它没有规定任何类型的互联网标准。本备忘录的分发不受限制。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (1999). All Rights Reserved.",
      "zh-CHS": "版权所有（C）互联网协会（1999年）。版权所有。"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "A system for Uniform Resource Names (URNs) must be capable of supporting new naming systems. As an example of proposing a new namespace, this document proposes the \"ietf\" namespace. This namespace consists of the RFC family of documents (RFCs, STDs, FYIs, and BCPs) developed by the IETF and published by the RFC Editor, the minutes of working groups (WG) and birds of a feather (BOF) meetings that occur during IETF conferences, and the Internet Drafts published by the Internet Drafts Editor. Both the current URN framework and URN syntax support this namespace.",
      "zh-CHS": "统一资源名称（URN）系统必须能够支持新的命名系统。作为提出新名称空间的示例，本文档提出了“ietf”名称空间。该名称空间由IETF开发并由RFC编辑器发布的RFC系列文件（RFC、STD、FYI和BCP）、IETF会议期间发生的工作组会议记录（WG）和同类会议记录（BOF）以及由Internet草稿编辑器发布的Internet草稿组成。当前的URN框架和URN语法都支持此命名空间。"
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "This document proposes the \"ietf\" namespace, which consists of the RFC family of documents (RFCs, STDs, FYIs, and BCPs) developed by the IETF and published by the RFC editor and the minutes of working groups (WG) and birds of a feather (BOF) meetings that occur during IETF conferences.",
      "zh-CHS": "本文件提出了“ietf”名称空间，该名称空间由ietf开发并由RFC编辑器发布的RFC系列文件（RFC、STD、FYI和BCP）以及ietf会议期间发生的工作组（WG）和羽毛鸟（BOF）会议纪要组成。"
    },
    {
      "indent": 3,
      "text": "The namespace specification is for a formal namespace.",
      "zh-CHS": "名称空间规范用于正式名称空间。"
    },
    {
      "indent": 0,
      "text": "2. Specification Template",
      "section_title": true,
      "zh-CHS": "2. 规范模板"
    },
    {
      "indent": 6,
      "text": "Namespace ID:",
      "zh-CHS": "命名空间ID:"
    },
    {
      "indent": 12,
      "text": "\"ietf\" requested.",
      "zh-CHS": "请求“ietf”。"
    },
    {
      "indent": 6,
      "text": "Registration Information:",
      "zh-CHS": "注册资料："
    },
    {
      "indent": 12,
      "text": "Registration version number: 1 Registration date: 1999-04-22",
      "zh-CHS": "注册版本号：1注册日期：1999-04-22"
    },
    {
      "indent": 6,
      "text": "Declared registrant of the namespace:",
      "zh-CHS": "已声明命名空间的注册人："
    },
    {
      "indent": 12,
      "text": "Ryan Moats jayhawk@att.com AT&T 15621 Drexel Circle Omaha, NE 68135-2358",
      "zh-CHS": "瑞安护城河jayhawk@att.com美国电话电报公司15621新罕布什尔州奥马哈德雷塞尔环路，邮编68135-2358"
    },
    {
      "indent": 6,
      "text": "Declaration of structure:",
      "zh-CHS": "结构声明："
    },
    {
      "indent": 12,
      "text": "The identifier has the following ABNF [2] specification:",
      "zh-CHS": "标识符具有以下ABNF[2]规范："
    },
    {
      "indent": 12,
      "text": "NSS = rfc-nss / fyi-nss / std-nss / bcp-nss /\n      draft-nss / mtg-nss / other-nss",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 12,
      "text": "rfc-nss = \"rfc:\" 1*DIGIT\nfyi-nss = \"fyi:\" 1*DIGIT\nstd-nss = \"std:\" 1*DIGIT\nbcp-nss = \"bcp:\" 1*DIGIT\ndraft-nss = \"id:\" string\nmtg-nss = \"mtg:\" string\nother-nss = string\n  ; beginning with a prefix other than one of those\n  ; above for future expansion",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 12,
      "text": "string = 1*(DIGIT / ALPHA / \"-\")",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 12,
      "text": "If the IESG (or it successor) adds a new document series, this ABNF specification will need to be updated. Further, if a working group or BOF is created that used characters outside the range of this ABNF specification, this specification will need to be updated. Any system intended to resolve names for this namespace should be written with the awareness that this could occur at any time.",
      "zh-CHS": "如果IESG（或其后续版本）添加了新的文档系列，则需要更新ABNF规范。此外，如果创建的工作组或BOF使用了超出本ABNF规范范围的字符，则需要更新本规范。任何打算解析此命名空间名称的系统在编写时都应该意识到这可能随时发生。"
    },
    {
      "indent": 6,
      "text": "Relevant ancillary documentation:",
      "zh-CHS": "相关辅助文件："
    },
    {
      "indent": 12,
      "text": "Relevant documentation is in RFC 2648.",
      "zh-CHS": "相关文件见RFC 2648。"
    },
    {
      "indent": 6,
      "text": "Identifier uniqueness considerations:",
      "zh-CHS": "标识符唯一性注意事项："
    },
    {
      "indent": 12,
      "text": "Because the rfc-editor assigns the RFC number uniquely these URNs are unique. Since the mapping between RFCs and other rfc-editor document series (STDs, FYIs or BCPs) is not necessarily one-to-one, uniqueness of STDs, FYIs and BCPs are defined based on the document mappings maintained by the RFC Editor (the index files \"rfc-index.txt\", \"fyi-index.txt\", \"bcp-index.txt\", \"std-index.txt\") are defined to be the definitive statement of the assignment of RFC Family URNs in this namespace. The meeting minutes portion of the namespace is guaranteed unique because the URN includes the sequence number of the IETF conference. The document mapping maintained by the Internet Drafts editor (\"1id-abstracts.txt\") is defined as the definitive statement of the assignment of URNs for the internet draft portion of this namespace.",
      "zh-CHS": "因为rfc编辑器唯一地分配rfc编号，所以这些URN是唯一的。由于rfc和其他rfc编辑器文档系列（std、fyi或bcp）之间的映射不一定是一对一的，因此std、fyi和bcp的唯一性是根据rfc编辑器维护的文档映射定义的（索引文件“rfc index.txt”、“fyi index.txt”、“bcp index.txt”、“std index.txt”）定义为此命名空间中RFC系列URN分配的最终声明。名称空间的会议纪要部分保证是唯一的，因为URN包含IETF会议的序列号。Internet草稿编辑器（“1id abstracts.txt”）维护的文档映射被定义为该命名空间的Internet草稿部分的URN分配的最终声明。"
    },
    {
      "indent": 6,
      "text": "Identifier persistence considerations:",
      "zh-CHS": "标识符持久性注意事项："
    },
    {
      "indent": 12,
      "text": "Persistence of the URNs of this namespace is independent of the mutability of the underlying documents. A URN once assigned will never be reassigned to a different resource; the assignment is persistent and immutable. Immutability of RFCs, STDs, FYIs and BCPs is at the discretion of the RFC Editor. They may be composites of one or more RFCs and the set of RFCs that includes them may change with time. It is important to note that this mutability of some resources is independent of the immutability of URN assignment to a resource.",
      "zh-CHS": "此命名空间的URN的持久性与基础文档的易变性无关。一个一旦分配的URN将永远不会被重新分配到不同的资源；赋值是持久的和不可变的。RFC、STD、FYI和BCP的不变性由RFC编辑决定。它们可能是一个或多个RFC的组合，包含它们的RFC集可能随时间而变化。需要注意的是，某些资源的这种可变性独立于URN分配给资源的不变性。"
    },
    {
      "indent": 6,
      "text": "Process of identifier assignment:",
      "zh-CHS": "标识符分配过程："
    },
    {
      "indent": 12,
      "text": "Assignment of URNs from this namespace occurs in three ways. The first is through publication of a new RFC, FYI, STD or BCP is by the RFC Editor. This new document will have a new series number and will therefore define a new URN. The document mappings maintained by the RFC Editor (the index files \"rfc-index.txt\", \"fyi-index.txt\", \"bcp-index.txt\" and \"std-index.txt\") are defined to be the definitive statement of the assignment of RFC Family URNs in this namespace.",
      "zh-CHS": "从该命名空间分配URN有三种方式。第一种是通过RFC编辑发布新的RFC、FYI、STD或BCP。此新文档将有一个新的序列号，因此将定义一个新的URN。RFC编辑器维护的文档映射（索引文件“RFC index.txt”、“fyi index.txt”、“bcp index.txt”和“std index.txt”）被定义为该命名空间中RFC系列URN分配的最终声明。"
    },
    {
      "indent": 12,
      "text": "The second way a URN is assigned is through the filing of meeting minutes by a working group or birds of a feather as part of an IETF conference. The list of minutes maintained by the IETF for each working group and conference in the subtree pointed at by the URL ftp://ietf.org/ietf/ is considered the definitive assignment of URNs for working",
      "zh-CHS": "第二种分配URN的方式是由一个工作组或一只羽毛鸟将会议记录归档，作为IETF会议的一部分。IETF在URL指向的子树中为每个工作组和会议维护的会议记录列表ftp://ietf.org/ietf/ 被认为是工作用骨灰盒的最终分配"
    },
    {
      "indent": 12,
      "text": "group or birds of a feather minutes.",
      "zh-CHS": "一群或一群羽毛相同的鸟。"
    },
    {
      "indent": 12,
      "text": "The third way a URN is assigned is through the publication of a new internet-draft by the Internet Draft Editor. This draft will have a distinct name (and version number) and therefore defined a new URN. The document mapping maintained by the Internet Drafts editor (\"1id-abstracts.txt\") is defined as the definitive statement of the assignment of URNs for this portion of the namespace.",
      "zh-CHS": "分配URN的第三种方式是由internet草稿编辑发布新的internet草稿。此草稿将具有不同的名称（和版本号），因此定义了一个新的URN。由Internet草稿编辑器（“1id abstracts.txt”）维护的文档映射被定义为该部分命名空间的URN分配的最终声明。"
    },
    {
      "indent": 6,
      "text": "Process of identifier resolution:",
      "zh-CHS": "标识符解析过程："
    },
    {
      "indent": 12,
      "text": "A mirrored copy of the underlying documentation is required to resolve these URNs. Resolution via HTTP is done by a set of simple Perl cgi-bin scripts presented in Appendix A.",
      "zh-CHS": "解析这些URN需要基础文档的镜像副本。通过HTTP的解析由一组简单的Perl cgi bin脚本完成，如附录a所示。"
    },
    {
      "indent": 6,
      "text": "Rules for Lexical Equivalence:",
      "zh-CHS": "词汇对等规则："
    },
    {
      "indent": 12,
      "text": "The entire URN is case-insensitive.",
      "zh-CHS": "整个URN不区分大小写。"
    },
    {
      "indent": 6,
      "text": "Conformance with URN Syntax:",
      "zh-CHS": "符合URN语法："
    },
    {
      "indent": 12,
      "text": "There are no additional characters reserved.",
      "zh-CHS": "没有保留其他字符。"
    },
    {
      "indent": 6,
      "text": "Validation mechanism:",
      "zh-CHS": "验证机制："
    },
    {
      "indent": 12,
      "text": "None additional to resolution specified",
      "zh-CHS": "除指定的决议外，无其他决议"
    },
    {
      "indent": 6,
      "text": "Scope:",
      "zh-CHS": "范围："
    },
    {
      "indent": 12,
      "text": "Global.",
      "zh-CHS": "全球的"
    },
    {
      "indent": 0,
      "text": "3. Examples",
      "section_title": true,
      "zh-CHS": "3. 例子"
    },
    {
      "indent": 3,
      "text": "The following are examples of URNs that a resolver for this namespace can resolve:",
      "zh-CHS": "以下是此命名空间的解析程序可以解析的URN示例："
    },
    {
      "indent": 9,
      "text": "urn:ietf:rfc:2141\nurn:ietf:std:50\nurn:ietf:id:ietf-urn-ietf-06\nurn:ietf:mtg:41-urn",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "4. Security Considerations",
      "section_title": true,
      "zh-CHS": "4. 安全考虑"
    },
    {
      "indent": 3,
      "text": "Because this namespace defines no additional reserved characters, it does not add any security considerations beyond those inherent from the existence of the reserved characters from [1]. Further, none of the reserved characters from [1] are used in the definition of the NSS. This means that resolvers for this namespace may be considered \"secure\" in the sense that any escaping of characters in the NSS MUST result in the resolver indicating that the URN has incorrect syntax.",
      "zh-CHS": "由于此命名空间未定义其他保留字符，因此除了[1]中保留字符的存在所固有的安全考虑之外，它不会添加任何安全考虑。此外，在NSS的定义中没有使用来自[1]的保留字符。这意味着此命名空间的解析程序可能被认为是“安全的”，因为NSS中的任何字符转义都必须导致解析程序指示URN具有不正确的语法。"
    },
    {
      "indent": 0,
      "text": "5. Acknowledgments",
      "section_title": true,
      "zh-CHS": "5. 致谢"
    },
    {
      "indent": 3,
      "text": "Thanks to various members of the URN working group for comments on earlier drafts of this document. The work described in this document is partially supported by the National Science Foundation, Cooperative Agreement NCR-9218179.",
      "zh-CHS": "感谢URN工作组各成员对本文件早期草案的意见。本文件中所描述的工作部分由美国国家科学基金会NCR-9218179合作协议支持。"
    },
    {
      "indent": 0,
      "text": "6. References",
      "section_title": true,
      "zh-CHS": "6. 工具书类"
    },
    {
      "indent": 3,
      "text": "Request For Comments (RFC) and Internet Draft documents are available from numerous mirror sites.",
      "zh-CHS": "许多镜像站点都提供了征求意见（RFC）和互联网草稿文档。"
    },
    {
      "indent": 3,
      "text": "[1] Moats, R., \"URN Syntax\", RFC 2141, May 1997.",
      "zh-CHS": "[1] 护城河，R.，“瓮语法”，RFC 21411997年5月。"
    },
    {
      "indent": 3,
      "text": "[2] Crocker, D. and P. Overell, \"Augmented BNF for Syntax Specifications: ABNF\", RFC 2234, November 1997.",
      "zh-CHS": "[2] Crocker，D.和P.Overell，“语法规范的扩充BNF:ABNF”，RFC 2234，1997年11月。"
    },
    {
      "indent": 0,
      "text": "7. Author's Address",
      "section_title": true,
      "zh-CHS": "7. 作者地址"
    },
    {
      "indent": 3,
      "text": "Ryan Moats AT&T 15621 Drexel Circle Omaha, NE 68135-2358 USA",
      "zh-CHS": "瑞安护城河AT&T 15621美国东北部奥马哈德雷克塞尔环路68135-2358"
    },
    {
      "indent": 3,
      "text": "EMail:  jayhawk@att.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "Appendix A. Example Resolution Scripts",
      "section_title": true,
      "zh-CHS": "附录A.解析脚本示例"
    },
    {
      "indent": 3,
      "text": "The following scripts are examples that can be used for resolving URNs in this namespace.",
      "zh-CHS": "以下脚本是可用于解析此命名空间中的URN的示例。"
    },
    {
      "indent": 0,
      "text": "A.1 I2C",
      "section_title": true,
      "zh-CHS": "A.1 I2C"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 URC resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2 URC解析器#"
    },
    {
      "indent": 0,
      "text": "my(%cite) = (\n  bcp => \"/ftp/rfc/bcp-index.txt\",\n  fyi => \"/ftp/fyi/fyi-index.txt\",\n  id => \"/ftp/internet-drafts/1id-abstracts.txt\",\n  rfc => \"/ftp/rfc/rfc-index.txt\",\n  std => \"/ftp/std/std-index.txt\"\n);\nmy(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",\n  40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n  37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n  34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n  31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n  28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n  25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n  22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n  19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};\nmy($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "(&resolveid($1), exit) if ($urn =~ /urn:ietf:id:(\\S+)/i);\n(&resolverfc($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolvemtg($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolvemtg {\n  my($ietfnum, $sesnam) = @_;\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    print \"Status:  200 OK\\r\\n\";\n    print \"Content-type: text/html\\r\\n\\r\\n\";\n    print \"<HTML>\\n<TITLE>Citation for $urn</TITLE>\\n\";\n    print \"<BODY>\\n\";\n    print \"<H1><A HREF=\\\"$link\\\">$urn</A>:</H1>\\n\";\n    print \"Minutes of the $sesnam working group from the \"\n          . &end($ietfnum) . \" IETF\";\n    print \"</BODY>\\n</HTML>\\n\";\n    return;\n  }\n  my($link)=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    print \"Status:  200 OK\\r\\n\";\n    print \"Content-type: text/html\\r\\n\\r\\n\";\n    print \"<HTML>\\n<TITLE>Citation for $urn</TITLE>\\n\";\n    print \"<BODY>\\n\";\n    print \"<H1><A HREF=\\\"$link\\\">$urn</A>:</H1>\\n\";\n    print \"Minutes of the $sesnam working group from the \"\n           . &end($ietfnum) . \" IETF\";\n    print \"</BODY>\\n</HTML>\\n\";\n    return;\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub end {\n  my($inarg)=@_;\n  return $inarg . \"st\" if ($inarg =~ /1$/);\n  return $inarg . \"nd\" if ($inarg =~ /2$/);\n  return $inarg . \"rd\" if ($inarg =~ /3$/);\n  return $inarg . \"th\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolverfc {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme, $value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  if (!defined $cite{$scheme}) {\n    &urn_error(\"404 Not Found\\n\");\n  }",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "$flag = 0;\nopen(INPUT, \"$cite{$scheme}\");\nwhile (<INPUT>) {\n  $flag = 1 if (/^0*$value /);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "  if ($flag == 1) {\n    last if (/^$/);\n    chop;\n    push @bib,$_;\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "if ($scheme ne \"rfc\") {\n  print \"Status:  200 OK\\r\\n\";\n  print \"Content-type: text/html\\r\\n\\r\\n\";\n  $bib[0] =~ s/^[0-9]*\\s*/<B>/;\n  for ($i=0; $i<=$#bib; $i+=1) {\n    last if ($bib[$i] =~ s/\\./.<\\/B>/);\n  }\n  for ($i=0;$i<=$#bib;$i+=1) {\n    $k=$bib[$i];\n    while ($k =~ /(fyi|std|rfc|bcp)([0-9]+)(.*)/i) {\n      push @ref,\"$1$2\";\n      $k=$3;\n    }\n    $done=\"\";\n    foreach $j (@ref) {\n      next if ($done =~ $j);\n      $done .= \"$j \";\n      $l = $j;\n      $l =~ tr/A-Z/a-z/;\n      $link=&make_link(\"$l\");\n      $bib[$i] =~ s/$j/<A HREF=\"$link\">$j<\\/A>/g;\n    }\n  }\n  print \"<HTML>\\n<TITLE>Citation for $urn</TITLE>\\n\";\n  print \"<BODY>\\n\";\n  $link=&make_link(\"$scheme$value\");\n  print \"<H1><A HREF=\\\"$link\\\">$scheme$value</A>:</H1>\\n\";\n  foreach $i (@bib) {\n    print \"$i\\n\";\n  }\n  print \"</BODY>\\n</HTML>\\n\";\n} else {\n  print \"Status:  200 OK\\r\\n\";\n  print \"Content-type: text/html\\r\\n\\r\\n\";\n  $bib[0] =~ s/^[0-9]*\\s*//;\n  $j=0;\n  for ($i=0; $i<=$#bib; $i+=1) {\n    $j += ($bib[$i] =~ s/, \"/, <B>\"/);\n    $j += ($bib[$i] =~ s/\",/\"<\\/B>,/);\n  }\n  for ($i=0;$i<=$#bib;$i+=1) {",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "      $k=$bib[$i];\n      while ($k =~ /(fyi\\s|std\\s|rfc|bcp)([0-9]+)(.*)/i) {\n        push @ref,\"$1$2\";\n        $k=$3;\n      }\n      $done=\"\";\n      foreach $j (@ref) {\n        next if ($done =~ $j);\n        $done .= \"$j \";\n        $l = $j;\n        $l =~ s/\\s//g;\n        $l =~ tr/A-Z/a-z/;\n        $link=&make_link(\"$l\");\n        $bib[$i] =~ s/$j/<A HREF=\"$link\">$j<\\/A>/g;\n      }\n    }\n    print \"<HTML>\\n<TITLE>Citation for $urn</TITLE>\\n\";\n    print \"<BODY>\\n\";\n    $link=&make_link(\"$scheme$value\");\n    print \"<H1><A HREF=\\\"$link\\\">$scheme$value</A>:</H1>\\n\";\n    foreach $i (@bib) {\n      print \"$i\\n\";\n    }\n    print \"</BODY>\\n</HTML>\\n\";\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub make_link {\n  my($sc);\n  my($inarg)=@_;\n  ($sc=$1) if ($inarg =~ /([a-z]*)/);\n  return \"/$sc/$inarg.ps\" if (-e \"/ftp/$sc/$inarg.ps\");\n  return \"/$sc/$inarg.html\" if (-e \"/ftp/$sc/$inarg.html\");\n  return \"/$sc/$inarg.txt\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub urn_error { my($code) = @_; #store failure code here...",
      "zh-CHS": "子urn#U错误{my（$code）=@；#在此处存储故障代码。。。"
    },
    {
      "indent": 2,
      "text": "print \"Status:  $code\";\nprint \"Content-type: text/html\\n\\n<HTML>\\n\";\nprint \"<head><title>URN Resolution: I2C $code</title></head>\\n\";\nprint \"<BODY>\\n\";\nprint \"<h1>URN to URC resolution failed for the URN:</h1>\\n\";\nprint \"<hr><h3>$urn</h3>\\n\";\nprint \"</body>\\n\";\nprint \"</html>\\n\";\nexit;",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "};",
      "zh-CHS": "};"
    },
    {
      "indent": 0,
      "text": "sub resolveid {\n  my($flag,@bib,$i,$k,$j,$count,@ref);\n  my($l,$link, $hdr, $done);\n  my($value) = @_;\n  my($scheme) = \"id\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  open(INPUT, \"$cite{$scheme}\");\n  while (<INPUT>) {\n#\n# capture record\n#\n    if ($flag == 1 || /^\\s+\\\"/) {\n      push @bib,$_;\n      ($hdr = -1, $count = 0, $flag = 1) if (/^\\s+\\\"/);\n      $count++ if (/^\\s+$/);\n    }\n    if ($count == 1) {\n      $hdr = $#bib if ($hdr == -1);\n    }\n    if ($count == 2) {\n      for ($i=0; $i<=$hdr; $i+=1) {\n            if ($bib[$i] =~ /<(.*)>/) {\n              $l = $1;\n              if ($l eq \"draft-$value.txt\" || $l eq \"draft-$value.ps\") {\n                print \"Status:  200 OK\\r\\n\";\n                print \"Content-type: text/html\\r\\n\\r\\n\";\n                print \"<HTML>\\n<TITLE>Citation for $urn</TITLE>\\n\";\n                print \"<BODY>\\n\";\n                print \"<a\nhref=\\\"http://blackhole.vip.att.net/internet-drafts/$l\\\">$l</a>:\\n\";\n                print \"<pre>\\n\";\n                foreach $i (@bib) {\n                  print \"$i\";\n                }\n                print \"</pre>\\n\";\n                print \"</BODY>\\n</HTML>\\n\";\n                exit;\n              }\n            }\n      }\n      $flag = 0;\n      @bib = ();\n    }\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "A.2 I2L",
      "section_title": true,
      "zh-CHS": "A.2 I2L"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 URL resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2 URL解析器#"
    },
    {
      "indent": 0,
      "text": "my(%pathbase) = (\n  rfc => \"rfc/rfc\",\n  fyi => \"fyi/fyi\",\n  std => \"std/std\",\n  bcp => \"bcp/bcp\",\n  id => \"internet-drafts/draft-\"\n);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",\n  40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n  37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n  34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n  31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n  28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n  25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n  22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n  19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};\nmy($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "(&resolveid($1), exit) if ($urn =~ /urn:ietf:id:(\\S+)/i);\n(&resolverfc($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolvemtg($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolvemtg {\n  my($ietfnum, $sesnam) = @_;\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};\n  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    print \"Status:  302 Moved temporarily\\n\";\n    print \"Location: $link\\n\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "    return;\n  }\n  my($link)=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    print \"Status:  302 Moved temporarily\\n\";\n    print \"Location: $link\\n\";\n    return;\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub end {\n  my($inarg)=@_;\n  return $inarg . \"st\" if ($inarg =~ /1$/);\n  return $inarg . \"nd\" if ($inarg =~ /2$/);\n  return $inarg . \"rd\" if ($inarg =~ /3$/);\n  return $inarg . \"th\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolverfc {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme, $value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($txttry)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  my($pstry)=\"/ftp/$pathbase{$scheme}$value.ps\";\n  my($htmltry)=\"/ftp/$pathbase{$scheme}$value.html\";\nMIME_SWITCH: {\n    if ($accept =~ /application\\/postscript/ && -f $pstry) {\n      print \"Status:  302 Moved temporarily\\n\";\n      print \"Location: http://$host/$pathbase{$scheme}$value.ps\\n\\n\";\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /text\\/html/ && -f $htmltry) {\n      print \"Status:  302 Moved temporarily0;\n      print \"Location: http://$host/$pathbase{$scheme}$value.html\\n\\n\";\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/plain/ && -f $txttry) {\n      print \"Status:  302 Moved temporarily\\n\";\n      print \"Location: http://$host/$pathbase{$scheme}$value.txt\\n\\n\";\n      last MIME_SWITCH;\n    }\n    &urn_error(\"404 Not Found\\n\");\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub urn_error { my($code) = @_; #store failure code here...",
      "zh-CHS": "子urn#U错误{my（$code）=@；#在此处存储故障代码。。。"
    },
    {
      "indent": 0,
      "text": "  print \"Status:  $code\";\n  print \"Content-type: text/html\\n\\n<HTML>\\n\";\n  print \"<head><title>URN Resolution: I2L $code</title></head>\\n\";\n  print \"<BODY>\\n\";\n  print \"<h1>URN to URL resolution failed for the URN:</h1>\\n\";\n  print \"<hr><h3>$urn</h3>\\n\";\n  print \"</body>\\n\";\n  print \"</html>\\n\";\n  exit;\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolveid {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme) = \"id\";\n  my($value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($txttry)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  my($pstry)=\"/ftp/$pathbase{$scheme}$value.ps\";\n  my($htmltry)=\"/ftp/$pathbase{$scheme}$value.html\";\nMIME_SWITCH: {\n    if ($accept =~ /application\\/postscript/ && -f $pstry) {\n      print \"Status:  302 Moved temporarily\\n\";\n      print \"Location: http://$host/$pathbase{$scheme}$value.ps\\n\\n\";\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /text\\/html/ && -f $htmltry) {\n      print \"Status:  302 Moved temporarily\\n\";\n      print \"Location: http://$host/$pathbase{$scheme}$value.html\\n\\n\";\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/plain/ && -f $txttry) {\n      print \"Status:  302 Moved temporarily\\n\";\n      print \"Location: http://$host/$pathbase{$scheme}$value.txt\\n\\n\";\n      last MIME_SWITCH;\n    }\n    &urn_error(\"404 Not Found\\n\");\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "A.3 I2Ls",
      "section_title": true,
      "zh-CHS": "A.3 I2Ls"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 URLs resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2 URL解析器#"
    },
    {
      "indent": 0,
      "text": "my(@urls);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%pathbase) = (\n  rfc => \"rfc/rfc\",\n  fyi => \"fyi/fyi\",\n  std => \"std/std\",\n  bcp => \"bcp/bcp\",\n  id => \"internet-drafts/draft-\"\n);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",\n  40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n  37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n  34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n  31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n  28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n  25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n  22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n  19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};\nmy($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "(&resolveid($1), exit) if ($urn =~ /urn:ietf:id:(\\S+)/i);\n(&resolve1($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolve2($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve2 {\n  my($ietfnum, $sesnam) = @_;\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};\n  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";\n  if (-f $link) {",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 4,
      "text": "$link=~s/^\\/ftp\\///;\nmy($ftplink)=\"ftp://$host/$link\";\nmy($httplink)=\"http://$host/$link\";\nmy($glink)=\"gopher://$host:70/0/$link\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "  if ($accept =~ /text\\/uri-list/) { #look for text/uri-list,\n      otherwise text/html\n    print \"Status: 200 OK\\n\";\n    print \"Content-type: text/uri-list\\n\\n\\n\";\n    print \"#$urn\\n\";\n    print \"$ftplink\\n\";\n    print \"$httplink\\n\";\n    print \"$glink\\n\";\n  }\n  if ($accept =~ /\\*\\/\\*|text\\/html/) {\n    print \"Status: 200 OK\\n\";\n    print \"Content-type: text/html\\n\\n<HTML>\\n\";\n    print \"<head><title>URN Resolution: I2Ls</title></head>\\n\";\n    print \"<BODY>\\n\";\n    print \"<h1>URN $urn resolves to the following URLs:</h1>\\n\";\n    print \"<hr><ul>\\n\";\n    print \"<a href=\\\"$ftplink\\\">$ftplink</a>\\n\";\n    print \"<a href=\\\"$httplink\\\">$httplink</a>\\n\";\n    print \"<a href=\\\"$glink\\\">$glink</a>\\n\";\n    print \"</UL>\\n</body>\\n</HTML>\\n\";\n  }\n  return;\n}\nmy($link)=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\nif (-f $link) {\n  $link=~s/^\\/ftp\\///;\n  my($ftplink)=\"ftp://$host/$link\";\n  my($httplink)=\"http://$host/$link\";\n  my($glink)=\"gopher://$host:70/0/$link\";\n  if ($accept =~ /text\\/uri-list/) { #look for text/uri-list,\n      otherwise text/html\n    print \"Status: 200 OK\\n\";\n    print \"Content-type: text/uri-list\\n\\n\\n\";\n    print \"#$urn\\n\";\n    print \"$ftplink\\n\";\n    print \"$httplink\\n\";\n    print \"$glink\\n\";\n  }\n  if ($accept =~ /\\*\\/\\*|text\\/html/) {\n    print \"Status: 200 OK\\n\";\n    print \"Content-type: text/html\\n\\n<HTML>\\n\";\n    print \"<head><title>URN Resolution: I2Ls</title></head>\\n\";\n    print \"<BODY>\\n\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 4,
      "text": "  print \"<h1>URN $urn resolves to the following URLs:</h1>\\n\";\n  print \"<hr><ul>\\n\";\n  print \"<a href=\\\"$ftplink\\\">$ftplink</a>\\n\";\n  print \"<a href=\\\"$httplink\\\">$httplink</a>\\n\";\n  print \"<a href=\\\"$glink\\\">$glink</a>\\n\";\n  print \"</UL>\\n</body>\\n</HTML>\\n\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "    return;\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve1 {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme, $value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($try)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  if (-f $try) {\n    push(@urls, \"http://$host/$pathbase{$scheme}$value.txt\");\n    push(@urls, \"ftp://$host/$pathbase{$scheme}$value.txt\");\n    push(@urls, \"gopher://$host:70/0/$pathbase{$scheme}$value.txt\");\n  }\n  $try=\"/ftp/$pathbase{$scheme}$value.ps\";\n  if (-f $try) {\n    push(@urls, \"http://$host/$pathbase{$scheme}$value.ps\");\n    push(@urls, \"ftp://$host/$pathbase{$scheme}$value.ps\");\n    push(@urls, \"gopher://$host:70/0/$pathbase{$scheme}$value.ps\");\n  }\n  $try=\"/ftp/$pathbase{$scheme}$value.html\";\n  if (-f $try) {\n    push(@urls, \"http://$host/$pathbase{$scheme}$value.html\");\n    push(@urls, \"ftp://$host/$pathbase{$scheme}$value.html\");\n  }",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "&urn_error(\"404 Not Found\\n\") if ($#urls == -1);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "MIME_SWITCH: {\n    if ($accept =~ /text\\/uri-list/) { #look for text/uri-list,\n        otherwise text/html\n      print \"Status: 200 OK\\n\";\n      print \"Content-type: text/uri-list\\n\\n\\n\";\n      print \"#$urn\\n\";\n      foreach $i (@urls) {\n        print \"$i\\n\";\n      }",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "      last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/html/) {\n      print \"Status: 200 OK\\n\";\n      print \"Content-type: text/html\\n\\n<HTML>\\n\";\n      print \"<head><title>URN Resolution: I2Ls</title></head>\\n\";\n      print \"<BODY>\\n\";\n      print \"<h1>URN $urn resolves to the following URLs:</h1>\\n\";\n      print \"<hr><ul>\\n\";\n      foreach $i (@urls) {\n        print \"<LI><A HREF=\\\"$i\\\">$i</A>\\n\";\n      }\n      print \"</UL>\\n</body>\\n</HTML>\\n\";\n      last MIME_SWITCH;\n    }\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub urn_error { my($code) = @_; #store failure code here...",
      "zh-CHS": "子urn#U错误{my（$code）=@；#在此处存储故障代码。。。"
    },
    {
      "indent": 0,
      "text": "  print \"Status: $code\";\n  print \"Content-type: text/html\\n\\n<HTML>\\n\";\n  print \"<head><title>URN Resolution: I2L $code</title></head>\\n\";\n  print \"<BODY>\\n\";\n  print \"<h1>URN to URL resolution failed for the URN:</h1>\\n\";\n  print \"<hr><h3>$urn</h3>\\n\";\n  print \"</body>\\n\";\n  print \"</html>\\n\";\n  exit;\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolveid {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($value) = @_;\n  my($scheme) = \"id\";\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($try)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  if (-f $try) {\n    push(@urls, \"http://$host/$pathbase{$scheme}$value.txt\");\n    push(@urls, \"ftp://$host/$pathbase{$scheme}$value.txt\");\n    push(@urls, \"gopher://$host:70/0/$pathbase{$scheme}$value.txt\");\n  }\n  $try=\"/ftp/$pathbase{$scheme}$value.ps\";\n  if (-f $try) {\n    push(@urls, \"http://$host/$pathbase{$scheme}$value.ps\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "  push(@urls, \"ftp://$host/$pathbase{$scheme}$value.ps\");\n  push(@urls, \"gopher://$host:70/0/$pathbase{$scheme}$value.ps\");\n}\n$try=\"/ftp/$pathbase{$scheme}$value.html\";\nif (-f $try) {\n  push(@urls, \"http://$host/$pathbase{$scheme}$value.html\");\n  push(@urls, \"ftp://$host/$pathbase{$scheme}$value.html\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "&urn_error(\"404 Not Found\\n\") if ($#urls == -1);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "MIME_SWITCH: {\n    if ($accept =~ /text\\/uri-list/) { #look for text/uri-list,\n        otherwise text/html\n      print \"Status: 200 OK\\n\";\n      print \"Content-type: text/uri-list\\n\\n\\n\";\n      print \"#$urn\\n\";\n      foreach $i (@urls) {\n        print \"$i\\n\";\n      }\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/html/) {\n      print \"Status: 200 OK\\n\";\n      print \"Content-type: text/html\\n\\n<HTML>\\n\";\n      print \"<head><title>URN Resolution: I2Ls</title></head>\\n\";\n      print \"<BODY>\\n\";\n      print \"<h1>URN $urn resolves to the following URLs:</h1>\\n\";\n      print \"<hr><ul>\\n\";\n      foreach $i (@urls) {\n        print \"<LI><A HREF=\\\"$i\\\">$i</A>\\n\";\n      }\n      print \"</UL>\\n</body>\\n</HTML>\\n\";\n      last MIME_SWITCH;\n    }\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "A.4 I2Ns",
      "section_title": true,
      "zh-CHS": "A.4 I2Ns"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 URNs resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2 URNs解析器#"
    },
    {
      "indent": 0,
      "text": "my(%cite) = (\n  rfc => \"/ftp/rfc/rfc-index.txt\",\n  fyi => \"/ftp/fyi/fyi-index.txt\",\n  std => \"/ftp/std/std-index.txt\",\n  bcp => \"/ftp/rfc/bcp-index.txt\"\n);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",\n  40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n  37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n  34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n  31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n  28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n  25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n  22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n  19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};\nmy($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($port) = $ENV={'SERVER_PORT'};\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "(&resolve1($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolve2($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve2 {\n  my($ietfnum, $sesnam) = @_;\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};\n  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    if ($accept =~ /text\\/uri-list/) {\n        print \"Status: 200 OK\\n\";\n        print \"Content-type: text/uri-list\\n\\n\\n\";\n        print \"#$urn\\n\";\n        return;\n    }\n    if ($accept =~ /\\*\\/\\*|text]\\/html/) {\n      print \"Status: 200 OK\\n\";\n      print \"Content-type: text/html\\n\\n<HTML>\\n\";\n      print \"<head><title>URN Resolution: I2Ns</title></head>\\n\";\n      print \"<BODY>\\n\";\n      print \"<h1>URN $urn resolves to the following URNs:</h1>\\n\";\n      print \"<hr><ul>\\n\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "      print \"</UL>\\n</body>\\n</HTML>\\n\";\n      return;\n    }\n  }\n  my($link)=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n    if ($accept =~ /text\\/uri-list/) {\n        print \"Status: 200 OK\\n\";\n        print \"Content-type: text/uri-list\\n\\n\\n\";\n        print \"#$urn\\n\";\n        return;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/html/) {\n        print \"Status: 200 OK\\n\";\n        print \"Content-type: text/html\\n\\n<HTML>\\n\";\n        print \"<head><title>URN Resolution: I2Ns</title></head>\\n\";\n        print \"<BODY>\\n\";\n        print \"<h1>URN $urn resolves to the following URNs:</h1>\\n\";\n        print \"<hr><ul>\\n\";\n        print \"</UL>\\n</body>\\n</HTML>\\n\";\n        return;\n    }\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub end {\n  my($inarg)=@_;\n  return $inarg . \"st\" if ($inarg =~ /1$/);\n  return $inarg . \"nd\" if ($inarg =~ /2$/);\n  return $inarg . \"rd\" if ($inarg =~ /3$/);\n  return $inarg . \"th\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve1 {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme, $value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  if (!defined $cite{$scheme}) {\n    &urn_error(\"404 Not Found\\n\");\n  }",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "$flag = 0;\nopen(INPUT, \"$cite{$scheme}\");\nwhile (<INPUT>) {\n  $flag = 1 if (/^0*$value /);\n  if ($flag == 1) {",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "    last if (/^$/);\n    chop;\n    push @bib,$_;\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "$k=join \" \",@bib;\nwhile ($k =~ /(\\S*)\\s*(fyi|std|rfc|bcp)\\s*([0-9]+)(.*)/i) {\n  $k=$4;\n  $a=$2; $b=$3;\n  if (($a ne $scheme || $b ne $value) && ($1 !~ /obso/i)){\n    $a =~ tr/A-Z/a-z/;\n    $b =~ s/^0*//;\n    push @ref,\"urn:ietf:$a:$b\";\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "MIME_SWITCH: {\n    if ($accept =~ /text\\/uri-list/) {\n        print \"Status: 200 OK\\n\";\n        print \"Content-type: text/uri-list\\n\\n\\n\";\n        print \"#$urn\\n\";\n        foreach $i (@ref) {\n            print \"$i\\n\";\n        }\n        last MIME_SWITCH;\n    }\n  if ($accept =~ /\\*\\/\\*|text\\/html/) {\n    print \"Status: 200 OK\\n\";\n    print \"Content-type: text/html\\n\\n<HTML>\\n\";\n    print \"<head><title>URN Resolution: I2Ns</title></head>\\n\";\n    print \"<BODY>\\n\";\n    print \"<h1>URN $urn resolves to the following URNs:</h1>\\n\";\n    print \"<hr><ul>\\n\";\n        foreach $i (@ref) {\n            print \"<li>$i: Click to resolve using\\n\";\n            print \"<a\nhref=\\\"http://$host:$port/uri-res/I2C?$i\\\">I2C</a>,\\n\";\n            print \"<a\nhref=\\\"http://$host:$port/uri-res/I2L?$i\\\">I2L</a>,\\n\";\n            print \"<a\nhref=\\\"http://$host:$port/uri-res/I2Ls?$i\\\">I2Ls</a>,\\n\";\n            print \"<a\nhref=\\\"http://$host:$port/uri-res/I2R?$i\\\">I2R</a>,\\n\";\n            print \"<a\nhref=\\\"http://$host:$port/uri-res/I2Rs?$i\\\">I2Rs</a>\\n\";\n        }\n    print \"</UL>\\n</body>\\n</HTML>\\n\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  }\n}\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub make_link {\n  my($sc);\n  my($inarg)=@_;\n  ($sc=$1) if ($inarg =~ /([a-z]*)/);\n  return \"/$sc/$inarg.ps\" if (-e \"/ftp/$sc/$inarg.ps\");\n  return \"/$sc/$inarg.html\" if (-e \"/ftp/$sc/$inarg.html\");\n  return \"/$sc/$inarg.txt\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub urn_error { my($code) = @_; #store failure code here...",
      "zh-CHS": "子urn#U错误{my（$code）=@；#在此处存储故障代码。。。"
    },
    {
      "indent": 0,
      "text": "  print \"Status: $code\";\n  print \"Content-type: text/html\\n\\n<HTML>\\n\";\n  print \"<head><title>URN Resolution: I2Ns $code</title></head>\\n\";\n  print \"<BODY>\\n\";\n  print \"<h1>URN to URN resolution failed for the URN:</h1>\\n\";\n  print \"<hr><h3>$urn</h3>\\n\";\n  print \"</body>\\n\";\n  print \"</html>\\n\";\n  exit;\n};",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "A.5 I2R",
      "section_title": true,
      "zh-CHS": "A.5 I2R"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 resource resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2资源解析器#"
    },
    {
      "indent": 0,
      "text": "my(%pathbase) = (\n  rfc => \"rfc/rfc\",\n  fyi => \"fyi/fyi\",\n  std => \"std/std\",\n  bcp => \"bcp/bcp\",\n  id => \"internet-drafts/draft-\"\n);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};\nmy($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "print \"$urn\\n\";\n(&resolveid($1), exit) if ($urn =~ /urn:ietf:id:(\\S+)/i);\n(&resolve1($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolve2($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve2 {\n  my($ietfnum, $sesnam) = @_;\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};\n  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n      print \"Status:  200 OK\\n\";\n      print \"Content-type: text/plain\\n\\n\";\n      open(FILE, \"$link\");\n      while (<FILE>) {\n          print $_;\n      }\n      close FILE;\n    return;\n  }\n  my($link)=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\n  if (-f $link) {\n      print \"Status:  200 OK\\n\";\n      print \"Content-type: text/plain\\n\\n\";\n      open(FILE, \"$link\");\n      while (<FILE>) {\n          print $_;\n      }\n      close FILE;\n    return;\n  }\n  &urn_error(\"404 Not Found\\n\");\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub end {\n  my($inarg)=@_;\n  return $inarg . \"st\" if ($inarg =~ /1$/);\n  return $inarg . \"nd\" if ($inarg =~ /2$/);\n  return $inarg . \"rd\" if ($inarg =~ /3$/);\n  return $inarg . \"th\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve1 {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme, $value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($txttry)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  my($pstry)=\"/ftp/$pathbase{$scheme}$value.ps\";\n  my($htmltry)=\"/ftp/$pathbase{$scheme}$value.html\";\nMIME_SWITCH: {\n    if ($accept =~ /application\\/postscript/ && -f $pstry) {\n      print \"Status:  200 OK\\n\";\n      print \"Content-type: application/postscript\\n\\n\";\n      open(FILE, \"$pstry\");\n      while (<FILE>) {\n          print $_;\n      }\n      close FILE;\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /text\\/html/ && -f $htmltry) {\n        print \"Status:  200 OK\\n\";\n        print \"Content-type: text/html\\n\\n\";\n        open(FILE, \"$htmltry\");\n        while (<FILE>) {\n            print $_;\n        }\n        close FILE;\n        last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/plain/ && -f $txttry) {\n        print \"Status:  200 OK\\n\";\n        print \"Content-type: text/plain\\n\\n\";\n        open(FILE, \"$txttry\");\n        while (<FILE>) {\n            print $_;\n        }\n        close FILE;\n        last MIME_SWITCH;\n    }",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "    &urn_error(\"404 Not Found\\n\");\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolveid {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link);\n  my($scheme) = \"id\";\n  my($value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($txttry)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  my($pstry)=\"/ftp/$pathbase{$scheme}$value.ps\";\n  my($htmltry)=\"/ftp/$pathbase{$scheme}$value.html\";\nMIME_SWITCH: {\n    if ($accept =~ /application\\/postscript/ && -f $pstry) {\n      print \"Status:  200 OK\\n\";\n      print \"Content-type: application/postscript\\n\\n\";\n      open(FILE, \"$pstry\");\n      while (<FILE>) {\n          print $_;\n      }\n      close FILE;\n      last MIME_SWITCH;\n    }\n    if ($accept =~ /text\\/html/ && -f $htmltry) {\n        print \"Status:  200 OK\\n\";\n        print \"Content-type: text/html\\n\\n\";\n        open(FILE, \"$htmltry\");\n        while (<FILE>) {\n            print $_;\n        }\n        close FILE;\n        last MIME_SWITCH;\n    }\n    if ($accept =~ /\\*\\/\\*|text\\/plain/ && -f $txttry) {\n        print \"Status:  200 OK\\n\";\n        print \"Content-type: text/plain\\n\\n\";\n        open(FILE, \"$txttry\");\n        while (<FILE>) {\n            print $_;\n        }\n        close FILE;\n        last MIME_SWITCH;\n    }\n    &urn_error(\"404 Not Found\\n\");\n  }\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub urn_error { my($code) = @_; #store failure code here...",
      "zh-CHS": "子urn#U错误{my（$code）=@；#在此处存储故障代码。。。"
    },
    {
      "indent": 0,
      "text": "  print \"Status:  $code\";\n  print \"Content-type: text/html\\n\\n<HTML>\\n\";\n  print \"<head><title>URN Resolution: I2R $code</title></head>\\n\";\n  print \"<BODY>\\n\";\n  print \"<h1>URN to URL resolution failed for the URN:</h1>\\n\";\n  print \"<hr><h3>$urn</h3>\\n\";\n  print \"</body>\\n\";\n  print \"</html>\\n\";\n  exit;\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "A.6 I2Rs",
      "section_title": true,
      "zh-CHS": "A.6 I2Rs"
    },
    {
      "indent": 0,
      "text": "#!/usr/local/bin/perl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "use strict;",
      "zh-CHS": "严格使用；"
    },
    {
      "indent": 0,
      "text": "# # this is a URN 2 resources resolver for the ietf namespace #",
      "zh-CHS": "##这是ietf命名空间的URN 2资源解析器#"
    },
    {
      "indent": 0,
      "text": "my(@urls);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%pathbase) = (\n  rfc => \"rfc/rfc\",\n  fyi => \"fyi/fyi\",\n  std => \"std/std\",\n  bcp => \"bcp/bcp\",\n  id => \"internet-drafts/draft-\"\n);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my(%number2date) = (\n  44 => \"99mar\",\n  43 => \"98dec\", 42 => \"98aug\", 41 => \"98apr\",\n  40 => \"97dec\", 39 => \"97aug\", 38 => \"97apr\",\n  37 => \"96dec\", 36 => \"96jun\", 35 => \"96mar\",\n  34 => \"95dec\", 33 => \"95jul\", 32 => \"95apr\",\n  31 => \"94dec\", 30 => \"94jul\", 29 => \"94mar\",\n  28 => \"93nov\", 27 => \"93jul\", 26 => \"93mar\",\n  25 => \"92nov\", 24 => \"92jul\", 23 => \"92mar\",\n  22 => \"91nov\", 21 => \"91jul\", 20 => \"91mar\",\n  19 => \"90dec\" );",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($wgpath) = \"/ftp/ietf\";\nmy($urn) = $ENV{'QUERY_STRING'};",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "my($host) = $ENV{'SERVER_NAME'}; #get my host name for ftp: URLs\nmy($accept) = $ENV{'HTTP_ACCEPT'}; #this is the \"Accept:\" HTTP header",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "(&resolveid($1), exit) if ($urn =~ /urn:ietf:id:(\\s*)/i);\n(&resolve1($1, $2), exit) if ($urn =~ /urn:ietf:(\\w*):(\\d*)/i);\n(&resolve2($1, $2), exit) if ($urn =~ /urn:ietf:mtg:(\\d*)-(\\w*)/i);\n&urn_error(\"400 Bad Request\\n\");",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve2 {\n  my($ietfnum, $sesnam) = @_;\n  my(@vers,$i);\n  &urn_error(\"404 Not Found\\n\") if (!defined $number2date{$ietfnum});\n  my($date)=$number2date{$ietfnum};\n  my($link)=\"$wgpath/$sesnam/$sesnam-minutes-$date.txt\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "if (-f $link) {\n    push(@vers,$link);\n}\n$link=\"$wgpath/$date/$sesnam-minutes-$date.txt\";\nif (-f $link) {\n    push(@vers,$link);\n}\n&urn_error(\"404 Not Found\\n\") if ($#vers==-1);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  print \"Status: 200 OK\\n\";\n  print \"Content-type: multipart/alternative; boundary=endpart\\n\\n\";\n  foreach $i (@vers) {\n      print \"--endpart\\n\";\n      if ($i =~ /html$/) {\n          print \"Content-Type: text/html\\n\\n\";\n      }\n      if ($i =~ /txt$/) {\n          print \"Content-Type: text/plain\\n\\n\";\n      }\n      if ($i =~ /ps$/) {\n          print \"Content-Type: application/postscript\\n\\n\";\n      }\n      open(FILE, \"$i\");\n      while (<FILE>) {\n          print \"$_\";\n      }\n      close FILE;\n  }\n  print \"--endpart\\n\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolve1 {\n  my($flag,@bib,$i,$k,$j,$done,@ref);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "my($l,$link,@vers);\nmy($scheme, $value) = @_;\n$scheme =~ tr/A-Z/a-z/;\n&urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\nmy($try)=\"/ftp/$pathbase{$scheme}$value.txt\";\nif (-f $try) {\n    push(@vers, $try);\n}\n$try=\"/ftp/$pathbase{$scheme}$value.ps\";\nif (-f $try) {\n    push(@vers, $try);\n}\n$try=\"/ftp/$pathbase{$scheme}$value.html\";\nif (-f $try) {\n    push(@vers, $try);",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  }\n  print \"Status: 200 OK\\n\";\n  print \"Content-type: multipart/alternative; boundary=endpart\\n\\n\";\n  foreach $i (@vers) {\n      print \"--endpart\\n\";\n      if ($i =~ /html$/) {\n          print \"Content-Type: text/html\\n\\n\";\n      }\n      if ($i =~ /txt$/) {\n          print \"Content-Type: text/plain\\n\\n\";\n      }\n      if ($i =~ /ps$/) {\n          print \"Content-Type: application/postscript\\n\\n\";\n      }\n      open(FILE, \"$i\");\n      while (<FILE>) {\n          print \"$_\";\n      }\n      close FILE;\n  }\n  print \"--endpart\\n\";\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "sub resolveid {\n  my($flag,@bib,$i,$k,$j,$done,@ref);\n  my($l,$link,@vers);\n  my($scheme) = \"id\";\n  my($value) = @_;\n  $scheme =~ tr/A-Z/a-z/;\n  &urn_error(\"404 Not Found\\n\")if (!defined $pathbase{$scheme});\n  my($try)=\"/ftp/$pathbase{$scheme}$value.txt\";\n  if (-f $try) {",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "    push(@vers, $try);\n}\n$try=\"/ftp/$pathbase{$scheme}$value.ps\";\nif (-f $try) {\n    push(@vers, $try);\n}\n$try=\"/ftp/$pathbase{$scheme}$value.html\";\nif (-f $try) {\n    push(@vers, $try);\n}\nprint \"Status: 200 OK\\n\";\nprint \"Content-type: multipart/alternative; boundary=endpart\\n\\n\";\nforeach $i (@vers) {\n    print \"--endpart\\n\";\n    if ($i =~ /html$/) {\n        print \"Content-Type: text/html\\n\\n\";",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "      }\n      if ($i =~ /txt$/) {\n          print \"Content-Type: text/plain\\n\\n\";\n      }\n      if ($i =~ /ps$/) {\n          print \"Content-Type: application/postscript\\n\\n\";\n      }\n      open(FILE, \"$i\");\n      while (<FILE>) {\n          print \"$_\";\n      }\n      close FILE;\n  }\n  print \"--endpart\\n\";\n}\nsub urn_error {\n  my($code) = @_; #store failure code here...",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "  print \"Status: $code\";\n  print \"Content-type: text/html\\n\\n<HTML>\\n\";\n  print \"<head><title>URN Resolution: I2Rs $code</title></head>\\n\";\n  print \"<BODY>\\n\";\n  print \"<h1>URN to URL resolution failed for the URN:</h1>\\n\";\n  print \"<hr><h3>$urn</h3>\\n\";\n  print \"</body>\\n\";\n  print \"</html>\\n\";\n  exit;\n}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "Full Copyright Statement",
      "zh-CHS": "完整版权声明"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (1999). All Rights Reserved.",
      "zh-CHS": "版权所有（C）互联网协会（1999年）。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.",
      "zh-CHS": "本文件及其译本可复制并提供给他人，对其进行评论或解释或协助其实施的衍生作品可全部或部分编制、复制、出版和分发，不受任何限制，前提是上述版权声明和本段包含在所有此类副本和衍生作品中。但是，不得以任何方式修改本文件本身，例如删除版权通知或对互联网协会或其他互联网组织的引用，除非出于制定互联网标准的需要，在这种情况下，必须遵循互联网标准过程中定义的版权程序，或根据需要将其翻译成英语以外的其他语言。"
    },
    {
      "indent": 3,
      "text": "The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.",
      "zh-CHS": "上述授予的有限许可是永久性的，互联网协会或其继承人或受让人不会撤销。"
    },
    {
      "indent": 3,
      "text": "This document and the information contained herein is provided on an \"AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.",
      "zh-CHS": "本文件和其中包含的信息是按“原样”提供的，互联网协会和互联网工程任务组否认所有明示或暗示的保证，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。"
    },
    {
      "indent": 0,
      "text": "Acknowledgement",
      "zh-CHS": "确认"
    },
    {
      "indent": 3,
      "text": "Funding for the RFC Editor function is currently provided by the Internet Society.",
      "zh-CHS": "RFC编辑功能的资金目前由互联网协会提供。"
    }
  ]
}