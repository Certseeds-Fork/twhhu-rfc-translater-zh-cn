{
  "title": {
    "text": "RFC 3665:  Session Initiation Protocol (SIP) Basic Call Flow Examples ",
    "zh-CHS": "RFC 3665"
  },
  "number": 3665,
  "created_at": "2021-11-17 15:17:00.984965+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Network Working Group                                        A. Johnston\nRequest for Comments: 3665                                           MCI\nBCP: 75                                                       S. Donovan\nCategory: Best Current Practice                                R. Sparks\n                                                           C. Cunningham\n                                                             dynamicsoft\n                                                              K. Summers\n                                                                   Sonus\n                                                           December 2003",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "Session Initiation Protocol (SIP) Basic Call Flow Examples",
      "zh-CHS": "会话启动协议（SIP）基本呼叫流示例"
    },
    {
      "indent": 0,
      "text": "Status of this Memo",
      "zh-CHS": "本备忘录的状况"
    },
    {
      "indent": 3,
      "text": "This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements. Distribution of this memo is unlimited.",
      "zh-CHS": "本文件规定了互联网社区的最佳现行做法，并要求进行讨论和提出改进建议。本备忘录的分发不受限制。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (2003). All Rights Reserved.",
      "zh-CHS": "版权所有（C）互联网协会（2003年）。版权所有。"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "This document gives examples of Session Initiation Protocol (SIP) call flows. Elements in these call flows include SIP User Agents and Clients, SIP Proxy and Redirect Servers. Scenarios include SIP Registration and SIP session establishment. Call flow diagrams and message details are shown.",
      "zh-CHS": "本文档给出了会话启动协议（SIP）调用流的示例。这些调用流中的元素包括SIP用户代理和客户端、SIP代理和重定向服务器。场景包括SIP注册和SIP会话建立。显示了呼叫流程图和消息详细信息。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1.  Overview . . . . . . . . . . . . . . . . . . . . . . . . . . .  2\n    1.1.  General Assumptions. . . . . . . . . . . . . . . . . . .  3\n    1.2.  Legend for Message Flows . . . . . . . . . . . . . . . .  3\n    1.3.  SIP Protocol Assumptions . . . . . . . . . . . . . . . .  4\n2.  SIP Registration . . . . . . . . . . . . . . . . . . . . . . .  4\n    2.1.  Successful New Registration. . . . . . . . . . . . . . .  5\n    2.2.  Update of Contact List . . . . . . . . . . . . . . . . .  7\n    2.3.  Request for Current Contact List . . . . . . . . . . . .  8\n    2.4.  Cancellation of Registration . . . . . . . . . . . . . .  9\n    2.5.  Unsuccessful Registration. . . . . . . . . . . . . . . . 10\n3.  SIP Session Establishment. . . . . . . . . . . . . . . . . . . 12\n    3.1.  Successful Session Establishment . . . . . . . . . . . . 12\n    3.2.  Session Establishment Through Two Proxies. . . . . . . . 15\n    3.3.  Session with Multiple Proxy Authentication . . . . . . . 26\n    3.4.  Successful Session with Proxy Failure. . . . . . . . . . 37\n    3.5.  Session Through a SIP ALG. . . . . . . . . . . . . . . . 46\n    3.6.  Session via Redirect and Proxy Servers with SDP in ACK . 54\n    3.7.  Session with re-INVITE (IP Address Change) . . . . . . . 61\n    3.8.  Unsuccessful No Answer . . . . . . . . . . . . . . . . . 67\n    3.9.  Unsuccessful Busy. . . . . . . . . . . . . . . . . . . . 75\n    3.10. Unsuccessful No Response from User Agent . . . . . . . . 80\n    3.11. Unsuccessful Temporarily Unavailable . . . . . . . . . . 85\n4.  Security Considerations. . . . . . . . . . . . . . . . . . . . 91\n5.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 91\n    5.1.  Normative References . . . . . . . . . . . . . . . . . . 91\n    5.2.  Informative References . . . . . . . . . . . . . . . . . 91\n6.  Intellectual Property Statement. . . . . . . . . . . . . . . . 91\n7.  Acknowledgments. . . . . . . . . . . . . . . . . . . . . . . . 92\n8.  Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 93\n9.  Full Copyright Statement . . . . . . . . . . . . . . . . . . . 94",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Overview",
      "section_title": true,
      "zh-CHS": "1. 概述"
    },
    {
      "indent": 3,
      "text": "The call flows shown in this document were developed in the design of a SIP IP communications network. They represent an example minimum set of functionality.",
      "zh-CHS": "本文档中显示的呼叫流是在SIP IP通信网络的设计中开发的。它们代表了一组最小功能的示例。"
    },
    {
      "indent": 3,
      "text": "It is the hope of the authors that this document will be useful for SIP implementers, designers, and protocol researchers alike and will help further the goal of a standard implementation of RFC 3261 [1]. These flows represent carefully checked and working group reviewed scenarios of the most basic examples as a companion to the specifications.",
      "zh-CHS": "作者希望本文档对SIP实施者、设计者和协议研究人员都有用，并有助于进一步实现RFC 3261[1]的标准实现目标。这些流程代表了经过仔细检查和工作组审查的最基本示例场景，作为规范的配套。"
    },
    {
      "indent": 3,
      "text": "These call flows are based on the current version 2.0 of SIP in RFC 3261 [1] with SDP usage described in RFC 3264 [2]. Other RFCs also comprise the SIP standard but are not used in this set of basic call flows.",
      "zh-CHS": "这些调用流基于RFC 3261[1]中当前版本2.0的SIP，使用RFC 3264[2]中描述的SDP。其他RFC也包括SIP标准，但不在这组基本呼叫流中使用。"
    },
    {
      "indent": 3,
      "text": "Call flow examples of SIP interworking with the PSTN through gateways are contained in a companion document, RFC 3666 [5].",
      "zh-CHS": "SIP通过网关与PSTN互通的呼叫流示例包含在配套文件RFC 3666[5]中。"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in BCP 14, RFC 2119 [4].",
      "zh-CHS": "本文件中的关键词“必须”、“不得”、“要求”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照BCP 14、RFC 2119[4]中的描述进行解释。"
    },
    {
      "indent": 0,
      "text": "1.1. General Assumptions",
      "section_title": true,
      "zh-CHS": "1.1. 一般假设"
    },
    {
      "indent": 3,
      "text": "A number of architecture, network, and protocol assumptions underlie the call flows in this document. Note that these assumptions are not requirements. They are outlined in this section so that they may be taken into consideration and to aid in the understanding of the call flow examples.",
      "zh-CHS": "本文档中的调用流基于许多体系结构、网络和协议假设。请注意，这些假设不是要求。本节对它们进行了概述，以便考虑它们，并帮助理解调用流示例。"
    },
    {
      "indent": 3,
      "text": "The authentication of SIP User Agents in these example call flows is performed using HTTP Digest as defined in [1] and [3].",
      "zh-CHS": "这些示例调用流中SIP用户代理的身份验证使用[1]和[3]中定义的HTTP摘要执行。"
    },
    {
      "indent": 3,
      "text": "Some Proxy Servers in these call flows insert Record-Route headers into requests to ensure that they are in the signaling path for future message exchanges.",
      "zh-CHS": "这些调用流中的一些代理服务器将记录路由头插入到请求中，以确保它们位于未来消息交换的信令路径中。"
    },
    {
      "indent": 3,
      "text": "These flows show TCP, TLS, and UDP for transport. See the discussion in RFC 3261 for details on the transport issues for SIP.",
      "zh-CHS": "这些流显示用于传输的TCP、TLS和UDP。有关SIP传输问题的详细信息，请参阅RFC 3261中的讨论。"
    },
    {
      "indent": 0,
      "text": "1.2. Legend for Message Flows",
      "section_title": true,
      "zh-CHS": "1.2. 消息流的图例"
    },
    {
      "indent": 3,
      "text": "Dashed lines (---) represent signaling messages that are mandatory to\nthe call scenario.  These messages can be SIP or PSTN signaling.  The\narrow indicates the direction of message flow.",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Double dashed lines (===) represent media paths between network elements.",
      "zh-CHS": "双虚线（==）表示网络元素之间的媒体路径。"
    },
    {
      "indent": 3,
      "text": "Messages with parentheses around their name represent optional messages.",
      "zh-CHS": "名称周围带有括号的消息表示可选消息。"
    },
    {
      "indent": 3,
      "text": "Messages are identified in the Figures as F1, F2, etc. This references the message details in the list that follows the Figure. Comments in the message details are shown in the following form:",
      "zh-CHS": "消息在图中标识为F1、F2等。这参考了图后列表中的消息详细信息。消息详细信息中的注释如下表所示："
    },
    {
      "indent": 4,
      "text": "/* Comments. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1.3. SIP Protocol Assumptions",
      "section_title": true,
      "zh-CHS": "1.3. SIP协议假设"
    },
    {
      "indent": 3,
      "text": "This document does not prescribe the flows precisely as they are shown, but rather the flows illustrate the principles for best practice. They are best practices usages (orderings, syntax, selection of features for the purpose, handling of error) of SIP methods, headers and parameters. IMPORTANT: The exact flows here must not be copied as is by an implementer due to specific incorrect characteristics that were introduced into the document for convenience and are listed below. To sum up, the basic flows represent well-reviewed examples of SIP usage, which are best common practice according to IETF consensus.",
      "zh-CHS": "本文件并未严格规定流程，而是说明了最佳实践的原则。它们是SIP方法、头和参数的最佳实践用法（顺序、语法、功能选择、错误处理）。重要提示：由于为方便起见在文档中引入了特定的不正确特征，因此实施者不得复制此处的确切流程，如下所示。综上所述，基本流程代表了经过充分审查的SIP使用示例，根据IETF共识，这些示例是最佳通用实践。"
    },
    {
      "indent": 3,
      "text": "For simplicity in reading and editing the document, there are a number of differences between some of the examples and actual SIP messages. For example, the HTTP Digest responses are not actual MD5 encodings. Call-IDs are often repeated, and CSeq counts often begin at 1. Header fields are usually shown in the same order. Usually only the minimum required header field set is shown, others that would normally be present such as Accept, Supported, Allow, etc are not shown.",
      "zh-CHS": "为便于阅读和编辑文档，一些示例与实际的SIP消息之间存在许多差异。例如，HTTP摘要响应不是实际的MD5编码。呼叫ID经常重复，CSeq计数通常从1开始。标题字段通常以相同的顺序显示。通常只显示所需的最小标题字段集，而不显示通常存在的其他字段，如接受、支持、允许等。"
    },
    {
      "indent": 3,
      "text": "Actors:",
      "zh-CHS": "演员："
    },
    {
      "indent": 3,
      "text": "Element       Display Name   URI                         IP Address\n-------       ------------   ---                         ----------",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "User Agent Alice alice@atlanta.example.com 192.0.2.101 User Agent Bob bob@biloxi.example.com 192.0.2.201 User Agent bob@chicago.example.com 192.0.2.100 Proxy Server ss1.atlanta.example.com 192.0.2.111 Proxy/Registrar ss2.biloxi.example.com 192.0.2.222 Proxy Server ss3.chicago.example.com 192.0.2.233 ALG alg1.atlanta.example.com 192.0.2.128",
      "zh-CHS": "用户代理Alicealice@atlanta.example.com192.0.2.101用户代理Bobbob@biloxi.example.com192.0.2.201用户代理bob@chicago.example.com192.0.2.100代理服务器ss1.atlanta.example.com 192.0.2.111代理/注册器ss2.biloxi.example.com 192.0.2.222代理服务器ss3.chicago.example.com 192.0.2.233 ALG ALG alg1.atlanta.example.com 192.0.2.128"
    },
    {
      "indent": 0,
      "text": "2. SIP Registration",
      "section_title": true,
      "zh-CHS": "2. SIP注册"
    },
    {
      "indent": 3,
      "text": "Registration binds a particular device Contact URI with a SIP user Address of Record (AOR).",
      "zh-CHS": "注册将特定设备联系人URI与SIP用户记录地址（AOR）绑定。"
    },
    {
      "indent": 0,
      "text": "2.1. Successful New Registration",
      "section_title": true,
      "zh-CHS": "2.1. 新注册成功"
    },
    {
      "indent": 4,
      "text": "Bob                        SIP Server\n |                               |\n |          REGISTER F1          |\n |------------------------------>|\n |      401 Unauthorized F2      |\n |<------------------------------|\n |          REGISTER F3          |\n |------------------------------>|\n |            200 OK F4          |\n |<------------------------------|\n |                               |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Bob sends a SIP REGISTER request to the SIP server. The request includes the user's contact list. This flow shows the use of HTTP Digest for authentication using TLS transport. TLS transport is used due to the lack of integrity protection in HTTP Digest and the danger of registration hijacking without it, as described in RFC 3261 [1]. The SIP server provides a challenge to Bob. Bob enters her/his valid user ID and password. Bob's SIP client encrypts the user information according to the challenge issued by the SIP server and sends the response to the SIP server. The SIP server validates the user's credentials. It registers the user in its contact database and returns a response (200 OK) to Bob's SIP client. The response includes the user's current contact list in Contact headers. The format of the authentication shown is HTTP digest. It is assumed that Bob has not previously registered with this Server.",
      "zh-CHS": "Bob向SIP服务器发送SIP注册请求。请求包括用户的联系人列表。此流显示使用TLS传输使用HTTP摘要进行身份验证。如RFC 3261[1]所述，由于HTTP摘要中缺乏完整性保护，并且没有完整性保护存在注册劫持的危险，因此使用TLS传输。SIP服务器向Bob提供了一个挑战。Bob输入她/他的有效用户ID和密码。Bob的SIP客户端根据SIP服务器发出的质询对用户信息进行加密，并将响应发送到SIP服务器。SIP服务器验证用户的凭据。它在联系人数据库中注册用户，并向Bob的SIP客户端返回响应（200OK）。响应包括联系人标题中的用户当前联系人列表。显示的身份验证格式是HTTP摘要。假设Bob以前没有在此服务器上注册。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 REGISTER Bob -> SIP Server",
      "zh-CHS": "F1注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContact: <sips:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 401 Unauthorized SIP Server -> Bob",
      "zh-CHS": "F2 401未经授权的SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 401 Unauthorized\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>;tag=1410948204\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nWWW-Authenticate: Digest realm=\"atlanta.example.com\", qop=\"auth\",\n nonce=\"ea9c8e88df84f1cec4341ae6cbe5a359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 REGISTER Bob -> SIP Server",
      "zh-CHS": "F3注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashd92\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=ja743ks76zlflH\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 2 REGISTER\nContact: <sips:bob@client.biloxi.example.com>\nAuthorization: Digest username=\"bob\", realm=\"atlanta.example.com\"\n nonce=\"ea9c8e88df84f1cec4341ae6cbe5a359\", opaque=\"\",\n uri=\"sips:ss2.biloxi.example.com\",\n response=\"dfe56131d1958046689d83306477ecc\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 200 OK SIP Server -> Bob",
      "zh-CHS": "F4 200正常SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashd92\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=ja743ks76zlflH\nTo: Bob <sips:bob@biloxi.example.com>;tag=37GkEhwl6\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 2 REGISTER\nContact: <sips:bob@client.biloxi.example.com>;expires=3600\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "2.2. Update of Contact List",
      "section_title": true,
      "zh-CHS": "2.2. 更新联络名单"
    },
    {
      "indent": 3,
      "text": "Bob                        SIP Server\n  |                               |\n  |          REGISTER F1          |\n  |------------------------------>|\n  |            200 OK F2          |\n  |<------------------------------|\n  |                               |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Bob wishes to update the list of addresses where the SIP server will redirect or forward INVITE requests.",
      "zh-CHS": "Bob希望更新SIP服务器将重定向或转发INVITE请求的地址列表。"
    },
    {
      "indent": 3,
      "text": "Bob sends a SIP REGISTER request to the SIP server. Bob's request includes an updated contact list. Since the user already has authenticated with the server, the user supplies authentication credentials with the request and is not challenged by the server. The SIP server validates the user's credentials. It registers the user in its contact database, updates the user's contact list, and returns a response (200 OK) to Bob's SIP client. The response includes the user's current contact list in Contact headers.",
      "zh-CHS": "Bob向SIP服务器发送SIP注册请求。Bob的请求包括更新的联系人列表。由于用户已经使用服务器进行了身份验证，因此用户向请求提供身份验证凭据，并且不会受到服务器的质疑。SIP服务器验证用户的凭据。它在其联系人数据库中注册用户，更新用户的联系人列表，并向Bob的SIP客户端返回响应（200OK）。响应包括联系人标题中的用户当前联系人列表。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 REGISTER Bob -> SIP Server",
      "zh-CHS": "F1注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContact: mailto:bob@biloxi.example.com\nAuthorization: Digest username=\"bob\", realm=\"atlanta.example.com\",\n qop=\"auth\", nonce=\"1cec4341ae6cbe5a359ea9c8e88df84f\", opaque=\"\",\n uri=\"sips:ss2.biloxi.example.com\",\n response=\"71ba27c64bd01de719686aa4590d5824\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 200 OK SIP Server -> Bob",
      "zh-CHS": "F2 200正常SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>;tag=34095828jh",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContact: <sips:bob@client.biloxi.example.com>;expires=3600\nContact: <mailto:bob@biloxi.example.com>;expires=4294967295\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "2.3. Request for Current Contact List",
      "section_title": true,
      "zh-CHS": "2.3. 请求当前联系人列表"
    },
    {
      "indent": 3,
      "text": "Bob                        SIP Server\n  |                               |\n  |          REGISTER F1          |\n  |------------------------------>|\n  |            200 OK F2          |\n  |<------------------------------|\n  |                               |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Bob sends a register request to the Proxy Server containing no Contact headers, indicating the user wishes to query the server for the user's current contact list. Since the user already has authenticated with the server, the user supplies authentication credentials with the request and is not challenged by the server. The SIP server validates the user's credentials. The server returns a response (200 OK) which includes the user's current registration list in Contact headers.",
      "zh-CHS": "Bob向代理服务器发送一个注册请求，该请求不包含联系人头，表示用户希望向服务器查询用户的当前联系人列表。由于用户已经使用服务器进行了身份验证，因此用户向请求提供身份验证凭据，并且不会受到服务器的质疑。SIP服务器验证用户的凭据。服务器返回一个响应（200 OK），其中包括联系人标题中的用户当前注册列表。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 REGISTER Bob -> SIP Server",
      "zh-CHS": "F1注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nAuthorization: Digest username=\"bob\", realm=\"atlanta.example.com\",\n nonce=\"df84f1cec4341ae6cbe5ap359a9c8e88\", opaque=\"\",\n uri=\"sips:ss2.biloxi.example.com\",\n response=\"aa7ab4678258377c6f7d4be6087e2f60\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 200 OK SIP Server -> Bob",
      "zh-CHS": "F2 200正常SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "From: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>;tag=jqoiweu75\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContact: <sips:bob@client.biloxi.example.com>;expires=3600\nContact: <mailto:bob@biloxi.example.com>;expires=4294967295\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "2.4. Cancellation of Registration",
      "section_title": true,
      "zh-CHS": "2.4. 注销登记"
    },
    {
      "indent": 3,
      "text": "Bob                         SIP Server\n  |                               |\n  |          REGISTER F1          |\n  |------------------------------>|\n  |            200 OK F2          |\n  |<------------------------------|\n  |                               |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Bob wishes to cancel their registration with the SIP server. Bob sends a SIP REGISTER request to the SIP server. The request has an expiration period of 0 and applies to all existing contact locations. Since the user already has authenticated with the server, the user supplies authentication credentials with the request and is not challenged by the server. The SIP server validates the user's credentials. It clears the user's contact list, and returns a response (200 OK) to Bob's SIP client.",
      "zh-CHS": "Bob希望取消他们在SIP服务器上的注册。Bob向SIP服务器发送SIP注册请求。该请求的过期期限为0，适用于所有现有联系人位置。由于用户已经使用服务器进行了身份验证，因此用户向请求提供身份验证凭据，并且不会受到服务器的质疑。SIP服务器验证用户的凭据。它清除用户的联系人列表，并向Bob的SIP客户端返回响应（200OK）。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 REGISTER Bob -> SIP Server",
      "zh-CHS": "F1注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nExpires: 0\nContact: *\nAuthorization: Digest username=\"bob\", realm=\"atlanta.example.com\",\n nonce=\"88df84f1cac4341aea9c8ee6cbe5a359\", opaque=\"\",\n uri=\"sips:ss2.biloxi.example.com\",\n response=\"ff0437c51696f9a76244f0cf1dbabbea\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 200 OK SIP Server -> Bob",
      "zh-CHS": "F2 200正常SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>;tag=1418nmdsrf\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "2.5. Unsuccessful Registration",
      "section_title": true,
      "zh-CHS": "2.5. 注册失败"
    },
    {
      "indent": 3,
      "text": "Bob                        SIP Server\n  |                               |\n  |          REGISTER F1          |\n  |------------------------------>|\n  |      401 Unauthorized F2      |\n  |<------------------------------|\n  |          REGISTER F3          |\n  |------------------------------>|\n  |      401 Unauthorized F4      |\n  |<------------------------------|\n  |                               |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Bob sends a SIP REGISTER request to the SIP Server. The SIP server provides a challenge to Bob. Bob enters her/his user ID and password. Bob's SIP client encrypts the user information according to the challenge issued by the SIP server and sends the response to the SIP server. The SIP server attempts to validate the user's credentials, but they are not valid (the user's password does not match the password established for the user's account). The server returns a response (401 Unauthorized) to Bob's SIP client.",
      "zh-CHS": "Bob向SIP服务器发送SIP注册请求。SIP服务器向Bob提供了一个挑战。Bob输入她/他的用户ID和密码。Bob的SIP客户端根据SIP服务器发出的质询对用户信息进行加密，并将响应发送到SIP服务器。SIP服务器尝试验证用户的凭据，但这些凭据无效（用户的密码与为用户帐户建立的密码不匹配）。服务器向Bob的SIP客户端返回响应（401未经授权）。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 REGISTER Bob -> SIP Server",
      "zh-CHS": "F1注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nContact: <sips:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 Unauthorized SIP Server -> Bob",
      "zh-CHS": "F2未经授权的SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 401 Unauthorized\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=a73kszlfl\nTo: Bob <sips:bob@biloxi.example.com>;tag=1410948204\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 1 REGISTER\nWWW-Authenticate: Digest realm=\"atlanta.example.com\", qop=\"auth\",\n nonce=\"f1cec4341ae6ca9c8e88df84be55a359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 REGISTER Bob -> SIP Server",
      "zh-CHS": "F3注册Bob->SIP服务器"
    },
    {
      "indent": 3,
      "text": "REGISTER sips:ss2.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashd92\nMax-Forwards: 70\nFrom: Bob <sips:bob@biloxi.example.com>;tag=JueHGuidj28dfga\nTo: Bob <sips:bob@biloxi.example.com>\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 2 REGISTER\nContact: <sips:bob@client.biloxi.example.com>\nAuthorization: Digest username=\"bob\", realm=\"atlanta.example.com\",\n nonce=\"f1cec4341ae6ca9c8e88df84be55a359\", opaque=\"\",\n uri=\"sips:ss2.biloxi.example.com\",\n response=\"61f8470ceb87d7ebf508220214ed438b\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/*  The response above encodes the incorrect password */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 401 Unauthorized SIP Server -> Bob",
      "zh-CHS": "F4 401未经授权的SIP服务器->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 401 Unauthorized\nVia: SIP/2.0/TLS client.biloxi.example.com:5061;branch=z9hG4bKnashd92\n ;received=192.0.2.201\nFrom: Bob <sips:bob@biloxi.example.com>;tag=JueHGuidj28dfga\nTo: Bob <sips:bob@biloxi.example.com>;tag=1410948204\nCall-ID: 1j9FpLxk3uxtm8tn@biloxi.example.com\nCSeq: 2 REGISTER\nWWW-Authenticate: Digest realm=\"atlanta.example.com\", qop=\"auth\",\n nonce=\"84f1c1ae6cbe5ua9c8e88dfa3ecm3459\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3. SIP Session Establishment",
      "section_title": true,
      "zh-CHS": "3. SIP会话建立"
    },
    {
      "indent": 3,
      "text": "This section details session establishment between two SIP User Agents (UAs): Alice and Bob. Alice (sip:alice@atlanta.example.com) and Bob (sip:bob@biloxi.example.com) are assumed to be SIP phones or SIP-enabled devices. The successful calls show the initial signaling, the exchange of media information in the form of SDP payloads, the establishment of the media session, then finally the termination of the call.",
      "zh-CHS": "本节详细介绍两个SIP用户代理（UAs）之间的会话建立：Alice和Bob。艾丽斯（sip:alice@atlanta.example.com)及鲍伯(sip:bob@biloxi.example.com)假定为SIP电话或支持SIP的设备。成功的呼叫显示初始信令、以SDP有效负载形式交换媒体信息、建立媒体会话，然后最终终止呼叫。"
    },
    {
      "indent": 3,
      "text": "HTTP Digest authentication is used by Proxy Servers to authenticate the caller Alice. It is assumed that Bob has registered with Proxy Server Proxy 2 as per Section 2 to be able to receive the calls via the Proxy.",
      "zh-CHS": "代理服务器使用HTTP摘要身份验证对调用方进行身份验证。假设Bob已根据第2节向代理服务器Proxy 2注册，以便能够通过代理接收呼叫。"
    },
    {
      "indent": 0,
      "text": "3.1. Successful Session Establishment",
      "section_title": true,
      "zh-CHS": "3.1. 成功建立会议"
    },
    {
      "indent": 3,
      "text": "Alice                     Bob\n  |                        |\n  |       INVITE F1        |\n  |----------------------->|\n  |    180 Ringing F2      |\n  |<-----------------------|\n  |                        |\n  |       200 OK F3        |\n  |<-----------------------|\n  |         ACK F4         |\n  |----------------------->|\n  |   Both Way RTP Media   |\n  |<======================>|\n  |                        |\n  |         BYE F5         |\n  |<-----------------------|\n  |       200 OK F6        |\n  |----------------------->|\n  |                        |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice completes a call to Bob directly.",
      "zh-CHS": "在此场景中，Alice直接完成对Bob的调用。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Bob",
      "zh-CHS": "F1邀请Alice->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 180 Ringing Bob -> Alice",
      "zh-CHS": "F2 180响铃鲍勃->爱丽丝"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=8321234356\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 200 OK Bob -> Alice",
      "zh-CHS": "F3 200 OK Bob->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=8321234356\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 ACK Alice -> Bob",
      "zh-CHS": "F4确认爱丽丝->鲍勃"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bd5\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=8321234356\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob Hangs Up with Alice. Note that the CSeq is NOT 2, since\n   Alice and Bob maintain their own independent CSeq counts.\n   (The INVITE was request 1 generated by Alice, and the BYE is\n   request 1 generated by Bob) */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 BYE Bob -> Alice",
      "zh-CHS": "F5再见Bob->Alice"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\nMax-Forwards: 70\nFrom: Bob <sip:bob@biloxi.example.com>;tag=8321234356\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 200 OK Alice -> Bob",
      "zh-CHS": "F6 200 OK Alice->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sip:bob@biloxi.example.com>;tag=8321234356\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.2. Session Establishment Through Two Proxies",
      "section_title": true,
      "zh-CHS": "3.2. 通过两个代理建立会话"
    },
    {
      "indent": 3,
      "text": "Alice           Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|                |                |\n  |     407 F2     |                |                |\n  |<---------------|                |                |\n  |     ACK F3     |                |                |\n  |--------------->|                |                |\n  |   INVITE F4    |                |                |\n  |--------------->|   INVITE F5    |                |\n  |     100  F6    |--------------->|   INVITE F7    |\n  |<---------------|     100  F8    |--------------->|\n  |                |<---------------|                |\n  |                |                |     180 F9     |\n  |                |    180 F10     |<---------------|\n  |     180 F11    |<---------------|                |\n  |<---------------|                |     200 F12    |\n  |                |    200 F13     |<---------------|\n  |     200 F14    |<---------------|                |\n  |<---------------|                |                |\n  |     ACK F15    |                |                |\n  |--------------->|    ACK F16     |                |\n  |                |--------------->|     ACK F17    |\n  |                |                |--------------->|\n  |                Both Way RTP Media                |\n  |<================================================>|\n  |                |                |     BYE F18    |\n  |                |    BYE F19     |<---------------|\n  |     BYE F20    |<---------------|                |\n  |<---------------|                |                |\n  |     200 F21    |                |                |\n  |--------------->|     200 F22    |                |\n  |                |--------------->|     200 F23    |\n  |                |                |--------------->|\n  |                |                |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice completes a call to Bob using two proxies Proxy 1 and Proxy 2. The initial INVITE (F1) contains a pre-loaded Route header with the address of Proxy 1 (Proxy 1 is configured as a default outbound proxy for Alice). The request does not contain the Authorization credentials Proxy 1 requires, so a 407 Proxy Authorization response is sent containing the challenge information. A new INVITE (F4) is then sent containing the correct credentials and the call proceeds. The call terminates when Bob disconnects by initiating a BYE message.",
      "zh-CHS": "在这个场景中，Alice使用两个代理Proxy 1和Proxy 2完成对Bob的调用。初始INVITE（F1）包含一个预加载的路由头，地址为代理1（代理1被配置为Alice的默认出站代理）。请求不包含Proxy 1所需的授权凭据，因此将发送包含质询信息的407 Proxy授权响应。然后发送包含正确凭据的新邀请（F4），呼叫继续。当Bob通过启动BYE消息断开连接时，呼叫终止。"
    },
    {
      "indent": 3,
      "text": "Proxy 1 inserts a Record-Route header into the INVITE message to ensure that it is present in all subsequent message exchanges. Proxy 2 also inserts itself into the Record-Route header. The ACK (F15) and BYE (F18) both have a Route header.",
      "zh-CHS": "代理1在INVITE消息中插入一个记录路由头，以确保它出现在所有后续消息交换中。代理2还将自身插入到记录路由头中。ACK（F15）和BYE（F18）都有一个路由头。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 challenges Alice for authentication */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 407 Proxy Authorization Required Proxy 1 -> Alice",
      "zh-CHS": "F2407需要代理授权代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 407 Proxy Authorization Required\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=3flal12sf\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 INVITE\nProxy-Authenticate: Digest realm=\"atlanta.example.com\", qop=\"auth\",\n nonce=\"f84f1cec41e6cbe5aea9c8e88d359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 ACK Alice -> Proxy 1",
      "zh-CHS": "F3确认爱丽丝->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=3flal12sf\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice responds be re-sending the INVITE with authentication\n   credentials in it. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Alice -> Proxy 1",
      "zh-CHS": "F4邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"wf84f1ceczx41ae6cbe5aea9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"42ce3cef44b22f50c6a6071bc8\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 accepts the credentials and forwards the INVITE to Proxy\n2.  Client for Alice prepares to receive data on port 49172 from the\nnetwork. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F5邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F6 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F7邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F8 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F9 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 180 Ringing Proxy 2 -> Proxy 1",
      "zh-CHS": "F10 180振铃代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 180 Ringing Proxy 1 -> Alice",
      "zh-CHS": "F11 180振铃代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 200 OK Bob -> Proxy 2",
      "zh-CHS": "F12 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Contact: <sip:bob@client.biloxi.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 200 OK Proxy 2 -> Proxy 1",
      "zh-CHS": "F13 200 OK Proxy 2->Proxy 1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 200 OK Proxy 1 -> Alice",
      "zh-CHS": "F14 200 OK Proxy 1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 ACK Alice -> Proxy 1",
      "zh-CHS": "F15确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b76\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>,\n <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F16确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b76\n ;received=192.0.2.101\nMax-Forwards: 69\nRoute: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F17 ACK Proxy 2 -> Bob",
      "zh-CHS": "F17确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Via: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b76\n ;received=192.0.2.101\nMax-Forwards: 68\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 2 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob Hangs Up with Alice. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Again, note that the CSeq is NOT 3.  Alice and Bob maintain\n   their own separate CSeq counts */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F18 BYE Bob -> Proxy 2",
      "zh-CHS": "F18再见Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\nMax-Forwards: 70\nRoute: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F19 BYE Proxy 2 -> Proxy 1",
      "zh-CHS": "F19通过代理2->代理1"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nMax-Forwards: 69\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F20 BYE Proxy 1 -> Alice",
      "zh-CHS": "拜拜代理1->Alice"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nMax-Forwards: 68\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F21 200 OK Alice -> Proxy 1",
      "zh-CHS": "F21 200 OK Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F22 200 OK Proxy 1 -> Proxy 2",
      "zh-CHS": "F22 200 OK Proxy 1->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.101\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F23 200 OK Proxy 2 -> Bob",
      "zh-CHS": "F23 200 OK Proxy 2->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 3848276298220188511@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.3. Session with Multiple Proxy Authentication",
      "section_title": true,
      "zh-CHS": "3.3. 具有多代理身份验证的会话"
    },
    {
      "indent": 5,
      "text": "Alice        Proxy 1     Proxy 2         Bob\n  |            |           |             |\n  |  INVITE F1 |           |             |\n  |----------->|           |             |\n  |  407 Proxy Authorization Required F2 |\n  |<-----------|           |             |\n  |   ACK F3   |           |             |\n  |----------->|           |             |\n  |  INVITE F4 |           |             |\n  |----------->|           |             |\n  |   100 F5   |           |             |\n  |<-----------| INVITE F6 |             |\n  |            |---------->|             |\n  |            |  407 Proxy Authorization Required F7\n  |            |<----------|             |\n  |            |   ACK F8  |             |\n  |            |---------->|             |\n  |  407 Proxy Authorization Required F9 |\n  |<-----------|           |             |\n  |   ACK F10  |           |             |\n  |----------->|           |             |\n  |  INVITE F11|           |             |\n  |----------->|           |             |\n  |   100 F12  |           |             |\n  |<-----------| INVITE F13|             |\n  |            |---------->|             |\n  |            |  100 F14  |             |\n  |            |<----------|  INVITE F15 |\n  |            |           |------------>|\n  |            |           | 200 OK F16  |\n  |            | 200 OK F17|<------------|\n  | 200 OK F18 |<----------|             |\n  |<-----------|           |             |\n  |   ACK F19  |           |             |\n  |----------->|  ACK F20  |             |\n  |            |---------->|   ACK F21   |\n  |            |           |------------>|\n  |           RTP Media Path             |\n  |<====================================>|",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice completes a call to Bob using two proxies Proxy 1 and Proxy 2. Alice has valid credentials in both domains. Since the initial INVITE (F1) does not contain the Authorization credentials Proxy 1 requires, so a 407 Proxy Authorization response is sent containing the challenge information. A new INVITE (F4) is",
      "zh-CHS": "在这个场景中，Alice使用两个代理Proxy 1和Proxy 2完成对Bob的调用。Alice在两个域中都有有效的凭据。由于初始邀请（F1）不包含代理1所需的授权凭据，因此发送包含质询信息的407代理授权响应。新的邀请（F4）是"
    },
    {
      "indent": 3,
      "text": "then sent containing the correct credentials and the call proceeds after Proxy 2 challenges and receives valid credentials. The call terminates when Bob disconnects by initiating a BYE message.",
      "zh-CHS": "然后发送包含正确凭据的消息，并在代理2质询并接收有效凭据后继续呼叫。当Bob通过启动BYE消息断开连接时，呼叫终止。"
    },
    {
      "indent": 3,
      "text": "Proxy 1 inserts a Record-Route header into the INVITE message to ensure that it is present in all subsequent message exchanges. Proxy 2 also inserts itself into the Record-Route header.",
      "zh-CHS": "代理1在INVITE消息中插入一个记录路由头，以确保它出现在所有后续消息交换中。代理2还将自身插入到记录路由头中。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b03\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 challenges Alice for authentication */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 407 Proxy Authorization Required Proxy 1 -> Alice",
      "zh-CHS": "F2407需要代理授权代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 407 Proxy Authorization Required\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b03\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=876321\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nProxy-Authenticate: Digest realm=\"atlanta.example.com\", qop=\"auth\",\n nonce=\"wf84f1cczx41ae6cbeaea9ce88d359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 ACK Alice -> Proxy 1",
      "zh-CHS": "F3确认爱丽丝->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nMax-Forwards: 70\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b03\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=876321\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice responds be re-sending the INVITE with authentication\n   credentials in it.  The same Call-ID is used, so the CSeq is\n   increased. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Alice -> Proxy 1",
      "zh-CHS": "F4邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"wf84f1ceczx41ae6cbe5aea9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"42ce3cef44b22f50c6a6071bc8\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 accepts the credentials and forwards the INVITE to Proxy\n2.  Client for Alice prepares to receive data on port 49172 from the\nnetwork. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F5 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F6邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 2 challenges Alice for authentication */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 407 Proxy Authorization Required Proxy 2 -> Proxy 1",
      "zh-CHS": "F7 407需要代理授权代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 407 Proxy Authorization Required\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\n ;received=192.0.2.101",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=838209\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nProxy-Authenticate: Digest realm=\"biloxi.example.com\", qop=\"auth\",\n nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F8确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=838209\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 forwards the challenge to Alice for authentication from\nProxy 2 */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 407 Proxy Authorization Required Proxy 1 -> Alice",
      "zh-CHS": "F9 407需要代理授权代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 407 Proxy Authorization Required\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=838209\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nProxy-Authenticate: Digest realm=\"biloxi.example.com\", qop=\"auth\",\n nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 ACK Alice -> Proxy 1",
      "zh-CHS": "F10确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b21\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=838209\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "CSeq: 2 ACK\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"wf84f1ceczx41ae6cbe5aea9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"42ce3cef44b22f50c6a6071bc8\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice responds be re-sending the INVITE with authentication\ncredentials for Proxy 1 AND Proxy 2.  */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 INVITE Alice -> Proxy 1",
      "zh-CHS": "F11邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"wf84f1ceczx41ae6cbe5aea9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"42ce3cef44b22f50c6a6071bc8\"\nProxy-Authorization: Digest username=\"alice\",\n realm=\"biloxi.example.com\",\n nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\", response=\"f44ab22f150c6a56071bce8\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 1 finds its credentials and authorizes Alice, forwarding the\nINVITE to Proxy.  */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F12 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F13邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"biloxi.example.com\",\n nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\", response=\"f44ab22f150c6a56071bce8\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 2 finds its credentials and authorizes Alice, forwarding the\nINVITE to Bob.  */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F14 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F15邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK31972.1\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob answers the call immediately */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 200 OK Bob -> Proxy 2",
      "zh-CHS": "F16 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK31972.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=9103874\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F17 200 OK Proxy 2 -> Proxy 1",
      "zh-CHS": "F17 200 OK Proxy 2->Proxy 1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=9103874\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0 o=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com s=-",
      "zh-CHS": "v=0 o=IP4 client.biloxi.example.com中的bob 2890844527 2890844527=-"
    },
    {
      "indent": 3,
      "text": "c=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F18 200 OK Proxy 1 -> Alice",
      "zh-CHS": "F18 200 OK Proxy 1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=9103874\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F19 ACK Alice -> Proxy 1",
      "zh-CHS": "F19确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0 Via: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b44 Max-Forwards: 70 Route: <sip:ss1.atlanta.example.com;lr>, <sip:ss2.biloxi.example.com;lr> From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl To: Bob <sip:bob@biloxi.example.com>;tag=9103874 Call-ID: 2xTb9vxSit55XU7p8@atlanta.example.com CSeq: 3 ACK Proxy-Authorization: Digest username=\"alice\", realm=\"atlanta.example.com\", nonce=\"wf84f1ceczx41ae6cbe5aea9c8e88d359\", opaque=\"\", uri=\"sip:bob@biloxi.example.com\", response=\"42ce3cef44b22f50c6a6071bc8\" Proxy-Authorization: Digest username=\"alice\", realm=\"biloxi.example.com\",",
      "zh-CHS": "确认sip：bob@client.biloxi.example.comSIP/2.0 Via:SIP/2.0/UDP client.atlanta.example.com:5060；branch=z9hG4bK74b44最大转发：70路由：<sip:ss1.atlanta.example.com；lr>，<sip:ss2.biloxi.example.com；lr>From:Alice<sip:alice@atlanta.example.com>;标记=9fxced76sl至：Bob<sip:bob@biloxi.example.com>;tag=9103874呼叫ID:2xTb9vxSit55XU7p8@atlanta.example.comCSeq:3确认代理授权：摘要username=“alice”，realm=“atlanta.example.com”，nonce=“wf84f1ceczx41ae6cbe5aea9c8e88d359”，不透明=”“，uri=“sip:bob@biloxi.example.com，response=“42ce3cef44b22f50c6a6071bc8”代理授权：摘要用户名=“alice”，realm=“biloxi.example.com”，"
    },
    {
      "indent": 3,
      "text": " nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\", response=\"f44ab22f150c6a56071bce8\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F20 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b44\n ;received=192.0.2.101\nMax-Forwards: 69\nRoute: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=9103874\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 ACK\nContact: <sip:bob@client.biloxi.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"biloxi.example.com\",\n nonce=\"c1e22c41ae6cbe5ae983a9c8e88d359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\", response=\"f44ab22f150c6a56071bce8\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F21 ACK Proxy 2 -> Bob",
      "zh-CHS": "确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK31972.1\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK230f2.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b44\n ;received=192.0.2.101\nMax-Forwards: 68\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=9103874\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 3 ACK\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.4. Successful Session with Proxy Failure",
      "section_title": true,
      "zh-CHS": "3.4. 会话成功，但代理失败"
    },
    {
      "indent": 4,
      "text": "Alice           Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|                |                |\n  |   INVITE F2    |                |                |\n  |--------------->|                |                |\n  |   INVITE F3    |                |                |\n  |--------------->|                |                |\n  |   INVITE F4    |                |                |\n  |--------------->|                |                |\n  |   INVITE F5    |                |                |\n  |--------------->|                |                |\n  |   INVITE F6    |                |                |\n  |--------------->|                |                |\n  |   INVITE F7    |                |                |\n  |--------------->|                |                |\n  |     INVITE F8                   |                |\n  |-------------------------------->|                |\n  |            407 F9               |                |\n  |<--------------------------------|                |\n  |             ACK F10             |                |\n  |-------------------------------->|                |\n  |           INVITE F11            |                |\n  |-------------------------------->|   INVITE F12   |\n  |             100  F13            |--------------->|\n  |<--------------------------------|                |\n  |                                 |     180 F14    |\n  |             180 F15             |<---------------|\n  |<--------------------------------|                |\n  |                                 |     200 F16    |\n  |             200 F17             |<---------------|\n  |<--------------------------------|                |\n  |             ACK F18             |                |\n  |-------------------------------->|     ACK F19    |\n  |                                 |--------------->|\n  |                Both Way RTP Media                |\n  |<================================================>|\n  |                                 |     BYE F20    |\n  |             BYE F21             |<---------------|\n  |<--------------------------------|                |\n  |             200 F22             |                |\n  |-------------------------------->|     200 F23    |\n  |                                 |--------------->|\n  |                                 |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice completes a call to Bob via a Proxy Server. Alice is configured for a primary SIP Proxy Server Proxy 1 and a secondary SIP Proxy Server Proxy 2 (Or is able to use DNS SRV records to locate Proxy 1 and Proxy 2). Alice has valid credentials for both domains. Proxy 1 is out of service and does not respond to INVITEs (it is reachable, but unresponsive). Alice then completes the call to Bob using Proxy 2.",
      "zh-CHS": "在此场景中，Alice通过代理服务器完成对Bob的调用。Alice配置为主SIP代理服务器代理1和辅助SIP代理服务器代理2（或者能够使用DNS SRV记录定位代理1和代理2）。Alice具有两个域的有效凭据。代理1已停止服务，不响应邀请（可以访问，但无响应）。然后，Alice使用代理2完成对Bob的调用。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK465b6d\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Alice -> Proxy 1",
      "zh-CHS": "F2邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "F3 INVITE Alice -> Proxy 1",
      "zh-CHS": "F3邀请Alice->代理1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "F4 INVITE Alice -> Proxy 1",
      "zh-CHS": "F4邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "F5 INVITE Alice -> Proxy 1",
      "zh-CHS": "F5邀请Alice->代理1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "F6 INVITE Alice -> Proxy 1",
      "zh-CHS": "F6邀请Alice->代理1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "F7 INVITE Alice -> Proxy 1",
      "zh-CHS": "F7邀请Alice->代理1"
    },
    {
      "indent": 3,
      "text": "Same as Message F1",
      "zh-CHS": "与消息F1相同"
    },
    {
      "indent": 3,
      "text": "/* Alice gives up on the unresponsive proxy */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 INVITE Alice -> Proxy 2",
      "zh-CHS": "F8邀请Alice->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b8a\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 2 challenges Alice for authentication */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 407 Proxy Authorization Required Proxy 2 -> Alice",
      "zh-CHS": "F9 407需要代理授权代理2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 407 Proxy Authorization Required\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b8a\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=2421452",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 INVITE\nProxy-Authenticate: Digest realm=\"biloxi.example.com\", qop=\"auth\",\n nonce=\"1ae6cbe5ea9c8e8df84fqnlec434a359\",\n opaque=\"\", stale=FALSE, algorithm=MD5\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 ACK Alice -> Proxy 2",
      "zh-CHS": "F10确认->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b8a\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=2421452\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice responds by re-sending the INVITE with authentication\ncredentials in it.  */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 INVITE Alice -> Proxy 2",
      "zh-CHS": "F11邀请Alice->Proxy 2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"biloxi.example.com\",\n nonce=\"1ae6cbe5ea9c8e8df84fqnlec434a359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"8a880c919d1a52f20a1593e228adf599\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Proxy 2 accepts the credentials and forwards the INVITE to Bob.\nClient for Alice prepares to receive data on port 49172 from the\nnetwork.\n*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F12邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 100 Trying Proxy 2 -> Alice",
      "zh-CHS": "F13 100正在尝试代理2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F14 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Via: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 180 Ringing Proxy 2 -> Alice",
      "zh-CHS": "F15 180振铃代理2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 200 OK Bob -> Proxy 2",
      "zh-CHS": "F16 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F17 200 OK Proxy 2 -> Alice",
      "zh-CHS": "F17 200 OK Proxy 2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F18 ACK Alice -> Proxy 2",
      "zh-CHS": "F18确认->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b8g\nMax-Forwards: 70\nRoute: <sip:ss2.biloxi.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 2 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F19 ACK Proxy 2 -> Bob",
      "zh-CHS": "F19确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b8g\n ;received=192.0.2.101\nMax-Forwards: 69\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "CSeq: 2 ACK Content-Length: 0",
      "zh-CHS": "CSeq:2确认内容长度：0"
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob Hangs Up with Alice. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F20 BYE Bob -> Proxy 2",
      "zh-CHS": "再见Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/UDP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\nMax-Forwards: 70\nRoute: <sip:ss2.biloxi.example.com;lr>\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F21 BYE Proxy 2 -> Alice",
      "zh-CHS": "再见代理2->Alice"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nMax-Forwards: 69\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F22 200 OK Alice -> Proxy 2",
      "zh-CHS": "F22 200 OK Alice->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F23 200 OK Proxy 2 -> Bob",
      "zh-CHS": "F23 200 OK Proxy 2->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.biloxi.example.com:5060;branch=z9hG4bKnashds7\n ;received=192.0.2.201\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 4Fde34wkd11wsGFDs3@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.5. Session Through a SIP ALG",
      "section_title": true,
      "zh-CHS": "3.5. 通过sipalg的会话"
    },
    {
      "indent": 3,
      "text": "Alice             ALG           Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|   INVITE F2    |                |\n  |     100 F3     |--------------->|   INVITE F4    |\n  |<---------------|     100 F5     |--------------->|\n  |                |<---------------|      180 F6    |\n  |                |     180 F7     |<---------------|\n  |     180 F8     |<---------------|                |\n  |<---------------|                |      200 F9    |\n  |                |    200 F10     |<---------------|\n  |     200 F11    |<---------------|                |\n  |<---------------|                                 |\n  |     ACK F12    |                                 |\n  |--------------->|             ACK F13             |\n  |                |-------------------------------->|\n  |    RTP Media   |        Both Way RTP Media       |\n  |<==============>|<===============================>|\n  |     BYE F14    |                                 |\n  |--------------->|             BYE F15             |\n  |                |-------------------------------->|\n  |                |             200 F16             |\n  |     200 F17    |<--------------------------------|\n  |<---------------|                                 |\n  |                |                                 |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Alice completes a call to Bob through a ALG (Application Layer Gateway) and a SIP Proxy. The routing through the ALG is accomplished using a pre-loaded Route header in the INVITE F1. Note that the media stream setup is not end-to-end - the ALG terminates both media streams and bridges them. This is done by the ALG modifying the SDP in the INVITE (F1) and 200 OK (F10) messages, and possibly any 18x or ACK messages containing SDP.",
      "zh-CHS": "Alice通过ALG（应用层网关）和SIP代理完成对Bob的调用。通过ALG的路由是使用INVITE F1中预加载的路由头完成的。请注意，媒体流设置不是端到端的-ALG终止两个媒体流并桥接它们。这是通过ALG修改INVITE（F1）和200 OK（F10）消息中的SDP来完成的，可能还有任何包含SDP的18x或ACK消息。"
    },
    {
      "indent": 3,
      "text": "In addition to firewall traversal, this Back-to-Back User Agent (B2BUA) could be used as part of an anonymizer service (in which all identifying information on Alice would be removed), or to perform codec media conversion, such as mu-law to A-law conversion of PCM on an international call.",
      "zh-CHS": "除防火墙穿越外，此背对背用户代理（B2BUA）还可作为匿名服务的一部分使用（在匿名服务中，Alice上的所有标识信息将被删除），或执行编解码器媒体转换，例如在国际通话中PCM的mu-law到A-law转换。"
    },
    {
      "indent": 3,
      "text": "Also note that Proxy 2 does not Record-Route in this call flow.",
      "zh-CHS": "还请注意，代理2不记录此调用流中的路由。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> SIP ALG",
      "zh-CHS": "F1邀请Alice->SIP ALG"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nRoute: <sip:alg1.atlanta.example.com;lr>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"biloxi.example.com\",\n nonce=\"85b4f1cen4341ae6cbe5a3a9c8e88df9\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"b3f392f9218a328b9294076d708e6815\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Client for Alice prepares to receive data on port 49172 from the\nnetwork. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE SIP ALG -> Proxy 2",
      "zh-CHS": "F2邀请SIP ALG->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1 Via: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 ;received=192.0.2.101 Max-Forwards: 69 Record-Route: <sip:alg1.atlanta.example.com;lr> From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl To: Bob <sip:bob@biloxi.example.com> Call-ID: 2xTb9vxSit55XU7p8@atlanta.example.com CSeq: 1 INVITE Contact: <sip:alice@client.atlanta.example.com> Proxy-Authorization: Digest username=\"alice\", realm=\"biloxi.example.com\",",
      "zh-CHS": "邀请sip：bob@biloxi.example.comSIP/2.0 Via:SIP/2.0/UDP alg1.atlanta.example.com:5060；branch=z9hG4bK739578.1 Via:SIP/2.0/UDP client.atlanta.example.com:5060；分支=z9hG4bK74bf9；接收=192.0.2.101最大转发：69记录路由：<sip:alg1.atlanta.example.com；lr>From:Alice<sip:alice@atlanta.example.com>;标记=9fxced76sl至：Bob<sip:bob@biloxi.example.com>呼叫ID:2xTb9vxSit55XU7p8@atlanta.example.comCSeq:1邀请联系人：<sip:alice@client.atlanta.example.com>代理授权：Digest username=“alice”，realm=“biloxi.example.com”，"
    },
    {
      "indent": 3,
      "text": " nonce=\"85b4f1cen4341ae6cbe5a3a9c8e88df9\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"b3f392f9218a328b9294076d708e6815\"\nContent-Type: application/sdp\nContent-Length: 150",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.128\nt=0 0\nm=audio 2000 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying SIP ALG -> Alice",
      "zh-CHS": "F3 100尝试SIP ALG->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* SIP ALG prepares to proxy data from port 192.0.2.128/2000 to\n192.0.2.101/49172.   Proxy 2 uses a Location Service function to\ndetermine where Bob is located. Based upon location analysis the call\nis forwarded to Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F4邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Content-Length: 150",
      "zh-CHS": "内容长度：150"
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.128\nt=0 0\nm=audio 2000 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 2 -> SIP ALG",
      "zh-CHS": "F5 100正在尝试代理2->SIP ALG"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F6 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 180 Ringing Proxy 2 -> SIP ALG",
      "zh-CHS": "F7 180振铃代理2->SIP ALG"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Via: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 180 Ringing SIP ALG -> Alice",
      "zh-CHS": "F8 180响铃SIP ALG->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 200 OK Bob -> Proxy 2",
      "zh-CHS": "F9 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0 o=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com s=- c=IN IP4 192.0.2.201 t=0 0",
      "zh-CHS": "v=0 o=IP4 client.biloxi.example.com中的bob 2890844527 2890844527 s=-c=IP4 192.0.2.201 t=0"
    },
    {
      "indent": 3,
      "text": "m=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 200 OK Proxy 2 -> SIP ALG",
      "zh-CHS": "F10 200正常代理2->SIP ALG"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 200 OK SIP ALG -> Alice",
      "zh-CHS": "F11 200正常SIP ALG->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0 o=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com s=- c=IN IP4 192.0.2.128 t=0 0",
      "zh-CHS": "v=0 o=IP4 client.biloxi.example.com中的bob 2890844527 2890844527 s=-c=IP4 192.0.2.128 t=0"
    },
    {
      "indent": 3,
      "text": "m=audio 1734 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* The ALG prepares to proxy packets from 192.0.2.128/\n   1734 to 192.0.2.201/3456 */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 ACK Alice -> SIP ALG",
      "zh-CHS": "F12确认->SIP ALG"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bhh\nMax-Forwards: 70\nRoute: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 ACK SIP ALG -> Bob",
      "zh-CHS": "F13确认SIP ALG->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bhh\n ;received=192.0.2.101\nMax-Forwards: 69\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and the ALG and\nbetween the ALG and B*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice Hangs Up with Bob. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 BYE Alice -> SIP ALG",
      "zh-CHS": "F14再见Alice->SIP ALG"
    },
    {
      "indent": 3,
      "text": "BYE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74be5\nMax-Forwards: 70\nRoute: <sip:alg1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "CSeq: 2 BYE Content-Length: 0",
      "zh-CHS": "CSeq:2字节内容长度：0"
    },
    {
      "indent": 3,
      "text": "F15 BYE SIP ALG -> Bob",
      "zh-CHS": "F15再见SIP ALG->Bob"
    },
    {
      "indent": 3,
      "text": "BYE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74be5\n ;received=192.0.2.101\nMax-Forwards: 69\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 200 OK Bob -> SIP ALG",
      "zh-CHS": "F16 200正常Bob->SIP ALG"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP alg1.atlanta.example.com:5060;branch=z9hG4bK739578.1\n ;received=192.0.2.128\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74be5\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F17 200 OK SIP ALG -> Alice",
      "zh-CHS": "F17 200正常SIP ALG->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74be5\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.6. Session via Redirect and Proxy Servers with SDP in ACK",
      "section_title": true,
      "zh-CHS": "3.6. 通过重定向和代理服务器与确认中的SDP进行会话"
    },
    {
      "indent": 3,
      "text": "Alice        Redirect Server     Proxy 3             Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|                |                |\n  |     302 F2     |                |                |\n  |<---------------|                |                |\n  |     ACK F3     |                |                |\n  |--------------->|                |                |\n  |     INVITE F4                   |                |\n  |-------------------------------->|    INVITE F5   |\n  |             100  F6             |--------------->|\n  |<--------------------------------|      180 F7    |\n  |             180 F8              |<---------------|\n  |<--------------------------------|                |\n  |                                 |     200 F9     |\n  |             200 F10             |<---------------|\n  |<--------------------------------|                |\n  |             ACK F11             |                |\n  |-------------------------------->|     ACK F12    |\n  |                                 |--------------->|\n  |                Both Way RTP Media                |\n  |<================================================>|\n  |                                 |     BYE F13    |\n  |             BYE F14             |<---------------|\n  |<--------------------------------|                |\n  |             200 F15             |                |\n  |-------------------------------->|     200 F16    |\n  |                                 |--------------->|\n  |                                 |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice places a call to Bob using first a Redirect server then a Proxy Server. The INVITE message is first sent to the Redirect Server. The Server returns a 302 Moved Temporarily response (F2) containing a Contact header with Bob's current SIP address. Alice then generates a new INVITE and sends to Bob via the Proxy Server and the call proceeds normally. In this example, no SDP is present in the INVITE, so the SDP is carried in the ACK message.",
      "zh-CHS": "在这个场景中，Alice首先使用重定向服务器，然后使用代理服务器调用Bob。INVITE消息首先发送到重定向服务器。服务器返回302移动临时响应（F2），其中包含带有Bob当前SIP地址的联系人头。Alice然后生成一个新的INVITE并通过代理服务器发送给Bob，调用正常进行。在本例中，INVITE中不存在SDP，因此SDP在ACK消息中携带。"
    },
    {
      "indent": 3,
      "text": "The call is terminated when Bob sends a BYE message.",
      "zh-CHS": "当Bob发送BYE消息时，呼叫终止。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Redirect Server",
      "zh-CHS": "F1邀请Alice->重定向服务器"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bKbf9f44\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 302 Moved Temporarily Redirect Proxy -> Alice",
      "zh-CHS": "F2 302临时移动重定向代理->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 302 Moved Temporarily\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bKbf9f44\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=53fHlqlQ2\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@chicago.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 ACK Alice -> Redirect Server",
      "zh-CHS": "F3确认Alice->重定向服务器"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bKbf9f44\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=53fHlqlQ2\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Alice -> Proxy 3",
      "zh-CHS": "F4邀请Alice->Proxy 3"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@chicago.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "CSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 INVITE Proxy 3 -> Bob",
      "zh-CHS": "F5邀请代理3->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.chicago.example.com SIP/2.0\nVia: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 100 Trying Proxy 3 -> Alice",
      "zh-CHS": "F6 100正在尝试代理3->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 180 Ringing Bob -> Proxy 3",
      "zh-CHS": "F7 180振铃鲍勃->代理3"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\n ;received=192.0.2.233\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.chicago.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 180 Ringing Proxy 3 -> Alice",
      "zh-CHS": "F8 180振铃代理3->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.chicago.example.com;transport=tcp>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 200 OK Bob -> Proxy 3",
      "zh-CHS": "F9 200 OK Bob->Proxy 3"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\n ;received=192.0.2.233\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.chicago.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 148",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.chicago.example.com\ns=-\nc=IN IP4 192.0.2.100\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 200 OK Proxy -> Alice",
      "zh-CHS": "F10 200 OK Proxy->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 INVITE\nContact: <sip:bob@client.chicago.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 148",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.chicago.example.com\ns=-\nc=IN IP4 192.0.2.100\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* ACK contains SDP of Alice since none present in INVITE */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 ACK Alice -> Proxy 3",
      "zh-CHS": "F11确认->代理3"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.chicago.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bq9\nMax-Forwards: 70\nRoute: <sip:ss3.chicago.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 ACK\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 ACK Proxy 3 -> Bob",
      "zh-CHS": "F12确认代理3->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.chicago.example.com SIP/2.0\nVia: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bq9\n ;received=192.0.2.101\nMax-Forwards: 69\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Call-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 ACK\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob Hangs Up with Alice. */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 BYE Bob -> Proxy 3",
      "zh-CHS": "F13再见Bob->Proxy 3"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP client.chicago.example.com:5060;branch=z9hG4bKfgaw2\nMax-Forwards: 70\nRoute: <sip:ss3.chicago.example.com;lr>\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 BYE Proxy 3 -> Alice",
      "zh-CHS": "F14拜拜代理3->Alice"
    },
    {
      "indent": 3,
      "text": "BYE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\n ;received=192.0.2.100\nVia: SIP/2.0/TCP client.chicago.example.com:5060;branch=z9hG4bKfgaw2\nMax-Forwards: 69\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 200 OK Alice -> Proxy 3",
      "zh-CHS": "F15 200 OK Alice->Proxy 3"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK",
      "zh-CHS": "SIP/2.0 200正常"
    },
    {
      "indent": 3,
      "text": "Via: SIP/2.0/TCP ss3.chicago.example.com:5060;branch=z9hG4bK721e.1\n ;received=192.0.2.233\nVia: SIP/2.0/TCP client.chicago.example.com:5060;branch=z9hG4bKfgaw2\n ;received=192.0.2.100\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 200 OK Proxy 3 -> Bob",
      "zh-CHS": "F16 200 OK Proxy 3->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/TCP client.chicago.example.com:5060;branch=z9hG4bKfgaw2\n ;received=192.0.2.100\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.7. Session with re-INVITE (IP Address Change)",
      "section_title": true,
      "zh-CHS": "3.7. 重新邀请会话（IP地址更改）"
    },
    {
      "indent": 5,
      "text": "Alice                Proxy 2                Bob\n   |   F1 INVITE        |                    |\n   |------------------->|      F2 INVITE     |\n   |   F3 100 Trying    |------------------->|\n   |<-------------------|   F4 180 Ringing   |\n   |   F5 180 Ringing   |<-------------------|\n   |<-------------------|                    |\n   |                    |    F6 200 OK       |\n   |    F7 200 OK       |<-------------------|\n   |<-------------------|                    |\n   |                 F8  ACK                 |\n   |---------------------------------------->|\n   |      Both Way RTP Media Established     |\n   |<=======================================>|\n   |                                         |\n   |           Bob changes IP address        |\n   |                                         |\n   |                 F9 INVITE               |\n   |<----------------------------------------|\n   |                F10 200 OK               |\n   |---------------------------------------->|\n   |                 F11  ACK                |\n   |<----------------------------------------|\n   |         New RTP Media Stream            |\n   |<=======================================>|\n   |                 F12 BYE                 |\n   |---------------------------------------->|\n   |               F13 200 OK                |\n   |<----------------------------------------|\n   |                                         |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "This example shows a session in which the media changes midway through the session. When Bob's IP address changes during the session, Bob sends a re-INVITE containing a new Contact and SDP (version number incremented) information to A. In this flow, the proxy does not Record-Route so is not in the SIP messaging path after the initial exchange.",
      "zh-CHS": "此示例显示了一个会话，在该会话中，媒体会在会话中途更改。当Bob的IP地址在会话期间发生更改时，Bob会向a发送一个包含新联系人和SDP（版本号增加）信息的重新邀请。在此流中，代理不会记录路由，因此在初始交换后不在SIP消息传递路径中。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 2",
      "zh-CHS": "F1邀请Alice->Proxy 2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F2邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying Proxy 2 -> Alice",
      "zh-CHS": "F3 100正在尝试代理2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F4 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 180 Ringing Proxy 2 -> Alice",
      "zh-CHS": "F5 180振铃代理2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 200 OK Bob -> Proxy 2",
      "zh-CHS": "F6 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "To: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 200 OK Proxy 2 -> Alice",
      "zh-CHS": "F7 200 OK Proxy 2->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Type: application/sdp\nContent-Length: 147",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844527 IN IP4 client.biloxi.example.com\ns=-\nc=IN IP4 192.0.2.201\nt=0 0\nm=audio 3456 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 ACK Alice -> Bob",
      "zh-CHS": "F8确认爱丽丝->鲍勃"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74b7b\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* RTP streams are established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Bob changes IP address and re-INVITEs Alice with new Contact and\nSDP */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 INVITE Bob -> Alice",
      "zh-CHS": "F9邀请Bob->Alice"
    },
    {
      "indent": 3,
      "text": "INVITE sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/UDP client.chicago.example.com:5060;branch=z9hG4bKlkld5l\nMax-Forwards: 70\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 14 INVITE\nContact: <sip:bob@client.chicago.example.com>\nContent-Type: application/sdp\nContent-Length: 149",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=bob 2890844527 2890844528 IN IP4 client.chicago.example.com\ns=-\nc=IN IP4 192.0.2.100\nt=0 0\nm=audio 47172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 200 OK Alice -> Bob",
      "zh-CHS": "F10 200 OK Alice->Bob"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.chicago.example.com:5060;branch=z9hG4bKlkld5l\n ;received=192.0.2.100\nMax-Forwards: 70\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 14 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 150",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0 o=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com s=- c=IN IP4 192.0.2.101 t=0 0",
      "zh-CHS": "v=0 o=IP4 client.atlanta.example.com中的alice 2890844526 2890844526 IP4 192.0.2.101中的s=-c=t=0"
    },
    {
      "indent": 3,
      "text": "m=audio 1000 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 ACK Bob -> Alice",
      "zh-CHS": "F11确认鲍勃->爱丽丝"
    },
    {
      "indent": 3,
      "text": "ACK sip:alice@client.atlanta.example.com SIP/2.0\nVia: SIP/2.0/UDP client.chicago.example.com:5060;branch=z9hG4bKlkldcc\nMax-Forwards: 70\nFrom: Bob <sip:bob@biloxi.example.com>;tag=314159\nTo: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 14 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* New RTP stream established between Alice and Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/* Alice hangs up with Bob */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 BYE Alice -> Bob",
      "zh-CHS": "F12再见爱丽丝->鲍勃"
    },
    {
      "indent": 3,
      "text": "BYE sip:bob@client.chicago.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bo4\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 200 OK Bob -> Alice",
      "zh-CHS": "F13 200 OK Bob->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bo4\n ;received=192.0.2.101\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 2 BYE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.8. Unsuccessful No Answer",
      "section_title": true,
      "zh-CHS": "3.8. 没有回答"
    },
    {
      "indent": 3,
      "text": "Alice           Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|   INVITE F2    |                |\n  |     100  F3    |--------------->|   INVITE F4    |\n  |<---------------|     100  F5    |--------------->|\n  |                |<---------------|                |\n  |                |                |      180 F6    |\n  |                |     180 F7     |<---------------|\n  |     180 F8     |<---------------|                |\n  |<---------------|                |                |\n  |   CANCEL F9    |                |                |\n  |--------------->|                |                |\n  |     200 F10    |                |                |\n  |<---------------|   CANCEL F11   |                |\n  |                |--------------->|                |\n  |                |     200 F12    |                |\n  |                |<---------------|                |\n  |                |                |   CANCEL F13   |\n  |                |                |--------------->|\n  |                |                |     200 F14    |\n  |                |                |<---------------|\n  |                |                |     487 F15    |\n  |                |                |<---------------|\n  |                |                |     ACK F16    |\n  |                |     487 F17    |--------------->|\n  |                |<---------------|                |\n  |                |     ACK F18    |                |\n  |     487 F19    |--------------->|                |\n  |<---------------|                |                |\n  |     ACK F20    |                |                |\n  |--------------->|                |                |\n  |                |                |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Alice gives up on the call before Bob answers (sends a 200 OK response). Alice sends a CANCEL (F9) since no final response had been received from Bob. If a 200 OK to the INVITE had crossed with the CANCEL, Alice would have sent an ACK then a BYE to Bob in order to properly terminate the call.",
      "zh-CHS": "在这个场景中，Alice在Bob应答之前放弃了呼叫（发送200 OK响应）。Alice发送了一个取消（F9），因为没有收到Bob的最终响应。如果对邀请的200“确定”与“取消”交叉，Alice会向Bob发送一个确认，然后再发送一个“再见”，以便正确地终止呼叫。"
    },
    {
      "indent": 3,
      "text": "Note that the CANCEL message is acknowledged with a 200 OK on a hop by hop basis, rather than end to end.",
      "zh-CHS": "请注意，取消消息在逐跳的基础上以200 OK确认，而不是端到端。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"ze7k1ee88df84f1cec431ae6cbe5a359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"b00b416324679d7e243f55708d44be7b\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/*Client for Alice prepares to receive data on port 49172 from the\nnetwork.*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F2邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F3 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F4邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nMax-Forwards: 68\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F5 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F6 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 180 Ringing Proxy 2 -> Proxy 1",
      "zh-CHS": "F7 180振铃代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Contact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 180 Ringing Proxy 1 -> Alice",
      "zh-CHS": "F8 180振铃代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 CANCEL Alice -> Proxy 1",
      "zh-CHS": "F9取消Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "CANCEL sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nRoute: <sip:ss1.atlanta.example.com;lr>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 200 OK Proxy 1 -> Alice",
      "zh-CHS": "F10 200 OK Proxy 1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 CANCEL Proxy 1 -> Proxy 2",
      "zh-CHS": "F11取消代理1->代理2"
    },
    {
      "indent": 3,
      "text": "CANCEL sip:alice@atlanta.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 200 OK Proxy 2 -> Proxy 1",
      "zh-CHS": "F12 200 OK Proxy 2->Proxy 1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 CANCEL Proxy 2 -> Bob",
      "zh-CHS": "F13取消代理2->Bob"
    },
    {
      "indent": 3,
      "text": "CANCEL sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 200 OK Bob -> Proxy 2",
      "zh-CHS": "F14 200 OK Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 200 OK\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 CANCEL\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 487 Request Terminated Bob -> Proxy 2",
      "zh-CHS": "F15 487请求已终止Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 487 Request Terminated\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F16 ACK Proxy 2 -> Bob",
      "zh-CHS": "F16确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F17 487 Request Terminated Proxy 2 -> Proxy 1",
      "zh-CHS": "F17 487请求终止代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 487 Request Terminated\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F18 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F18确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F19 487 Request Terminated Proxy 1 -> Alice",
      "zh-CHS": "F19 487请求终止代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 487 Request Terminated\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F20 ACK Alice -> Proxy 1",
      "zh-CHS": "确认爱丽丝->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"ze7k1ee88df84f1cec431ae6cbe5a359\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"b00b416324679d7e243f55708d44be7b\"\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.9. Unsuccessful Busy",
      "section_title": true,
      "zh-CHS": "3.9. 不成功的忙"
    },
    {
      "indent": 3,
      "text": "Alice           Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|   INVITE F2    |                |\n  |     100  F3    |--------------->|   INVITE F4    |\n  |<---------------|     100  F5    |--------------->|\n  |                |<---------------|                |\n  |                |                |      486 F6    |\n  |                |                |<---------------|\n  |                |                |     ACK F7     |\n  |                |      486 F8    |--------------->|\n  |                |<---------------|                |\n  |                |      ACK F9    |                |\n  |     486 F10    |--------------->|                |\n  |<---------------|                |                |\n  |     ACK F11    |                |                |\n  |--------------->|                |                |\n  |                |                |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Bob is busy and sends a 486 Busy Here response to Alice's INVITE. Note that the non-2xx response is acknowledged on a hop-by-hop basis instead of end-to-end. Also note that many SIP UAs will not return a 486 response, as they have multiple line and other features.",
      "zh-CHS": "在这个场景中，Bob很忙，并向Alice的邀请发送486 busy Here响应。请注意，非2xx响应是在逐跳而不是端到端的基础上确认的。还要注意，许多SIP UAs不会返回486响应，因为它们具有多行和其他功能。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"dc3a5ab2530aa93112cf5904ba7d88fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"702138b27d869ac8741e10ec643d55be\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/*Client for Alice prepares to receive data on port 49172 from the\nnetwork.*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F2邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F3 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F4邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com;transport=tcp>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F5 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 486 Busy Here Bob -> Proxy 2",
      "zh-CHS": "F6 486此处忙Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0  486 Busy Here\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": " ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 ACK Proxy 2 -> Bob",
      "zh-CHS": "F7确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 486 Busy Here Proxy 2 -> Proxy 1",
      "zh-CHS": "F8 486此处忙代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0  486 Busy Here\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F9 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F9确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 486 Busy Here Proxy 1 -> Alice",
      "zh-CHS": "F10 486忙在这里代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0  486 Busy Here\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 ACK Alice -> Proxy 1",
      "zh-CHS": "F11确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"dc3a5ab2530aa93112cf5904ba7d88fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"702138b27d869ac8741e10ec643d55be\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.10. Unsuccessful No Response from User Agent",
      "section_title": true,
      "zh-CHS": "3.10. 用户代理没有响应"
    },
    {
      "indent": 3,
      "text": "Alice           Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|   INVITE F2    |                |\n  |     100  F3    |--------------->|   INVITE F4    |\n  |<---------------|     100  F5    |--------------->|\n  |                |<---------------|   INVITE F6    |\n  |                |                |--------------->|\n  |                |                |   INVITE F7    |\n  |                |                |--------------->|\n  |                |                |   INVITE F8    |\n  |                |                |--------------->|\n  |                |                |   INVITE F9    |\n  |                |                |--------------->|\n  |                |                |   INVITE F10   |\n  |                |                |--------------->|\n  |                |                |   INVITE F11   |\n  |                |     480 F12    |--------------->|\n  |                |<---------------|                |\n  |                |     ACK F13    |                |\n  |     480 F14    |--------------->|                |\n  |<---------------|                |                |\n  |     ACK F15    |                |                |\n  |--------------->|                |                |\n  |                |                |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this example, there is no response from Bob to Alice's INVITE messages being re-transmitted by Proxy 2. After the sixth re-transmission, Proxy 2 gives up and sends a 480 No Response to Alice.",
      "zh-CHS": "在本例中，Bob没有响应Alice的INVITE消息被代理2重新传输。在第六次重新传输之后，代理2放弃并向Alice发送480 No响应。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 Max-Forwards: 70 Route: <sip:ss1.atlanta.example.com;lr> From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl To: Bob <sip:bob@biloxi.example.com> Call-ID: 2xTb9vxSit55XU7p8@atlanta.example.com CSeq: 1 INVITE Contact: <sip:alice@client.atlanta.example.com> Proxy-Authorization: Digest username=\"alice\", realm=\"atlanta.example.com\",",
      "zh-CHS": "邀请sip：bob@biloxi.example.comSIP/2.0 Via:SIP/2.0/UDP client.atlanta.example.com:5060；branch=z9hG4bK74bf9最大转发：70路由：<sip:ss1.atlanta.example.com；lr>From:Alice<sip:alice@atlanta.example.com>;标记=9fxced76sl至：Bob<sip:bob@biloxi.example.com>呼叫ID:2xTb9vxSit55XU7p8@atlanta.example.comCSeq:1邀请联系人：<sip:alice@client.atlanta.example.com>代理授权：Digest username=“alice”，realm=“atlanta.example.com”，"
    },
    {
      "indent": 3,
      "text": " nonce=\"cf5904ba7d8dc3a5ab2530aa931128fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"7afc04be7961f053c24f80e7dbaf888f\"\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/*Client for Alice prepares to receive data on port 49172 from the\nnetwork.*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F2邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F3 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "From: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F4 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F4邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n<sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F5 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F6邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "F7 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F7邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "F8 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F8邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "F9 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F9邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "F10 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F10邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "F11 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F11邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "Resend of Message F4",
      "zh-CHS": "重发信息F4"
    },
    {
      "indent": 3,
      "text": "/* Proxy 2 gives up */",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 480 No Response Proxy 2 -> Proxy 1",
      "zh-CHS": "F12 480无响应代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 480 No Response\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F13确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 480 No Response Proxy 1 -> Alice",
      "zh-CHS": "F14 480无响应代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 480 No Response\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F15 ACK Alice -> Proxy 1",
      "zh-CHS": "F15确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"cf5904ba7d8dc3a5ab2530aa931128fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"7afc04be7961f053c24f80e7dbaf888f\"\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.11. Unsuccessful Temporarily Unavailable",
      "section_title": true,
      "zh-CHS": "3.11. 不成功暂时不可用"
    },
    {
      "indent": 3,
      "text": "Alice          Proxy 1          Proxy 2            Bob\n  |                |                |                |\n  |   INVITE F1    |                |                |\n  |--------------->|   INVITE F2    |                |\n  |     100  F3    |--------------->|   INVITE F4    |\n  |<---------------|     100  F5    |--------------->|\n  |                |<---------------|      180 F6    |\n  |                |     180 F7     |<---------------|\n  |     180 F8     |<---------------|                |\n  |<---------------|                |     480 F9     |\n  |                |                |<---------------|\n  |                |                |     ACK F10    |\n  |                |     480 F11    |--------------->|\n  |                |<---------------|                |\n  |                |     ACK F12    |                |\n  |     480 F13    |--------------->|                |\n  |<---------------|                |                |\n  |     ACK F14    |                |                |\n  |--------------->|                |                |\n  |                |                |                |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In this scenario, Bob initially sends a 180 Ringing response to Alice, indicating that alerting is taking place. However, then a 480 Unavailable is then sent to Alice. This response is acknowledged then proxied back to Alice.",
      "zh-CHS": "在这个场景中，Bob最初向Alice发送一个180响的响应，表示正在发出警报。但是，随后会向Alice发送一条消息。该响应被确认，然后被代理回Alice。"
    },
    {
      "indent": 3,
      "text": "Message Details",
      "zh-CHS": "消息详细信息"
    },
    {
      "indent": 3,
      "text": "F1 INVITE Alice -> Proxy 1",
      "zh-CHS": "F1邀请Alice->Proxy 1"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nRoute: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"aa9311cf5904ba7d8dc3a5ab253028fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"59a46a91bf1646562a4d486c84b399db\"\nContent-Type: application/sdp",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Content-Length: 151",
      "zh-CHS": "内容长度：151"
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "/*Client for Alice prepares to receive data on port 49172 from the\nnetwork.*/",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F2 INVITE Proxy 1 -> Proxy 2",
      "zh-CHS": "F2邀请代理1->代理2"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 69\nRecord-Route: <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F3 100 Trying Proxy 1 -> Alice",
      "zh-CHS": "F3 100正在尝试代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Content-Length: 0",
      "zh-CHS": "内容长度：0"
    },
    {
      "indent": 3,
      "text": "F4 INVITE Proxy 2 -> Bob",
      "zh-CHS": "F4邀请代理2->Bob"
    },
    {
      "indent": 3,
      "text": "INVITE sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nMax-Forwards: 68\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:alice@client.atlanta.example.com>\nContent-Type: application/sdp\nContent-Length: 151",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "v=0\no=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com\ns=-\nc=IN IP4 192.0.2.101\nt=0 0\nm=audio 49172 RTP/AVP 0\na=rtpmap:0 PCMU/8000",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F5 100 Trying Proxy 2 -> Proxy 1",
      "zh-CHS": "F5 100正在尝试代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 100 Trying\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F6 180 Ringing Bob -> Proxy 2",
      "zh-CHS": "F6 180振铃鲍勃->代理2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F7 180 Ringing Proxy 2 -> Proxy 1",
      "zh-CHS": "F7 180振铃代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F8 180 Ringing Proxy 1 -> Alice",
      "zh-CHS": "F8 180振铃代理1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 180 Ringing\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nRecord-Route: <sip:ss2.biloxi.example.com;lr>,\n <sip:ss1.atlanta.example.com;lr>\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContact: <sip:bob@client.biloxi.example.com>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Content-Length: 0",
      "zh-CHS": "内容长度：0"
    },
    {
      "indent": 3,
      "text": "F9 480 Temporarily Unavailable Bob -> Proxy 2",
      "zh-CHS": "F9 480暂时不可用Bob->Proxy 2"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 480 Temporarily Unavailable\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\n ;received=192.0.2.222\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F10 ACK Proxy 2 -> Bob",
      "zh-CHS": "F10确认代理2->Bob"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@client.biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss2.biloxi.example.com:5060;branch=z9hG4bK721e4.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F11 480 Temporarily Unavailable Proxy 2 -> Proxy 1",
      "zh-CHS": "F11 480暂时不可用的代理2->代理1"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 480 Temporarily Unavailable\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\n ;received=192.0.2.111\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F12 ACK Proxy 1 -> Proxy 2",
      "zh-CHS": "F12确认代理1->代理2"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP ss1.atlanta.example.com:5060;branch=z9hG4bK2d4790.1\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F13 480 Temporarily Unavailable Proxy 1 -> Alice",
      "zh-CHS": "F13 480暂时不可用的代理服务器1->Alice"
    },
    {
      "indent": 3,
      "text": "SIP/2.0 480 Temporarily Unavailable\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\n ;received=192.0.2.101\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nCSeq: 1 INVITE\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "F14 ACK Alice -> Proxy 1",
      "zh-CHS": "F14确认->代理1"
    },
    {
      "indent": 3,
      "text": "ACK sip:bob@biloxi.example.com SIP/2.0\nVia: SIP/2.0/UDP client.atlanta.example.com:5060;branch=z9hG4bK74bf9\nMax-Forwards: 70\nFrom: Alice <sip:alice@atlanta.example.com>;tag=9fxced76sl\nTo: Bob <sip:bob@biloxi.example.com>;tag=314159\nCall-ID: 2xTb9vxSit55XU7p8@atlanta.example.com\nProxy-Authorization: Digest username=\"alice\",\n realm=\"atlanta.example.com\",\n nonce=\"aa9311cf5904ba7d8dc3a5ab253028fa\", opaque=\"\",\n uri=\"sip:bob@biloxi.example.com\",\n response=\"59a46a91bf1646562a4d486c84b399db\"\nCSeq: 1 ACK\nContent-Length: 0",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "4. Security Considerations",
      "section_title": true,
      "zh-CHS": "4. 安全考虑"
    },
    {
      "indent": 3,
      "text": "Since this document contains examples of SIP session establishment, the security considerations in RFC 3261 [1] apply. RFC 3261 describes the basic threats including registration hijacking, server impersonation, message body tampering, session modifying or teardown, and denial of service and amplification attacks. The use of HTTP Digest as shown in this document provides one-way authentication and protection against replay attacks. TLS transport is used in registration scenarios due to the lack of integrity protection in HTTP Digest and the danger of registration hijacking without it, as described in RFC 3261 [1]. A full discussion of the weaknesses of HTTP Digest is provided in RFC 3261 [1]. The use of TLS and the Secure SIP (sips) URI scheme provides a better level of security including two-way authentication. S/MIME can provide end-to-end confidentiality and integrity protection of message bodies, as described in RFC 3261.",
      "zh-CHS": "由于本文档包含SIP会话建立的示例，因此RFC 3261[1]中的安全注意事项适用。RFC 3261描述了基本威胁，包括注册劫持、服务器模拟、邮件正文篡改、会话修改或断开、拒绝服务和放大攻击。本文档中所示的HTTP摘要的使用提供了单向身份验证和防止重播攻击的保护。如RFC 3261[1]所述，由于HTTP摘要中缺乏完整性保护，并且没有完整性保护存在注册劫持的危险，因此在注册场景中使用TLS传输。RFC 3261[1]中对HTTP摘要的弱点进行了全面讨论。TLS和安全SIP（sips）URI方案的使用提供了更好的安全级别，包括双向身份验证。S/MIME可以提供消息体的端到端机密性和完整性保护，如RFC 3261所述。"
    },
    {
      "indent": 0,
      "text": "5. References",
      "section_title": true,
      "zh-CHS": "5. 工具书类"
    },
    {
      "indent": 0,
      "text": "5.1. Normative References",
      "section_title": true,
      "zh-CHS": "5.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[1] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M. and E. Schooler, \"SIP: Session Initiation Protocol\", RFC 3261, June 2002.",
      "zh-CHS": "[1] Rosenberg，J.，Schulzrinne，H.，Camarillo，G.，Johnston，A.，Peterson，J.，Sparks，R.，Handley，M.和E.Schooler，“SIP：会话启动协议”，RFC 3261，2002年6月。"
    },
    {
      "indent": 3,
      "text": "[2] Rosenberg, J. and H. Schulzrinne, \"An Offer/Answer Model with SDP\", RFC 3264, April 2002.",
      "zh-CHS": "[2] Rosenberg，J.和H.Schulzrinne，“具有SDP的报价/应答模型”，RFC 3264，2002年4月。"
    },
    {
      "indent": 3,
      "text": "[3] Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A. and L. Stewart, \"HTTP authentication: Basic and Digest Access Authentication\", RFC 2617, June 1999.",
      "zh-CHS": "[3] Franks，J.，Hallam Baker，P.，Hostetler，J.，Lawrence，S.，Leach，P.，Lootonen，A.和L.Stewart，“HTTP认证：基本和摘要访问认证”，RFC 26171999年6月。"
    },
    {
      "indent": 3,
      "text": "[4] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "zh-CHS": "[4] Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，1997年3月。"
    },
    {
      "indent": 0,
      "text": "5.2. Informative References",
      "section_title": true,
      "zh-CHS": "5.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[5] Johnston, A., Donovan, S., Sparks, R., Cunningham, C. and K. Summers, \"Session Initiation Protocol (SIP) Public Switched Telephone Network (PSTN) Call Flows\", BCP 76, RFC 3666, December 2003.",
      "zh-CHS": "[5] Johnston，A.，Donovan，S.，Sparks，R.，Cunningham，C.和K.Summers，“会话发起协议（SIP）公共交换电话网络（PSTN）呼叫流”，BCP 76，RFC 3666，2003年12月。"
    },
    {
      "indent": 0,
      "text": "6. Intellectual Property Statement",
      "section_title": true,
      "zh-CHS": "6. 知识产权声明"
    },
    {
      "indent": 3,
      "text": "The IETF takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in",
      "zh-CHS": "IETF对可能声称与实施或使用中所述技术有关的任何知识产权或其他权利的有效性或范围不持任何立场"
    },
    {
      "indent": 3,
      "text": "this document or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on the IETF's procedures with respect to rights in standards-track and standards-related documentation can be found in BCP-11. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementors or users of this specification can be obtained from the IETF Secretariat.",
      "zh-CHS": "本文件或该等权利下的任何许可可能或可能不可用的范围；它也不表示它已作出任何努力来确定任何此类权利。有关IETF在标准跟踪和标准相关文件中权利的程序信息，请参见BCP-11。可从IETF秘书处获得可供发布的权利声明副本和任何许可证保证，或本规范实施者或用户试图获得使用此类专有权利的一般许可证或许可的结果。"
    },
    {
      "indent": 3,
      "text": "The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights which may cover technology that may be required to practice this standard. Please address the information to the IETF Executive Director.",
      "zh-CHS": "IETF邀请任何相关方提请其注意任何版权、专利或专利申请，或其他可能涉及实施本标准所需技术的专有权利。请将信息发送给IETF执行董事。"
    },
    {
      "indent": 0,
      "text": "7. Acknowledgments",
      "section_title": true,
      "zh-CHS": "7. 致谢"
    },
    {
      "indent": 3,
      "text": "This document is has been a group effort by the SIP and SIPPING WGs. The authors wish to thank everyone who has read, reviewed, commented, or made suggestions to improve this document.",
      "zh-CHS": "本文件是SIP和SIPING WGs共同努力的成果。作者希望感谢所有阅读、审阅、评论或提出改进本文件建议的人。"
    },
    {
      "indent": 3,
      "text": "Thanks to Rohan Mahy, Adam Roach, Gonzalo Camarillo, Cullen Jennings, and Tom Taylor for their detailed comments during the final review. Thanks to Dean Willis for his early contributions to the development of this document.",
      "zh-CHS": "感谢Rohan Mahy、Adam Roach、Gonzalo Camarillo、Cullen Jennings和Tom Taylor在最终审查期间的详细评论。感谢迪安·威利斯（Dean Willis）为本文件的编制做出的早期贡献。"
    },
    {
      "indent": 3,
      "text": "The authors wish to thank Kundan Singh for performing parser validation of messages.",
      "zh-CHS": "作者希望感谢Kundan Singh对消息执行解析器验证。"
    },
    {
      "indent": 3,
      "text": "The authors wish to thank the following individuals for their participation in the review of this call flows document: Aseem Agarwal, Rafi Assadi, Ben Campbell, Sunitha Kumar, Jon Peterson, Marc Petit-Huguenin, Vidhi Rastogi, and Bodgey Yin Shaohua.",
      "zh-CHS": "作者希望感谢以下个人参与本呼叫流文件的审查：阿塞姆·阿加瓦尔、拉菲·阿萨迪、本·坎贝尔、苏尼塔·库马尔、乔恩·彼得森、马克·佩蒂·胡格宁、维迪·拉斯托吉和菩提因·绍华。"
    },
    {
      "indent": 3,
      "text": "The authors also wish to thank the following individuals for their assistance: Jean-Francois Mule, Hemant Agrawal, Henry Sinnreich, David Devanatham, Joe Pizzimenti, Matt Cannon, John Hearty, the whole MCI WorldCom IPOP Design team, Scott Orton, Greg Osterhout, Pat Sollee, Doug Weisenberg, Danny Mistry, Steve McKinnon, and Denise Ingram, Denise Caballero, Tom Redman, Ilya Slain, Pat Sollee, John Truetken, and others from MCI WorldCom, 3Com, Cisco, Lucent and Nortel.",
      "zh-CHS": "作者还希望感谢以下个人的帮助：Jean-Francois Mule、Hemant Agrawal、Henry Sinnreich、David Devanatham、Joe Pizzimeti、Matt Cannon、John Hearty、整个MCI WorldCom IPOP设计团队、Scott Orton、Greg Osterhot、Pat Sollee、Doug Weisenberg、Danny Mistry、Steve McKinnon和Denise Ingram，Denise Caballero、Tom Redman、Ilya Slain、Pat Sollee、John Truetken以及来自MCI WorldCom、3Com、思科、朗讯和北电的其他人。"
    },
    {
      "indent": 0,
      "text": "8. Authors' Addresses",
      "section_title": true,
      "zh-CHS": "8. 作者地址"
    },
    {
      "indent": 3,
      "text": "All listed authors actively contributed large amounts of text to this document.",
      "zh-CHS": "所有列出的作者都积极为本文件提供了大量文本。"
    },
    {
      "indent": 3,
      "text": "Alan Johnston MCI 100 South 4th Street St. Louis, MO 63102 USA",
      "zh-CHS": "美国密苏里州圣路易斯南四街100号艾伦·约翰斯顿MCI，邮编63102"
    },
    {
      "indent": 3,
      "text": "EMail: alan.johnston@mci.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Steve Donovan dynamicsoft, Inc. 5100 Tennyson Parkway Suite 1200 Plano, Texas 75024 USA",
      "zh-CHS": "Steve Donovan dynamicsoft，Inc.美国德克萨斯州普莱诺市坦尼生大道1200号5100套房，邮编75024"
    },
    {
      "indent": 3,
      "text": "EMail: sdonovan@dynamicsoft.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Robert Sparks dynamicsoft, Inc. 5100 Tennyson Parkway Suite 1200 Plano, Texas 75024 USA",
      "zh-CHS": "Robert Sparks dynamicsoft，Inc.美国德克萨斯州普莱诺市坦尼生大道1200号5100套房，邮编75024"
    },
    {
      "indent": 3,
      "text": "EMail: rsparks@dynamicsoft.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Chris Cunningham dynamicsoft, Inc. 5100 Tennyson Parkway Suite 1200 Plano, Texas 75024 USA",
      "zh-CHS": "Chris Cunningham dynamicsoft，Inc.美国德克萨斯州普莱诺市坦尼森大道1200号5100套房，邮编75024"
    },
    {
      "indent": 3,
      "text": "EMail: ccunningham@dynamicsoft.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Kevin Summers Sonus 1701 North Collins Blvd, Suite 3000 Richardson, TX 75080 USA",
      "zh-CHS": "凯文·萨默斯·索努斯美国德克萨斯州理查森北柯林斯大道1701号3000室75080"
    },
    {
      "indent": 3,
      "text": "EMail: kevin.summers@sonusnet.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "9. Full Copyright Statement",
      "section_title": true,
      "zh-CHS": "9. 完整版权声明"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (2003). All Rights Reserved.",
      "zh-CHS": "版权所有（C）互联网协会（2003年）。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.",
      "zh-CHS": "本文件及其译本可复制并提供给他人，对其进行评论或解释或协助其实施的衍生作品可全部或部分编制、复制、出版和分发，不受任何限制，前提是上述版权声明和本段包含在所有此类副本和衍生作品中。但是，不得以任何方式修改本文件本身，例如删除版权通知或对互联网协会或其他互联网组织的引用，除非出于制定互联网标准的需要，在这种情况下，必须遵循互联网标准过程中定义的版权程序，或根据需要将其翻译成英语以外的其他语言。"
    },
    {
      "indent": 3,
      "text": "The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assignees.",
      "zh-CHS": "上述授予的有限许可是永久性的，互联网协会或其继承人或受让人不会撤销。"
    },
    {
      "indent": 3,
      "text": "This document and the information contained herein is provided on an \"AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.",
      "zh-CHS": "本文件和其中包含的信息是按“原样”提供的，互联网协会和互联网工程任务组否认所有明示或暗示的保证，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。"
    },
    {
      "indent": 0,
      "text": "Acknowledgement",
      "zh-CHS": "确认"
    },
    {
      "indent": 3,
      "text": "Funding for the RFC Editor function is currently provided by the Internet Society.",
      "zh-CHS": "RFC编辑功能的资金目前由互联网协会提供。"
    }
  ]
}