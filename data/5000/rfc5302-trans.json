{
  "title": {
    "text": "RFC 5302: Domain-Wide Prefix Distribution with Two-Level IS-IS",
    "zh-CHS": "RFC 5302"
  },
  "number": 5302,
  "created_at": "2021-11-10 19:56:36.629535+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Network Working Group                                              T. Li\nRequest for Comments: 5302                        Redback Networks, Inc.\nObsoletes: 2966                                                  H. Smit\nUpdates: 1195\nCategory: Standards Track                                  T. Przygienda\n                                                                 Z2 Sagl\n                                                            October 2008",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 10,
      "text": "Domain-Wide Prefix Distribution with Two-Level IS-IS",
      "zh-CHS": "具有两级IS-IS的域范围前缀分布"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This document specifies an Internet standards track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the \"Internet Official Protocol Standards\" (STD 1) for the standardization state and status of this protocol. Distribution of this memo is unlimited.",
      "zh-CHS": "本文件规定了互联网社区的互联网标准跟踪协议，并要求进行讨论和提出改进建议。有关本协议的标准化状态和状态，请参考当前版本的“互联网官方协议标准”（STD 1）。本备忘录的分发不受限制。"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "This document describes extensions to the Intermediate System to Intermediate System (IS-IS) protocol to support optimal routing within a two-level domain. The IS-IS protocol is specified in ISO 10589, with extensions for supporting IPv4 (Internet Protocol) specified in RFC 1195. This document replaces RFC 2966.",
      "zh-CHS": "本文档描述了中间系统到中间系统（IS-IS）协议的扩展，以支持两级域内的最佳路由。ISO 10589中规定了IS-IS协议，RFC 1195中规定了支持IPv4（互联网协议）的扩展。本文件取代RFC 2966。"
    },
    {
      "indent": 3,
      "text": "This document extends the semantics presented in RFC 1195 so that a routing domain running with both level 1 and level 2 Intermediate Systems (IS) (routers) can distribute IP prefixes between level 1 and level 2, and vice versa. This distribution requires certain restrictions to ensure that persistent forwarding loops do not form. The goal of this domain-wide prefix distribution is to increase the granularity of the routing information within the domain.",
      "zh-CHS": "本文档扩展了RFC1195中提出的语义，以便使用级别1和级别2中间系统（IS）（路由器）运行的路由域可以在级别1和级别2之间分配IP前缀，反之亦然。此分发需要某些限制，以确保不会形成持久转发循环。这种全域前缀分布的目标是增加域内路由信息的粒度。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3\n  1.1.  Motivations for Domain-Wide Prefix Distribution  . . . . .  3\n  1.2.  Scalability  . . . . . . . . . . . . . . . . . . . . . . .  5\n  1.3.  Requirements Language  . . . . . . . . . . . . . . . . . .  6\n2.  Proposed Syntax and Semantics for L2->L1 Inter-Area Routes . .  6\n  2.1.  Clarification of External Route-Type and External\n        Metric-Type  . . . . . . . . . . . . . . . . . . . . . . .  7\n  2.2.  Definition of External IP Prefixes in Level 1 LSPs . . . .  8\n3.  Types of IP Routes in IS-IS and Their Order of Preference  . .  8\n  3.1.  Overview of All Types of IP Prefixes in IS-IS Link\n        State PDUs . . . . . . . . . . . . . . . . . . . . . . . .  9\n  3.2.  Order of Preference for all Types of IP Routes in IS-IS  . 11\n  3.3.  Additional Notes on What Prefixes to Accept or\n        Advertise  . . . . . . . . . . . . . . . . . . . . . . . . 12\n4.  Inter-Operability with Older Implementations . . . . . . . . . 12\n5.  Comparisons with Other Proposals . . . . . . . . . . . . . . . 13\n6.  Security Considerations  . . . . . . . . . . . . . . . . . . . 13\n7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n  7.1.  Normative References . . . . . . . . . . . . . . . . . . . 14\n  7.2.  Informative References . . . . . . . . . . . . . . . . . . 14",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "This document describes extensions to the Intermediate System to Intermediate System (IS-IS) protocol to support optimal routing within a two-level domain. The IS-IS protocol is specified in [ISO-10589], with extensions for supporting IPv4 (Internet Protocol) specified in [RFC1195].",
      "zh-CHS": "本文档描述了中间系统到中间系统（IS-IS）协议的扩展，以支持两级域内的最佳路由。IS-IS协议在[ISO-10589]中有规定，支持IPv4（互联网协议）的扩展在[RFC1195]中有规定。"
    },
    {
      "indent": 3,
      "text": "This document replaces [RFC2966], which was an Informational document. This document is on the standards track. No other intentional substantive changes have been made.",
      "zh-CHS": "本文件取代[RFC2966]，后者是一份信息性文件。本文件已进入标准轨道。没有作出其他有意的实质性改变。"
    },
    {
      "indent": 3,
      "text": "This document extends the semantics presented in RFC 1195 so that a routing domain running with both level 1 and level 2 Intermediate Systems (IS) (routers) can distribute IP prefixes between level 1 and level 2, and vice versa. This distribution requires certain restrictions to ensure that persistent forwarding loops do not form. The goal of this domain-wide prefix distribution is to increase the granularity of the routing information within the domain.",
      "zh-CHS": "本文档扩展了RFC1195中提出的语义，以便使用级别1和级别2中间系统（IS）（路由器）运行的路由域可以在级别1和级别2之间分配IP前缀，反之亦然。此分发需要某些限制，以确保不会形成持久转发循环。这种全域前缀分布的目标是增加域内路由信息的粒度。"
    },
    {
      "indent": 3,
      "text": "An IS-IS routing domain (a.k.a. an autonomous system running IS-IS) can be partitioned into multiple level 1 (L1) areas, and a level 2 (L2) connected subset of the topology that interconnects all of the L1 areas. Within each L1 area, all routers exchange link state information. L2 routers also exchange L2 link state information to compute routes between areas.",
      "zh-CHS": "IS-IS路由域（也称为运行IS-IS的自治系统）可以划分为多个级别1（L1）区域，以及连接所有L1区域的拓扑的级别2（L2）连接子集。在每个L1区域内，所有路由器交换链路状态信息。二级路由器还交换二级链路状态信息以计算区域之间的路由。"
    },
    {
      "indent": 3,
      "text": "RFC 1195 defines the Type, Length, and Value (TLV) tuples that are used to transport IPv4 routing information in IS-IS. RFC 1195 also specifies the semantics and procedures for interactions between levels. Specifically, routers in an L1 area will exchange information within the L1 area. For IP destinations not found in the prefixes in the L1 database, the L1 router should forward packets to the nearest router that is in both L1 and L2 (i.e., an L1L2 router) with the \"attached bit\" set in its L1 Link State Protocol Data Unit (LSP).",
      "zh-CHS": "RFC 1195定义了用于在IS-IS中传输IPv4路由信息的类型、长度和值（TLV）元组。RFC1195还规定了级别之间交互的语义和过程。具体而言，L1区域中的路由器将在L1区域内交换信息。对于L1数据库前缀中未找到的IP目的地，L1路由器应将数据包转发到L1和L2中最近的路由器（即，L1L2路由器），并在其L1链路状态协议数据单元（LSP）中设置“附加位”。"
    },
    {
      "indent": 3,
      "text": "Also per RFC 1195, an L1L2 router should be manually configured with a set of prefixes that summarizes the IP prefixes reachable in that L1 area. These summaries are injected into L2. RFC 1195 specifies no further interactions between L1 and L2 for IPv4 prefixes.",
      "zh-CHS": "同样根据RFC 1195，L1L2路由器应手动配置一组前缀，这些前缀汇总了该L1区域中可访问的IP前缀。这些总结被注入L2。RFC1195没有为IPv4前缀指定L1和L2之间的进一步交互。"
    },
    {
      "indent": 0,
      "text": "1.1. Motivations for Domain-Wide Prefix Distribution",
      "section_title": true,
      "zh-CHS": "1.1. 域范围前缀分布的动机"
    },
    {
      "indent": 3,
      "text": "The mechanisms specified in RFC 1195 are appropriate in many situations and lead to excellent scalability properties. However, in certain circumstances, the domain administrator may wish to sacrifice some amount of scalability and distribute more specific information",
      "zh-CHS": "RFC1195中指定的机制在许多情况下都是合适的，并且会产生极好的可伸缩性属性。但是，在某些情况下，域管理员可能希望牺牲一些可伸缩性，并分发更具体的信息"
    },
    {
      "indent": 3,
      "text": "than is described by RFC 1195. This section discusses the various reasons why the domain administrator may wish to make such a tradeoff.",
      "zh-CHS": "而不是RFC1195所描述的。本节讨论了域管理员希望进行这种权衡的各种原因。"
    },
    {
      "indent": 3,
      "text": "One major reason for distributing more prefix information is to improve the quality of the resulting routes. A well-known property of prefix summarization or any abstraction mechanism is that it necessarily results in a loss of information. This loss of information in turn results in the computation of a route based upon less information, which will frequently result in routes that are not optimal.",
      "zh-CHS": "分发更多前缀信息的一个主要原因是提高结果路由的质量。前缀摘要或任何抽象机制的一个众所周知的特性是，它必然导致信息丢失。这种信息的丢失反过来导致基于较少信息的路由计算，这通常会导致非最优路由。"
    },
    {
      "indent": 3,
      "text": "A simple example can serve to demonstrate this adequately. Suppose that an L1 area has two L1L2 routers that both advertise a single summary of all prefixes within the L1 area. To reach a destination inside the L1 area, any other L2 router is going to compute the shortest path to one of the two L1L2 routers for that area. Suppose, for example, that both of the L1L2 routers are equidistant from the L2 source and that the L2 source arbitrarily selects one L1L2 router. This router may not be the optimal router when viewed from the L1 topology. In fact, it may be the case that the path from the selected L1L2 router to the destination router may traverse the L1L2 router that was not selected. If more detailed topological information or more detailed metric information was available to the L2 source router, it could make a more optimal route computation.",
      "zh-CHS": "一个简单的例子可以充分证明这一点。假设一个L1区域有两个L1L2路由器，它们都公布L1区域内所有前缀的单个摘要。为了到达L1区域内的目的地，任何其他L2路由器将计算到该区域的两个L1L2路由器之一的最短路径。例如，假设两个L1L2路由器与L2源的距离相等，并且L2源任意选择一个L1L2路由器。从L1拓扑来看，此路由器可能不是最佳路由器。事实上，从选定的L1L2路由器到目标路由器的路径可能会穿过未选定的L1L2路由器。如果L2源路由器可以获得更详细的拓扑信息或更详细的度量信息，则可以进行更优化的路由计算。"
    },
    {
      "indent": 3,
      "text": "This situation is symmetric in that an L1 router has no information about prefixes in L2 or within a different L1 area. In using the nearest L1L2 router, that L1L2 is effectively injecting a default route without metric information into the L1 area. The route computation that the L1 router performs is similarly suboptimal.",
      "zh-CHS": "这种情况是对称的，因为L1路由器没有关于L2中或不同L1区域内前缀的信息。在使用最近的L1L2路由器时，L1L2有效地将没有度量信息的默认路由注入L1区域。L1路由器执行的路由计算也是次优的。"
    },
    {
      "indent": 3,
      "text": "Besides the optimality of the routes computed, there are two other significant drivers for the domain-wide distribution of prefix information.",
      "zh-CHS": "除了计算出的路由的最优性外，前缀信息的全域分布还有两个重要的驱动因素。"
    },
    {
      "indent": 3,
      "text": "When a router learns multiple possible paths to external destinations via BGP, it will select only one of those routes to be installed in the forwarding table. One of the factors in the BGP route selection is the IGP cost to the BGP next hop address. Many ISP networks depend on this technique, which is known as \"shortest exit routing\". If a L1 router does not know the exact IGP metric to all BGP speakers in other L1 areas, it cannot do effective shortest exit routing.",
      "zh-CHS": "当路由器通过BGP识别到多个可能的外部目的地路径时，它将只选择其中一个要安装在转发表中的路由。BGP路由选择中的一个因素是BGP下一跳地址的IGP成本。许多ISP网络都依赖于这种技术，这种技术被称为“最短出口路由”。如果L1路由器不知道其他L1区域中所有BGP扬声器的确切IGP指标，则它无法执行有效的最短出口路由。"
    },
    {
      "indent": 3,
      "text": "The third driver is the current practice of using the IGP (IS-IS) metric as part of the BGP Multi-Exit Discriminator (MED). The value in the MED is advertised to other domains and is used to inform other domains of the optimal entry point into the current domain. Current",
      "zh-CHS": "第三个驱动因素是目前使用IGP（is-is）度量作为BGP多出口鉴别器（MED）的一部分的做法。MED中的值将发布到其他域，并用于通知其他域当前域的最佳入口点。现在的"
    },
    {
      "indent": 3,
      "text": "practice is to take the IS-IS metric and insert it as the MED value. This tends to cause external traffic to enter the domain at the point closest to the exit router. Note that the receiving domain MAY, based upon policy, choose to ignore the MED that is advertised. However, current practice is to distribute the IGP metric in this way in order to optimize routing wherever possible. This is possible in current networks that only are a single area, but becomes problematic if hierarchy is to be installed into the network. This is again because the loss of end-to-end metric information means that the MED value will not reflect the true distance across the advertising domain. Full distribution of prefix information within the domain would alleviate this problem, as it would allow accurate computation of the IS-IS metric across the domain, resulting in an accurate value presented in the MED.",
      "zh-CHS": "实践是采用is-is度量并将其作为中间值插入。这往往会导致外部通信量在离出口路由器最近的点进入域。请注意，接收域可能会根据策略选择忽略发布的MED。然而，目前的做法是以这种方式分配IGP度量，以便尽可能优化路由。这在当前仅为单个区域的网络中是可能的，但如果要将层次结构安装到网络中，则会出现问题。这也是因为端到端度量信息的丢失意味着MED值不会反映整个广告领域的真实距离。在域内完全分布前缀信息将缓解这一问题，因为这将允许跨域准确计算IS-IS度量，从而在MED中显示准确的值。"
    },
    {
      "indent": 0,
      "text": "1.2. Scalability",
      "section_title": true,
      "zh-CHS": "1.2. 可伸缩性"
    },
    {
      "indent": 3,
      "text": "The disadvantage to performing the domain-wide prefix distribution described above is that it has an impact on the scalability of IS-IS. Areas within IS-IS help scalability in that LSPs are contained within a single area. This limits the size of the link state database, which in turn limits the complexity of the shortest path computation.",
      "zh-CHS": "执行上述全域前缀分发的缺点是，它会影响is-is的可伸缩性。IS-IS中的区域有助于扩展，因为LSP包含在单个区域中。这限制了链路状态数据库的大小，进而限制了最短路径计算的复杂性。"
    },
    {
      "indent": 3,
      "text": "Further, the summarization of the prefix information aids scalability in that the abstraction of the prefix information removes the sheer number of data items to be transported and the number of routes to be computed.",
      "zh-CHS": "此外，前缀信息的摘要有助于可伸缩性，因为前缀信息的抽象去除了要传输的数据项的绝对数量和要计算的路由的数量。"
    },
    {
      "indent": 3,
      "text": "It should be noted quite strongly that the distribution of prefixes on a domain-wide basis impacts the scalability of IS-IS in the second respect. It will increase the number of prefixes throughout the domain. This will result in increased memory consumption, transmission requirements, and computation requirements throughout the domain.",
      "zh-CHS": "应该非常强烈地注意，前缀在域范围内的分布在第二个方面影响IS-IS的可伸缩性。它将增加整个域中前缀的数量。这将导致整个域内存消耗、传输需求和计算需求的增加。"
    },
    {
      "indent": 3,
      "text": "It must also be noted that the domain-wide distribution of prefixes has no effect whatsoever on the first aspect of scalability, namely the existence of areas and the limitation of the distribution of the link state database.",
      "zh-CHS": "还必须注意，前缀的全域分布对可伸缩性的第一个方面没有任何影响，即区域的存在和链路状态数据库分布的限制。"
    },
    {
      "indent": 3,
      "text": "Thus, the net result is that the introduction of domain-wide prefix distribution into a formerly flat, single area network is a clear benefit to the scalability of that network. However, it is a compromise and does not provide the maximum scalability available with IS-IS. Domains that choose to make use of this facility should be aware of the tradeoff that they are making between scalability and optimality, and provision and monitor their networks accordingly. Normal provisioning guidelines that would apply to a fully",
      "zh-CHS": "因此，最终的结果是，在以前平坦的单区域网络中引入全域前缀分布显然有利于该网络的可伸缩性。但是，它是一种折衷方案，不能提供is-is可用的最大可伸缩性。选择使用此功能的域应该了解它们在可伸缩性和最佳性之间的权衡，并相应地提供和监控它们的网络。适用于完全资源调配的常规资源调配准则"
    },
    {
      "indent": 3,
      "text": "hierarchical deployment of IS-IS will not apply to this type of configuration.",
      "zh-CHS": "IS-IS的分层部署将不适用于此类配置。"
    },
    {
      "indent": 0,
      "text": "1.3. Requirements Language",
      "section_title": true,
      "zh-CHS": "1.3. 需求语言"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "zh-CHS": "本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。"
    },
    {
      "indent": 0,
      "text": "2. Proposed Syntax and Semantics for L2->L1 Inter-Area Routes",
      "section_title": true,
      "zh-CHS": "2. L2->L1区域间路由的建议语法和语义"
    },
    {
      "indent": 3,
      "text": "This document defines the syntax of how to advertise level 2 routes in level 1 LSPs. The encoding is an extension of the encoding in RFC 1195.",
      "zh-CHS": "本文档定义了如何在级别1 LSP中公布级别2路由的语法。该编码是RFC1195中编码的扩展。"
    },
    {
      "indent": 3,
      "text": "To some extent, in IS-IS the level 2 backbone can be seen as a separate area itself. RFC 1195 defines that L1L2 routers can advertise IP routes that were learned via L1 routing into L2. These routes can be regarded as inter-area routes. RFC 1195 defines that these L1->L2 inter-area routes must be advertised in L2 LSPs in the \"IP Internal Reachability Information\" TLV (TLV 128). Intra-area L2 routes are also advertised in L2 LSPs in an \"IP Internal Reachability Information\" TLV. Therefore, L1->L2 inter-area routes are indistinguishable from L2 intra-area routes.",
      "zh-CHS": "在某种程度上，在IS-IS中，2级主干网本身可以被视为一个单独的区域。RFC1195定义了L1L2路由器可以将通过L1路由学到的IP路由播发到L2。这些路线可视为区域间路线。RFC1195定义这些L1->L2区域间路由必须在“IP内部可达性信息”TLV（TLV 128）中的L2 LSP中公布。区域内L2路由也在“IP内部可达性信息”TLV的L2 LSP中公布。因此，L1->L2区域间路由与L2区域内路由无法区分。"
    },
    {
      "indent": 3,
      "text": "RFC 1195 does not define L2->L1 inter-area routes. A simple extension would be to allow an L1L2 router to advertise routes learned via L2 routing in its L1 LSP. However, to prevent routing-loops, L1L2 routers MUST NOT advertise L2->L1 inter-area routes that they learn via L1 routing back into L2. Therefore, there must be a way to distinguish L2->L1 inter-area routes from L1 intra-area routes. [RFC5305] defines the \"up/down bit\" for this purpose in the extended IP reachability TLV (TLV 135). RFC 1195 defines TLVs 128 and 130 to contain IP routes. TLVs 128 and 130 have a Metric field that consists of 4 Type of Service (TOS) metrics. The first metric, the so-called \"default metric\", has the high-order bit reserved (bit 8). Routers must set this bit to zero on transmission, and ignore it on receipt.",
      "zh-CHS": "RFC 1195未定义L2->L1区域间路由。一个简单的扩展是允许L1L2路由器在其L1 LSP中公布通过L2路由学习的路由。然而，为了防止路由循环，L1L2路由器不得公布通过L1路由返回L2的L2->L1区域间路由。因此，必须有一种方法来区分L2->L1区域间路由和L1区域内路由。[RFC5305]为此在扩展IP可达性TLV（TLV 135）中定义了“向上/向下位”。RFC 1195定义TLV 128和130以包含IP路由。TLV 128和130有一个由4种服务类型（TOS）度量组成的度量字段。第一个度量，即所谓的“默认度量”，具有保留的高阶位（位8）。路由器必须在传输时将该位设置为零，并在接收时忽略它。"
    },
    {
      "indent": 3,
      "text": "This document redefines this high-order bit in the default Metric field in TLVs 128 and 130 to be the up/down bit. L1L2 routers MUST set this bit to one for prefixes that are derived from L2 routing and are advertised into L1 LSPs. The bit MUST be set to zero for all other IP prefixes in L1 or L2 LSPs. Prefixes with the up/down bit set that are learned via L1 routing MUST NOT be advertised by L1L2 routers back into L2.",
      "zh-CHS": "本文档将TLVs 128和130中默认度量字段中的该高位重新定义为向上/向下位。L1L2路由器必须为从L2路由派生并播发到L1 LSP的前缀将该位设置为1。对于L1或L2 LSP中的所有其他IP前缀，该位必须设置为零。L1L2路由器不得将通过L1路由学习的具有向上/向下位集的前缀播发回L2。"
    },
    {
      "indent": 0,
      "text": "2.1. Clarification of External Route-Type and External Metric-Type",
      "section_title": true,
      "zh-CHS": "2.1. 外部路线类型和外部公制类型的澄清"
    },
    {
      "indent": 3,
      "text": "RFC 1195 defines two TLVs for carrying IP prefixes. TLV 128 is defined as \"IP Internal Reachability Information\", and should be used to carry IP prefixes that are directly connected to IS-IS routers. TLV 130 is defined as \"IP External Reachability Information\", and should be used to carry routes learned from outside the IS-IS domain. RFC 1195 documents TLV type 130 only for level 2 LSPs.",
      "zh-CHS": "RFC1195定义了两个用于承载IP前缀的TLV。TLV 128被定义为“IP内部可达性信息”，应用于携带直接连接到is-is路由器的IP前缀。TLV 130被定义为“IP外部可达性信息”，应用于承载从is-is域外部学习的路由。RFC 1195仅为2级LSP记录了TLV类型130。"
    },
    {
      "indent": 3,
      "text": "RFC 1195 also defines two types of metrics. Metrics of the internal metric-type should be used when the metric is comparable to metrics used to weigh links inside the IS-IS domain. Metrics of the external metric-type should be used if the metric of an IP prefix cannot be directly compared to internal metrics. The external metric-type can only be used for external IP prefixes. A direct result is that metrics of the external metric-type should never be seen in TLV 128.",
      "zh-CHS": "RFC1195还定义了两种类型的度量。当度量与用于衡量is-is域内链接的度量具有可比性时，应使用内部度量类型的度量。如果IP前缀的度量不能直接与内部度量进行比较，则应使用外部度量类型的度量。外部度量类型只能用于外部IP前缀。直接的结果是，外部度量类型的度量永远不应该出现在TLV 128中。"
    },
    {
      "indent": 3,
      "text": "To prevent confusion, this document states again that when a router computes IP routes, it MUST give the same preference to IP routes advertised in an \"IP Internal Reachability Information\" TLV and IP routes advertised in an \"IP External Reachability Information\" TLV. RFC 1195 states this quite clearly in the note in paragraph 3.10.2, item 2c). This document does not alter this rule of preference.",
      "zh-CHS": "为了避免混淆，本文件再次声明，当路由器计算IP路由时，它必须对“IP内部可达性信息”TLV中公布的IP路由和“IP外部可达性信息”TLV中公布的IP路由给予相同的优先权。RFC 1195在第3.10.2段第2c项中的注释中非常清楚地说明了这一点。本文件不改变此优先规则。"
    },
    {
      "indent": 3,
      "text": "NOTE: Internal routes (routes to destinations announced in the \"IP Internal Reachability Information\" field) and external routes using internal metrics (routes to destinations announced in the \"IP External Reachability Information\" field, with a metric of type \"internal\") are treated identically for the purpose of the order of preference of routes, and the Dijkstra calculation.",
      "zh-CHS": "注：内部路由（到“IP内部可达性信息”字段中宣布的目的地的路由）和使用内部度量的外部路由（到“IP外部可达性信息”字段中宣布的目的地的路由，具有类型为“内部”的度量）根据路由的优先顺序被相同地处理，以及Dijkstra计算。"
    },
    {
      "indent": 3,
      "text": "However, IP routes advertised in \"IP External Reachability Information\" with the external metric-type MUST be given less preference than the same IP routes advertised with the internal metric-type, regardless of the value of the metrics.",
      "zh-CHS": "但是，无论度量值是多少，在“IP外部可达性信息”中以外部度量类型播发的IP路由的优先级必须低于以内部度量类型播发的相同IP路由。"
    },
    {
      "indent": 3,
      "text": "While IS-IS routers MUST NOT give different preference to IP prefixes learned via \"IP Internal Reachability Information\" and \"IP External Reachability Information\" when executing the Dijkstra calculation, routers that implement multiple IGPs are free to use this distinction between internal and external routes when comparing routes derived from different IGPs for inclusion in their global Routing Information Base (RIB).",
      "zh-CHS": "当执行Dijkstra计算时，IS-IS路由器不得对通过“IP内部可达性信息”和“IP外部可达性信息”学习的IP前缀给予不同的优先权，实现多个IGP的路由器在比较来自不同IGP的路由以包含在其全局路由信息库（RIB）中时，可以自由使用内部和外部路由之间的这种区别。"
    },
    {
      "indent": 0,
      "text": "2.2. Definition of External IP Prefixes in Level 1 LSPs",
      "section_title": true,
      "zh-CHS": "2.2. 级别1 LSP中外部IP前缀的定义"
    },
    {
      "indent": 3,
      "text": "RFC 1195 does not define the \"IP External Reachability Information\" TLV for L1 LSPs. However, there is no reason why an IS-IS implementation could not allow for redistribution of external routes into L1. Some IS-IS implementations already allow network administrators to do this. This document loosens the restrictions in RFC 1195 and allows for the inclusion of the \"IP External Reachability Information\" TLV in L1 LSPs.",
      "zh-CHS": "RFC 1195未定义L1 LSP的“IP外部可达性信息”TLV。然而，is-is实现没有理由不允许将外部路由重新分配到L1中。一些IS-IS实现已经允许网络管理员这样做。本文件放宽了RFC 1195中的限制，并允许在L1 LSP中包含“IP外部可达性信息”TLV。"
    },
    {
      "indent": 3,
      "text": "RFC 1195 defines that IP routes learned via L1 routing must always be advertised in L2 LSPs in an \"IP Internal Reachability Information\" TLV. Now that this document allows \"IP External Reachability Information\" TLVs in L1 LSPs and allows for the advertisement of routes learned via L2 routing into L1, the above rule needs an extension.",
      "zh-CHS": "RFC1195定义通过L1路由学习的IP路由必须始终在“IP内部可达性信息”TLV的L2 LSP中通告。既然本文档允许L1 LSP中的“IP外部可达性信息”TLV，并允许将通过L2路由学习的路由播发到L1中，那么上述规则需要扩展。"
    },
    {
      "indent": 3,
      "text": "When an L1L2 router advertises an L1 route into L2, where that L1 route was learned via a prefix advertised in an \"IP External Reachability Information\" TLV, that L1L2 router SHOULD advertise that prefix in its L2 LSP within an \"IP External Reachability Information\" TLV. L1 routes learned via an \"IP Internal Reachability Information\" TLV SHOULD still be advertised within an \"IP Internal Reachability Information\" TLV. These rules should also be applied when advertising IP routes derived from L2 routing into L1. Of course in this case, the up/down bit MUST be set also.",
      "zh-CHS": "当L1L2路由器向L2播发L1路由时，其中L1路由是通过“IP外部可达性信息”TLV中播发的前缀学习的，L1L2路由器应在“IP外部可达性信息”TLV中的L2 LSP中播发该前缀。通过“IP内部可达性信息”TLV学习的L1路由仍应在“IP内部可达性信息”TLV中公布。当将从二级路由导出的IP路由播发到一级路由时，也应应用这些规则。当然，在这种情况下，还必须设置向上/向下位。"
    },
    {
      "indent": 3,
      "text": "RFC 1195 defines that if a router sees the same external prefix advertised by two or more routers with the same external metric, it must select the route that is advertised by the router that is closest to itself. It should be noted that now that external routes can be advertised from L1 into L2, and vice versa, the router that advertises an external prefix in its LSP might not be the router that originally injected this prefix into the IS-IS domain. Therefore, it is less useful to advertise external routes with external metrics into other levels.",
      "zh-CHS": "RFC1195定义，如果一个路由器看到两个或多个路由器以相同的外部度量播发相同的外部前缀，它必须选择最接近自身的路由器播发的路由。应该注意，现在外部路由可以从L1播发到L2，反之亦然，在其LSP中播发外部前缀的路由器可能不是最初将该前缀注入IS-IS域的路由器。因此，在其他级别宣传具有外部度量的外部路由不太有用。"
    },
    {
      "indent": 0,
      "text": "3. Types of IP Routes in IS-IS and Their Order of Preference",
      "section_title": true,
      "zh-CHS": "3. IS-IS中IP路由的类型及其优先顺序"
    },
    {
      "indent": 3,
      "text": "RFC 1195 and this document define several ways of advertising IP routes in IS-IS. There are four variables involved.",
      "zh-CHS": "RFC 1195和本文件定义了在IS-IS中宣传IP路由的几种方式。涉及四个变量。"
    },
    {
      "indent": 3,
      "text": "1. The level of the LSP in which the route is advertised. There are currently two possible values: level 1 and level 2.",
      "zh-CHS": "1. 在其中公布路由的LSP级别。目前有两个可能的值：级别1和级别2。"
    },
    {
      "indent": 3,
      "text": "2. The route-type, which can be derived from the type of TLV in which the prefix is advertised. Internal routes are advertised in IP Internal Reachability Information TLVs (TLV 128), and",
      "zh-CHS": "2. 路由类型，可从播发前缀的TLV类型派生。在IP内部可达性信息TLV（TLV 128）中公布内部路由，以及"
    },
    {
      "indent": 7,
      "text": "external routes are advertised in IP External Reachability Information TLVs (TLV 130).",
      "zh-CHS": "在IP外部可达性信息TLV（TLV 130）中公布外部路由。"
    },
    {
      "indent": 3,
      "text": "3. The metric-type: internal or external. The metric-type is derived from the internal/external metric-type bit in the Metric field (bit 7).",
      "zh-CHS": "3. 公制类型：内部或外部。公制类型从公制字段（位7）中的内部/外部公制类型位派生。"
    },
    {
      "indent": 3,
      "text": "4. The fact whether this route is leaked down in the hierarchy, and thus can not be advertised back up. This information can be derived from the newly defined up/down bit in the default Metric field.",
      "zh-CHS": "4. 事实上，此路由是否在层次结构中向下泄漏，因此无法在备份时播发。此信息可以从默认度量字段中新定义的向上/向下位派生。"
    },
    {
      "indent": 0,
      "text": "3.1. Overview of All Types of IP Prefixes in IS-IS Link State PDUs",
      "section_title": true,
      "zh-CHS": "3.1. IS-IS链路状态PDU中所有类型IP前缀概述"
    },
    {
      "indent": 3,
      "text": "The combination IP Internal Reachability Information and external metric-type is not allowed. Also, the up/down bit MUST NOT be set in L2 LSPs. This leaves us with 8 different types of IP advertisements in IS-IS. However, there are more than 8 reasons for IP prefixes to be advertised in IS-IS. The following list describes the types of IP prefixes and how they are encoded.",
      "zh-CHS": "不允许IP内部可达性信息和外部度量类型的组合。此外，不得在L2 LSP中设置向上/向下位。这就给我们留下了IS-IS中8种不同类型的IP广告。然而，在IS-IS中公布IP前缀有8个以上的原因。下面的列表描述了IP前缀的类型及其编码方式。"
    },
    {
      "indent": 3,
      "text": "L1 intra-area routes: These are advertised in L1 LSPs, in TLV 128. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are directly connected to the advertising router.",
      "zh-CHS": "L1区域内路由：这些路由在TLV 128中的L1 LSP中公布。向上/向下位设置为零，度量类型为内部度量。这些IP前缀直接连接到广告路由器。"
    },
    {
      "indent": 3,
      "text": "L1 external routes: These are advertised in L1 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are learned from other IGPs, and are usually not directly connected to the advertising router.",
      "zh-CHS": "L1外部路线：在TLV 130中的L1 LSP中公布这些路线。向上/向下位设置为零，度量类型为内部度量。这些IP前缀从其他IGP学习，通常不直接连接到广告路由器。"
    },
    {
      "indent": 3,
      "text": "L2 intra-area routes: These are advertised in L2 LSPs, in TLV 128. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are directly connected to the advertising router. These prefixes cannot be distinguished from L1->L2 inter-area routes.",
      "zh-CHS": "L2区域内路由：这些路由在TLV 128中的L2 LSP中公布。向上/向下位设置为零，度量类型为内部度量。这些IP前缀直接连接到广告路由器。这些前缀无法与L1->L2区域间路由区分。"
    },
    {
      "indent": 3,
      "text": "L2 external routes: These are advertised in L2 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are learned from other IGPs, and are usually not directly connected to the advertising router. These prefixes cannot be distinguished from L1->L2 inter-area external routes.",
      "zh-CHS": "L2外部路由：在TLV 130的L2 LSP中公布这些路由。向上/向下位设置为零，度量类型为内部度量。这些IP前缀从其他IGP学习，通常不直接连接到广告路由器。这些前缀无法与L1->L2区域间外部路由区分。"
    },
    {
      "indent": 3,
      "text": "L1->L2 inter-area routes: These are advertised in L2 LSPs, in TLV 128. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are learned via L1 routing, and were derived during the L1 Shortest Path First (SPF) computation from",
      "zh-CHS": "L1->L2区域间路由：在TLV 128中的L2 LSP中公布这些路由。向上/向下位设置为零，度量类型为内部度量。这些IP前缀通过L1路由学习，并在L1最短路径优先（SPF）计算期间从"
    },
    {
      "indent": 6,
      "text": "prefixes advertised in L1 LSPs in TLV 128. These prefixes cannot be distinguished from L2 intra-area routes.",
      "zh-CHS": "TLV 128中L1 LSP中公布的前缀。这些前缀无法与L2区域内路由区分。"
    },
    {
      "indent": 3,
      "text": "L1->L2 inter-area external routes: These are advertised in L2 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is internal metric. These IP prefixes are learned via L1 routing, and were derived during the L1 SPF computation from prefixes advertised in L1 LSPs in TLV 130. These prefixes cannot be distinguished from L2 external routes.",
      "zh-CHS": "L1->L2区域间外部路由：在TLV 130的L2 LSP中公布这些路由。向上/向下位设置为零，度量类型为内部度量。这些IP前缀通过L1路由学习，并且在L1 SPF计算期间从TLV 130中的L1 lsp中公布的前缀导出。这些前缀无法与L2外部路由区分。"
    },
    {
      "indent": 3,
      "text": "L2->L1 inter-area routes: These are advertised in L1 LSPs, in TLV 128. The up/down bit is set to one, metric-type is internal metric. These IP prefixes are learned via L2 routing, and were derived during the L2 SPF computation from prefixes advertised in TLV 128.",
      "zh-CHS": "L2->L1区域间路由：在TLV 128中的L1 LSP中公布这些路由。向上/向下位设置为1，度量类型为内部度量。这些IP前缀通过L2路由学习，并在L2 SPF计算期间从TLV 128中公布的前缀派生。"
    },
    {
      "indent": 3,
      "text": "L2->L1 inter-area external routes: These are advertised in L1 LSPs, in TLV 130. The up/down bit is set to one, metric-type is internal metric. These IP prefixes are learned via L2 routing, and were derived during the L2 SPF computation from prefixes advertised in L2 LSPs in TLV 130.",
      "zh-CHS": "L2->L1区域间外部路由：这些路由在TLV 130的L1 LSP中公布。向上/向下位设置为1，度量类型为内部度量。这些IP前缀通过L2路由学习，并在L2 SPF计算期间从TLV 130中L2 LSP中公布的前缀导出。"
    },
    {
      "indent": 3,
      "text": "L1 external routes with external metric: These are advertised in L1 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is external metric. These IP prefixes are learned from other IGPs, and are usually not directly connected to the advertising router.",
      "zh-CHS": "具有外部度量的L1外部路由：这些路由在TLV 130中的L1 LSP中公布。向上/向下位设置为零，度量类型为外部度量。这些IP前缀从其他IGP学习，通常不直接连接到广告路由器。"
    },
    {
      "indent": 3,
      "text": "L2 external routes with external metric: These are advertised in L2 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is external metric. These IP prefixes are learned from other IGPs, and are usually not directly connected to the advertising router. These prefixes cannot be distinguished from L1->L2 inter-area external routes with external metric.",
      "zh-CHS": "具有外部度量的L2外部路由：这些路由在TLV 130中的L2 LSP中公布。向上/向下位设置为零，度量类型为外部度量。这些IP前缀从其他IGP学习，通常不直接连接到广告路由器。这些前缀不能与具有外部度量的L1->L2区域间外部路由区分。"
    },
    {
      "indent": 3,
      "text": "L1->L2 inter-area external routes with external metric: These are advertised in L2 LSPs, in TLV 130. The up/down bit is set to zero, metric-type is external metric. These IP prefixes are learned via L1 routing, and were derived during the L1 SPF computation from prefixes advertised in L1 LSPs in TLV 130 with external metrics. These prefixes can not be distinguished from L2 external routes with external metric.",
      "zh-CHS": "L1->L2带外部度量的区域间外部路由：这些路由在TLV 130的L2 LSP中公布。向上/向下位设置为零，度量类型为外部度量。这些IP前缀通过L1路由学习，并在L1 SPF计算期间从TLV 130中的L1 lsp中公布的前缀以及外部度量导出。这些前缀不能与具有外部度量的L2外部路由区分开来。"
    },
    {
      "indent": 3,
      "text": "L2->L1 inter-area external routes with external metric: These are advertised in L1 LSPs, in TLV 130. The up/down bit is set to one, metric-type is external metric. These IP prefixes are learned via L2 routing, and were derived during the L1 SPF computation from prefixes advertised in L2 LSPs in TLV 130 with external metrics.",
      "zh-CHS": "L2->L1具有外部度量的区域间外部路由：这些路由在TLV 130中的L1 LSP中公布。向上/向下位设置为1，度量类型为外部度量。这些IP前缀通过L2路由学习，并在L1 SPF计算期间从TLV 130中L2 LSP中公布的前缀以及外部度量中导出。"
    },
    {
      "indent": 0,
      "text": "3.2. Order of Preference for all Types of IP Routes in IS-IS",
      "section_title": true,
      "zh-CHS": "3.2. IS-IS中所有类型IP路由的优先顺序"
    },
    {
      "indent": 3,
      "text": "Unfortunately, IS-IS cannot depend on metrics alone for route selection. Some types of routes must always be preferred over others, regardless of the costs that were computed in the Dijkstra calculation. One of the reasons for this is that inter-area routes can only be advertised with a maximum metric of 63. Another reason is that this maximum value of 63 does not mean infinity (e.g., like a hop count of 16 in RIP denotes unreachable). Introducing a value for infinity cost in IS-IS inter-area routes would introduce counting-to-infinity behavior via two or more L1L2 routers, which would have a bad impact on network stability.",
      "zh-CHS": "不幸的是，IS-IS不能仅依赖于路由选择的指标。无论Dijkstra计算中计算的成本如何，某些类型的路线必须始终优先于其他类型的路线。其中一个原因是区域间路线只能以63的最大度量进行广告。另一个原因是，63的最大值并不意味着无穷大（例如，RIP中的跳数为16表示无法到达）。在IS-IS区域间路由中引入无穷大代价值将通过两个或多个L1L2路由器引入计数到无穷大行为，这将对网络稳定性产生不利影响。"
    },
    {
      "indent": 3,
      "text": "The order of preference of IP routes in IS-IS is based on a few assumptions.",
      "zh-CHS": "IS-IS中IP路由的优先顺序基于几个假设。"
    },
    {
      "indent": 3,
      "text": "o RFC 1195 defines that routes derived from L1 routing are preferred over routes derived from L2 routing.",
      "zh-CHS": "o RFC1195定义了从L1路由导出的路由优先于从L2路由导出的路由。"
    },
    {
      "indent": 3,
      "text": "o The note in RFC 1195, paragraph 3.10.2, item 2c) defines that internal routes with internal metric-type and external prefixes with internal metric-type have the same preference.",
      "zh-CHS": "o RFC 1195第3.10.2段第2c）项中的注释规定，具有内部公制类型的内部路线和具有内部公制类型的外部前缀具有相同的优先权。"
    },
    {
      "indent": 3,
      "text": "o RFC 1195 defines that external routes with internal metric-type are preferred over external routes with external metric-type.",
      "zh-CHS": "o RFC 1195规定，具有内部公制类型的外部路由优先于具有外部公制类型的外部路由。"
    },
    {
      "indent": 3,
      "text": "o Routes derived from L2 routing are preferred over L2->L1 routes derived from L1 routing.",
      "zh-CHS": "o 从L2路由派生的路由优先于从L1路由派生的L2->L1路由。"
    },
    {
      "indent": 3,
      "text": "Based on these assumptions, this document defines the following route preferences.",
      "zh-CHS": "基于这些假设，本文件定义了以下路线首选项。"
    },
    {
      "indent": 3,
      "text": "1. L1 intra-area routes with internal metric; L1 external routes with internal metric",
      "zh-CHS": "1. 具有内部度量的L1区域内路由；具有内部度量的L1外部路由"
    },
    {
      "indent": 3,
      "text": "2. L2 intra-area routes with internal metric; L2 external routes with internal metric; L1->L2 inter-area routes with internal metric; L1->L2 inter-area external routes with internal metric",
      "zh-CHS": "2. 具有内部度量的L2区域内路由；具有内部度量的L2外部路由；L1->L2带内部度量的区域间路由；L1->L2带内部度量的区域间外部路由"
    },
    {
      "indent": 3,
      "text": "3. L2->L1 inter-area routes with internal metric; L2->L1 inter-area external routes with internal metric",
      "zh-CHS": "3. L2->L1带内部度量的区域间路由；L2->L1带内部度量的区域间外部路由"
    },
    {
      "indent": 3,
      "text": "4. L1 external routes with external metric",
      "zh-CHS": "4. 具有外部度量的L1外部路由"
    },
    {
      "indent": 3,
      "text": "5. L2 external routes with external metric; L1->L2 inter-area external routes with external metric",
      "zh-CHS": "5. 具有外部度量的L2外部路由；L1->L2带外部度量的区域间外部路由"
    },
    {
      "indent": 3,
      "text": "6. L2->L1 inter-area external routes with external metric",
      "zh-CHS": "6. L2->L1带外部度量的区域间外部路由"
    },
    {
      "indent": 0,
      "text": "3.3. Additional Notes on What Prefixes to Accept or Advertise",
      "section_title": true,
      "zh-CHS": "3.3. 关于接受或公布哪些前缀的附加说明"
    },
    {
      "indent": 3,
      "text": "Section 3.1 enumerates all used IP route-types in IS-IS. Besides these defined route-types, the encoding used would allow for a few more potential combinations. One of them is the combination of \"IP Internal Reachability Information\" and external metric-type. This combination SHOULD NOT be used when building an LSP. Upon receipt of an IP prefix with this combination, routers MUST ignore this prefix. Another issue would be the usage of the up/down bit in L2 LSPs. Because IS-IS is currently defined with two levels of hierarchy, there should never be a need to set the up/down bit in L2 LSPs. However, if IS-IS would ever be extended with more than two levels of hierarchy, L2-only (or L1L2) routers will need to be able to accept L2 IP routes with the up/down bit set. Therefore, it is RECOMMENDED that implementations ignore the up/down bit in L2 LSPs, and accept the prefixes in L2 LSPs regardless of whether the up/down bit is set. This will allow for simpler migration once more than two levels of hierarchy are defined.",
      "zh-CHS": "第3.1节列举了IS-IS中使用的所有IP路由类型。除了这些已定义的路由类型外，所使用的编码将允许更多的潜在组合。其中之一是“IP内部可达性信息”和外部度量类型的组合。构建LSP时不应使用此组合。在收到具有此组合的IP前缀时，路由器必须忽略此前缀。另一个问题是二级LSP中向上/向下位的使用。由于IS-IS目前定义为两级层次结构，因此不需要在L2 LSP中设置上/下位。然而，如果IS-IS扩展到两级以上的层次结构，则仅L2（或L1L2）路由器将需要能够接受设置了向上/向下位的L2 IP路由。因此，建议实现忽略L2 LSP中的向上/向下位，并接受L2 LSP中的前缀，而不管是否设置了向上/向下位。一旦定义了两级以上的层次结构，这将允许更简单的迁移。"
    },
    {
      "indent": 3,
      "text": "Another detail that implementors should be aware of is the fact that L1L2 routers SHOULD only advertise in their L2 LSP those L1 routes that they use for forwarding themselves. They SHOULD NOT unconditionally advertise into L2 all prefixes from LSPs in the L1 database.",
      "zh-CHS": "实现者应该注意的另一个细节是，L1L2路由器应该只在其L2 LSP中公布它们用于自身转发的L1路由。它们不应该无条件地向L2播发L1数据库中LSP的所有前缀。"
    },
    {
      "indent": 3,
      "text": "Not all prefixes need to be advertised up or down the hierarchy. Implementations might allow for additional manual filtering or summarization to further bring down the number of inter-area prefixes they advertise in their LSPs. It is also RECOMMENDED that the default configuration of L1L2 routers not advertise any L2 routes into L1 (see also Section 4).",
      "zh-CHS": "并非所有前缀都需要在层次结构中向上或向下公布。实现可能允许额外的手动筛选或摘要，以进一步减少它们在LSP中公布的区域间前缀的数量。还建议L1L2路由器的默认配置不向L1播发任何L2路由（另请参见第4节）。"
    },
    {
      "indent": 0,
      "text": "4. Inter-Operability with Older Implementations",
      "section_title": true,
      "zh-CHS": "4. 与旧实现的互操作性"
    },
    {
      "indent": 3,
      "text": "The solution in this document is not fully compatible with RFC 1195. It is an extension to RFC 1195. If routers do not use the new functionality of external L1 routes or L2->L1 inter-area routes, older implementations that strictly follow RFC 1195 will be compatible with newer implementations that follow this document.",
      "zh-CHS": "本文档中的解决方案与RFC 1195不完全兼容。它是RFC1195的扩展。如果路由器不使用外部L1路由或L2->L1区域间路由的新功能，严格遵循RFC 1195的旧实现将与遵循本文档的新实现兼容。"
    },
    {
      "indent": 3,
      "text": "Implementations that do not accept the \"IP External Reachability Information\" TLV in L1 LSPs will not be able to compute external L1 routes. This could cause routing loops between L1-only routers that do understand external L1 routes for a particular destination, and L1-only routers that use the default route pointing to the closest attached L1L2 router for that destination.",
      "zh-CHS": "不接受L1 LSP中的“IP外部可达性信息”TLV的实现将无法计算外部L1路由。这可能会导致只了解特定目的地的外部L1路由的L1路由器与使用指向该目的地最近连接的L1L2路由器的默认路由的L1路由器之间出现路由循环。"
    },
    {
      "indent": 3,
      "text": "Implementations that follow RFC 1195 SHOULD ignore bit 8 in the default Metric field when computing routes. Therefore, even older implementations that do not know of the up/down bit should be able to accept the new L2->L1 inter-area routes. These older implementations will install the new L2->L1 inter-area routes as L1 intra-area routes, but that in itself does not cause routing loops among L1-only routers.",
      "zh-CHS": "在计算路由时，遵循RFC1195的实现应忽略默认度量字段中的第8位。因此，即使是不知道向上/向下位的旧实现也应该能够接受新的L2->L1区域间路由。这些较旧的实现将新的L2->L1区域间路由安装为L1区域内路由，但这本身不会导致仅L1路由器之间的路由循环。"
    },
    {
      "indent": 3,
      "text": "However, it is vital that the up/down bit is recognized by L1L2 routers. As has been stated before, L1L2 routers MUST NOT advertise L2->L1 inter-area routes back into L2. Therefore, if L2 routes are advertised down into an L1 area, it is required that all L1L2 routers in that area run software that understands the new up/down bit. Older implementations that follow RFC 1195 and do not understand the new up/down bit will treat the L2->L1 inter-area routes as L1 intra-area routes, and they will advertise these routes back into L2. This can cause routing loops, sub-optimal routing, or extra routing instability. For this reason, it is RECOMMENDED that implementations by default not advertise any L2 routes into L1. Implementations SHOULD force the network administrator to manually configure L1L2 routers to advertise any L2 routes into L1.",
      "zh-CHS": "但是，L1L2路由器必须识别上行/下行位。如前所述，L1L2路由器不得将L2->L1区域间路由播发回L2。因此，如果L2路由向下播发到L1区域，则该区域中的所有L1L2路由器都需要运行理解新的向上/向下位的软件。遵循RFC 1195且不理解新的向上/向下位的较旧实现将把L2->L1区域间路由视为L1区域内路由，并且它们将把这些路由播发回L2。这可能导致路由循环、次优路由或额外路由不稳定。因此，建议实现在默认情况下不向L1播发任何L2路由。实施应强制网络管理员手动配置L1L2路由器，以将任何L2路由播发到L1。"
    },
    {
      "indent": 0,
      "text": "5. Comparisons with Other Proposals",
      "section_title": true,
      "zh-CHS": "5. 与其他提案的比较"
    },
    {
      "indent": 3,
      "text": "In [RFC5305], a new TLV is defined to transport IP prefix information. This TLV format also defines an up/down bit to allow for L2->L1 inter-area routes. RFC 5305 also defines a new TLV to describe links. Both TLVs have wider metric space and have the possibility to define sub-TLVs to advertise extra information belonging to the link or prefix. The wider metric space in IP prefix TLVs allows for more granular metric information about inter-area path costs. To make full use of the wider metric space, network administrators must deploy both new TLVs at the same time.",
      "zh-CHS": "在[RFC5305]中，定义了一个新的TLV来传输IP前缀信息。此TLV格式还定义了一个向上/向下位，以允许L2->L1区域间路由。RFC 5305还定义了一个新的TLV来描述链路。两个TLV都有更宽的度量空间，并且有可能定义子TLV来公布属于链接或前缀的额外信息。IP前缀TLV中更宽的度量空间允许更多关于区域间路径成本的粒度度量信息。为了充分利用更广泛的度量空间，网络管理员必须同时部署两个新的TLV。"
    },
    {
      "indent": 3,
      "text": "Deployment of RFC 5305 requires an upgrade of all routers in the network and a transition to the new TLVs. Such a network-wide upgrade and transition might not be an easy task. In this case, the solution defined in this document, which requires only an upgrade of L1L2 routers in selected areas, might be a good alternative to the solution defined in 5305.",
      "zh-CHS": "RFC 5305的部署需要升级网络中的所有路由器，并过渡到新的TLV。这种网络范围的升级和转换可能不是一件容易的任务。在这种情况下，本文档中定义的解决方案可能是5305中定义的解决方案的良好替代方案，它只需要在选定区域升级L1L2路由器。"
    },
    {
      "indent": 0,
      "text": "6. Security Considerations",
      "section_title": true,
      "zh-CHS": "6. 安全考虑"
    },
    {
      "indent": 3,
      "text": "This document raises no new security issues for IS-IS; for general security considerations for IS-IS see [RFC5304].",
      "zh-CHS": "本文件未对IS-IS提出新的安全问题；有关IS-IS的一般安全注意事项，请参见[RFC5304]。"
    },
    {
      "indent": 0,
      "text": "7. References",
      "section_title": true,
      "zh-CHS": "7. 工具书类"
    },
    {
      "indent": 0,
      "text": "7.1. Normative References",
      "section_title": true,
      "zh-CHS": "7.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[ISO-10589] ISO, \"Intermediate System to Intermediate System intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)\", International Standard 10589:2002, Second Edition, 2002.",
      "zh-CHS": "[ISO-10589]ISO，“与提供无连接模式网络服务协议（ISO 8473）一起使用的中间系统到中间系统域内路由信息交换协议”，国际标准10589:2002，第二版，2002年。"
    },
    {
      "indent": 3,
      "text": "[RFC1195] Callon, R., \"Use of OSI IS-IS for routing in TCP/IP and dual environments\", RFC 1195, December 1990.",
      "zh-CHS": "[RFC1195]Callon，R.，“OSI IS-IS在TCP/IP和双环境中的路由使用”，RFC 11951990年12月。"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "zh-CHS": "[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，1997年3月。"
    },
    {
      "indent": 0,
      "text": "7.2. Informative References",
      "section_title": true,
      "zh-CHS": "7.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[RFC2966] Li, T., Przygienda, T., and H. Smit, \"Domain-wide Prefix Distribution with Two-Level IS-IS\", RFC 2966, October 2000.",
      "zh-CHS": "[RFC2966]Li，T.，Przygienda，T.，和H.Smit，“具有两级IS-IS的域范围前缀分布”，RFC 2966，2000年10月。"
    },
    {
      "indent": 3,
      "text": "[RFC5304] Li, T. and R. Atkinson, \"IS-IS Cryptographic Authentication\", RFC 5304, October 2008.",
      "zh-CHS": "[RFC5304]Li，T.和R.Atkinson，“IS-IS加密认证”，RFC 5304，2008年10月。"
    },
    {
      "indent": 3,
      "text": "[RFC5305] Li, T. and H. Smit, \"IS-IS Extensions for Traffic Engineering\", RFC 5305, October 2008.",
      "zh-CHS": "[RFC5305]Li，T.和H.Smit，“交通工程的IS-IS扩展”，RFC 5305，2008年10月。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "Tony Li Redback Networks, Inc. 300 Holger Way San Jose, CA 95134 USA",
      "zh-CHS": "Tony Li Redback Networks，Inc.美国加利福尼亚州圣何塞霍尔格大道300号，邮编95134"
    },
    {
      "indent": 3,
      "text": "Phone: +1 408 750 5160\nEMail: tony.li@tony.li",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Henk Smit",
      "zh-CHS": "亨克斯密特"
    },
    {
      "indent": 3,
      "text": "EMail: hhw.smit@xs4all.nl",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Tony Przygienda Z2 Sagl Via Tersaggio 20 CH-6949 Comano Switzerland",
      "zh-CHS": "Tony Przygienda Z2 Sagl Via Tersaggio 20 CH-6949瑞士科马诺酒店"
    },
    {
      "indent": 3,
      "text": "EMail: prz@net4u.ch",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "Full Copyright Statement",
      "zh-CHS": "完整版权声明"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The IETF Trust (2008).",
      "zh-CHS": "版权所有（C）IETF信托基金（2008年）。"
    },
    {
      "indent": 3,
      "text": "This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.",
      "zh-CHS": "本文件受BCP 78中包含的权利、许可和限制的约束，除其中规定外，作者保留其所有权利。"
    },
    {
      "indent": 3,
      "text": "This document and the information contained herein are provided on an \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.",
      "zh-CHS": "本文件及其包含的信息以“原样”为基础提供，贡献者、他/她所代表或赞助的组织（如有）、互联网协会、IETF信托基金和互联网工程任务组不承担任何明示或暗示的担保，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。"
    },
    {
      "indent": 0,
      "text": "Intellectual Property",
      "zh-CHS": "知识产权"
    },
    {
      "indent": 3,
      "text": "The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.",
      "zh-CHS": "IETF对可能声称与本文件所述技术的实施或使用有关的任何知识产权或其他权利的有效性或范围，或此类权利下的任何许可可能或可能不可用的程度，不采取任何立场；它也不表示它已作出任何独立努力来确定任何此类权利。有关RFC文件中权利的程序信息，请参见BCP 78和BCP 79。"
    },
    {
      "indent": 3,
      "text": "Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at http://www.ietf.org/ipr.",
      "zh-CHS": "向IETF秘书处披露的知识产权副本和任何许可证保证，或本规范实施者或用户试图获得使用此类专有权利的一般许可证或许可的结果，可从IETF在线知识产权存储库获取，网址为http://www.ietf.org/ipr."
    },
    {
      "indent": 3,
      "text": "The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at ietf-ipr@ietf.org.",
      "zh-CHS": "IETF邀请任何相关方提请其注意任何版权、专利或专利申请，或其他可能涵盖实施本标准所需技术的专有权利。请将信息发送至IETF的IETF-ipr@ietf.org."
    }
  ]
}