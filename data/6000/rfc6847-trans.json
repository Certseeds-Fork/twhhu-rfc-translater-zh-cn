{
  "title": {
    "text": "RFC 6847: Fibre Channel over Ethernet (FCoE) over Transparent Interconnection of Lots of Links (TRILL)",
    "zh-CHS": "RFC 6847"
  },
  "number": 6847,
  "created_at": "2021-11-04 12:40:56.507285+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Independent Submission                                         D. Melman\nRequest for Comments: 6847                                    T. Mizrahi\nCategory: Informational                                          Marvell\nISSN: 2070-1721                                          D. Eastlake 3rd\n                                                                  Huawei\n                                                            January 2013",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 10,
      "text": " Fibre Channel over Ethernet (FCoE) over Transparent Interconnection of Lots of Links (TRILL)",
      "zh-CHS": "通过大量链路（TRILL）透明互连的以太网光纤通道（FCoE）"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "Fibre Channel over Ethernet (FCoE) and Transparent Interconnection of Lots of Links (TRILL) are two emerging standards in the data center environment. While these two protocols are seemingly unrelated, they have a very similar behavior in the forwarding plane, as both perform hop-by-hop forwarding over Ethernet, modifying the packet's Media Access Control (MAC) addresses at each hop. This document describes an architecture for the integrated deployment of these two protocols.",
      "zh-CHS": "以太网光纤通道（FCoE）和大量链路的透明互连（TRILL）是数据中心环境中的两个新兴标准。虽然这两个协议看似不相关，但它们在转发平面上的行为非常相似，因为它们都通过以太网执行逐跳转发，在每个跃点修改数据包的媒体访问控制（MAC）地址。本文档描述了这两个协议的集成部署架构。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "zh-CHS": "本文件不是互联网标准跟踪规范；它是为了提供信息而发布的。"
    },
    {
      "indent": 3,
      "text": "This is a contribution to the RFC Series, independently of any other RFC stream. The RFC Editor has chosen to publish this document at its discretion and makes no statement about its value for implementation or deployment. Documents approved for publication by the RFC Editor are not a candidate for any level of Internet Standard; see Section 2 of RFC 5741.",
      "zh-CHS": "这是对RFC系列的贡献，独立于任何其他RFC流。RFC编辑器已选择自行发布此文档，并且未声明其对实现或部署的价值。RFC编辑批准发布的文件不适用于任何级别的互联网标准；见RFC 5741第2节。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6847.",
      "zh-CHS": "有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc6847."
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2013 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "zh-CHS": "版权所有（c）2013 IETF信托基金和确定为文件作者的人员。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document.",
      "zh-CHS": "本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1. Introduction ................................................. 2\n2. Abbreviations ................................................ 3\n3. FCoE over TRILL .............................................. 4\n   3.1. FCoE over a TRILL Cloud ................................. 4\n   3.2. FCoE over an RBridge .................................... 5\n      3.2.1. FCRB ............................................... 5\n      3.2.2. Topology ........................................... 7\n      3.2.3. The FCRB Flow .....................................  8\n         3.2.3.1. Example - ENode to ENode .....................  8\n            3.2.3.1.1. Forwarding from A to C in Dense Mode ....  9\n            3.2.3.1.2. Forwarding from A to C in Sparse Mode ...  9\n         3.2.3.2. Example - ENode to Native FC Node ............ 10\n         3.2.3.3. Example - ENode to ENode with Non-FCRB EoR ... 10\n         3.2.3.4. Example - FCoE Control Traffic through an FCRB 11\n4. Security Considerations ..................................... 12\n5. Acknowledgments ............................................. 12\n6. References .................................................. 12\n   6.1. Normative References ................................... 12\n   6.2. Informative References ................................. 12",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "Data center networks are rapidly evolving towards a consolidated approach, in which Ethernet is used as the common infrastructure for all types of traffic. Storage traffic was traditionally dominated by the Fibre Channel (FC) protocol suite. At the intersection between these two technologies a new technology was born, Fibre Channel over Ethernet (FCoE), in which native FC packets are encapsulated with an FCoE encapsulation over an Ethernet header. FCoE is specified in [FC-BB-5]. (A future version of FCoE is under development and is expected to be specified in a document to be referred to as FC-BB-6; however, this is a work in progress and is beyond the scope of this document.)",
      "zh-CHS": "数据中心网络正朝着整合的方向快速发展，其中以太网被用作所有类型流量的公共基础设施。传统上，存储流量主要由光纤通道（FC）协议套件控制。在这两种技术的交叉点上诞生了一种新技术，即以太网光纤通道（FCoE），在这种技术中，本机FC数据包通过以太网报头上的FCoE封装进行封装。[FC-BB-5]中规定了FCoE。（FCoE的未来版本正在开发中，预计将在一份称为FC-BB-6的文件中指定；但是，这是一项正在进行的工作，超出了本文件的范围。）"
    },
    {
      "indent": 3,
      "text": "Traffic between two FCoE end nodes (ENodes) is forwarded through one or more FCoE Forwarders (FCFs). An FCF takes a forwarding decision based on the Fibre Channel destination ID (D_ID), and enforces security policies between ENodes, also known as zoning. Once an FCF takes a forwarding decision, it modifies the source and destination MAC addresses of the packet, to reflect the path to the next-hop FCF or ENode. An FCoE virtual link is an Ethernet link between an ENode and an FCF, or between two FCFs. An FCoE virtual link may traverse one or more Layer 2 bridges. FCFs use a routing protocol called Fabric Shortest Path First (FSPF) to find the optimal path to each",
      "zh-CHS": "两个FCoE端节点（eNode）之间的流量通过一个或多个FCoE转发器（FCF）转发。FCF根据光纤通道目标ID（D_ID）做出转发决定，并在节点之间强制执行安全策略，也称为分区。一旦FCF做出转发决定，它将修改数据包的源和目标MAC地址，以反映到下一跳FCF或ENode的路径。FCoE虚拟链路是ENode和FCF之间或两个FCF之间的以太网链路。FCoE虚拟链路可穿过一个或多个第2层网桥。FCFs使用一种称为结构最短路径优先（FSPF）的路由协议来找到每个节点的最佳路径"
    },
    {
      "indent": 3,
      "text": "destination. An FCF typically has one or more native Fibre Channel interfaces, allowing it to communicate with native Fibre Channel devices, e.g., storage arrays.",
      "zh-CHS": "目的地FCF通常具有一个或多个本机光纤通道接口，允许它与本机光纤通道设备（例如存储阵列）通信。"
    },
    {
      "indent": 3,
      "text": "TRILL [TRILL] is a protocol for transparent least-cost routing, where Routing Bridges (RBridges) forward traffic to their destination based on a least-cost route, using a TRILL encapsulation header. RBridges route TRILL-encapsulated packets based on the egress RBridge nickname in the TRILL header. An RBridge routes a TRILL-encapsulated packet after modifying its MAC addresses to reflect the path to the next-hop RBridge and decrementing a Hop Count field.",
      "zh-CHS": "TRILL[TRILL]是一种用于透明最低成本路由的协议，其中路由桥（RBridge）使用TRILL封装报头，基于最低成本路由将流量转发到其目的地。RBridges根据TRILL报头中的出口RBridge昵称路由TRILL封装的数据包。RBridge在修改其MAC地址以反映到下一跳RBridge的路径并减少跳数字段后，路由TRILL封装的数据包。"
    },
    {
      "indent": 3,
      "text": "TRILL and FCoE bear a strong resemblance in their forwarding planes. Both protocols take a routing decision based on protocol addresses above Layer 2, and both modify the Ethernet MAC addresses on a per-hop basis. Each of the protocols uses its own routing protocol rather than using any type of bridging protocol, such as the spanning tree protocol [802.1Q] or the Shortest Path Bridging protocol [802.1Q].",
      "zh-CHS": "TRILL和FCoE在其转发平面上有很大的相似性。这两个协议都基于第2层以上的协议地址进行路由决策，并且都基于每跳修改以太网MAC地址。每个协议使用其自己的路由协议，而不是使用任何类型的桥接协议，例如生成树协议[802.1Q]或最短路径桥接协议[802.1Q]。"
    },
    {
      "indent": 3,
      "text": "FCoE and TRILL are both targeted at the data center environment, and their concurrent deployment is self-evident. This document describes an architecture for the integrated deployment of these two protocols.",
      "zh-CHS": "FCoE和TRILL都是针对数据中心环境的，它们的并行部署是不言而喻的。本文档描述了这两个协议的集成部署架构。"
    },
    {
      "indent": 0,
      "text": "2. Abbreviations",
      "section_title": true,
      "zh-CHS": "2. 缩写"
    },
    {
      "indent": 3,
      "text": "DCB Data Center Bridging",
      "zh-CHS": "数据中心桥接"
    },
    {
      "indent": 3,
      "text": "ENode FCoE Node such as server or storage array",
      "zh-CHS": "ENode FCoE节点，如服务器或存储阵列"
    },
    {
      "indent": 3,
      "text": "EoR End of Row",
      "zh-CHS": "提高采收率排末"
    },
    {
      "indent": 3,
      "text": "FC Fibre Channel",
      "zh-CHS": "光纤通道"
    },
    {
      "indent": 3,
      "text": "FCF FCoE Forwarder",
      "zh-CHS": "FCF货代"
    },
    {
      "indent": 3,
      "text": "FCoE Fibre Channel over Ethernet",
      "zh-CHS": "以太网光纤通道"
    },
    {
      "indent": 3,
      "text": "FCRB FCF over RBridge",
      "zh-CHS": "FCRB FCF在RBridge上"
    },
    {
      "indent": 3,
      "text": "FIP FCoE Initialization Protocol",
      "zh-CHS": "FIP FCoE初始化协议"
    },
    {
      "indent": 3,
      "text": "FSPF Fabric Shortest Path First",
      "zh-CHS": "FSPF结构最短路径优先"
    },
    {
      "indent": 3,
      "text": "LAN Local Area Network",
      "zh-CHS": "局域网"
    },
    {
      "indent": 3,
      "text": "RBridge Routing Bridge",
      "zh-CHS": "RBridge路由桥"
    },
    {
      "indent": 3,
      "text": "SAN Storage Area Network",
      "zh-CHS": "SAN存储区域网"
    },
    {
      "indent": 3,
      "text": "ToR Top of Rack",
      "zh-CHS": "机架顶部"
    },
    {
      "indent": 3,
      "text": "TRILL Transparent Interconnection of Lots of Links",
      "zh-CHS": "大量链路的TRILL透明互连"
    },
    {
      "indent": 3,
      "text": "WAN Wide Area Network",
      "zh-CHS": "广域网广域网"
    },
    {
      "indent": 0,
      "text": "3. FCoE over TRILL",
      "section_title": true,
      "zh-CHS": "3. 颤音上的FCoE"
    },
    {
      "indent": 0,
      "text": "3.1. FCoE over a TRILL Cloud",
      "section_title": true,
      "zh-CHS": "3.1. 颤音云上的FCoE"
    },
    {
      "indent": 3,
      "text": "The simplest approach for running FCoE traffic over a TRILL network is presented in Figure 1. The figure illustrates a TRILL-enabled network, in which FCoE traffic is transparently forwarded over the TRILL cloud. The figure illustrates two ENodes, a Server and an FCoE Storage Array, an FCF, and a native Fibre Channel SAN connected to the FCF.",
      "zh-CHS": "在TRILL网络上运行FCoE流量的最简单方法如图1所示。该图显示了启用TRILL的网络，其中FCoE流量通过TRILL云透明转发。该图显示了两个eNode，一个服务器和一个FCoE存储阵列、一个FCF和一个连接到FCF的本机光纤通道SAN。"
    },
    {
      "indent": 3,
      "text": "FCoE traffic between the two ENodes is sent from the first ENode over the TRILL cloud to the FCF, and then back through the TRILL cloud to the second ENode.",
      "zh-CHS": "两个ENode之间的FCoE通信量通过颤音云从第一个ENode发送到FCF，然后通过颤音云返回到第二个ENode。"
    },
    {
      "indent": 9,
      "text": "   +---+\n   |   |_________\n   |   |         \\  ___   _\n   +---+          \\/   \\_/ \\__                  _   __\nFCoE Storage     _/           \\                / \\_/  \\_\n   Array        /    TRILL    /       +---+    \\_       \\\n (ENode A)      \\_   Cloud   /________|   |____/  SAN  _/\n                 /           \\        |   |    \\__   _/\n                 \\__/\\_   ___/        +---+       \\_/\n   +---+         /     \\_/             FCF\n   |   |________/\n   |   |\n   +---+\n   Server\n (ENode B)",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 18,
      "text": "Figure 1. The \"Separate Cloud\" Approach",
      "zh-CHS": "图1。“分离云”方法"
    },
    {
      "indent": 3,
      "text": "The configuration in Figure 1 separates the TRILL cloud(s) and the FCoE cloud(s). The TRILL cloud routes FCoE traffic as standard Ethernet traffic, and appears to the ENodes and FCF as an Ethernet LAN. FCoE traffic routed over the TRILL cloud includes FCoE data frames, as well as FCoE control traffic, including FCoE",
      "zh-CHS": "图1中的配置将颤音云和FCoE云分开。TRILL cloud将FCoE流量路由为标准以太网流量，并在ENodes和FCF中显示为以太网LAN。通过TRILL云路由的FCoE流量包括FCoE数据帧以及FCoE控制流量，包括FCoE"
    },
    {
      "indent": 3,
      "text": "Initialization Protocol (FIP) frames. To eliminate frame loss due to queue overflow, the switches in any TRILL Cloud used with FCoE would likely implement and use the relevant DCB protocols [TRILLPFC] [TRILLCN].",
      "zh-CHS": "初始化协议（FIP）帧。为了消除由于队列溢出而导致的帧丢失，与FCoE一起使用的任何TRILL云中的交换机都可能实现并使用相关的DCB协议[TRILLPFC][TRILLCN]。"
    },
    {
      "indent": 3,
      "text": "The main drawbacks of the Separate Cloud approach are that RBridges and FCFs are separate nodes in the network, resulting in more cabling and boxes, and that communication between ENodes usually requires traversing the TRILL cloud twice, so there are twice as many hops. As mentioned above, data center networking is converging towards a consolidated and cost-effective approach, where the same infrastructure and equipment are used for both data and storage traffic, and where high efficiency and minimal number of hops are important factors when designing the network topology.",
      "zh-CHS": "分离云方法的主要缺点是RBridges和FCF是网络中的独立节点，导致更多的布线和接线盒，而eNode之间的通信通常需要穿越TRILL云两次，因此跳数是TRILL云的两倍。如上所述，数据中心网络正朝着一种整合且经济高效的方法发展，在这种方法中，相同的基础设施和设备用于数据和存储流量，并且在设计网络拓扑时，高效率和最少的跳数是重要的因素。"
    },
    {
      "indent": 3,
      "text": "The Separate Cloud approach is presented as background to clarify the motivation to develop an alternative approach with a higher level of integration.",
      "zh-CHS": "本文以独立云方法为背景，阐明了开发具有更高集成度的替代方法的动机。"
    },
    {
      "indent": 0,
      "text": "3.2. FCoE over an RBridge",
      "section_title": true,
      "zh-CHS": "3.2. 在桥上飞行"
    },
    {
      "indent": 0,
      "text": "3.2.1. FCRB",
      "section_title": true,
      "zh-CHS": "3.2.1. FCRB"
    },
    {
      "indent": 3,
      "text": "Rather than using the Separate Cloud approach discussed in Section 3.1, an alternate approach is presented, where each switch incorporates both an FCF entity and an RBridge entity. This consolidated entity is referred to as FCoE-forwarder-over-RBridge (FCRB).",
      "zh-CHS": "不使用第3.1节中讨论的单独云方法，而是提供了一种替代方法，其中每个交换机同时包含一个FCF实体和一个RBridge实体。该合并实体称为RBridge的FCoE货运代理（FCRB）。"
    },
    {
      "indent": 3,
      "text": "Figure 2 illustrates an FCRB and its main building blocks. An FCRB can be functionally viewed as two independent entities:",
      "zh-CHS": "图2展示了FCRB及其主要构建块。FCRB在功能上可被视为两个独立实体："
    },
    {
      "indent": 3,
      "text": "o An FCoE Forwarder (FCF) entity.",
      "zh-CHS": "o FCoE货运代理（FCF）实体。"
    },
    {
      "indent": 3,
      "text": "o An RBridge entity.",
      "zh-CHS": "o 一个实体。"
    },
    {
      "indent": 3,
      "text": "The FCF entity is connected to one of the ports of the RBridge, and appears to the RBridge as a native Ethernet host. A detailed description of the interaction between the layers is presented in Section 3.2.3.",
      "zh-CHS": "FCF实体连接到RBridge的一个端口，并在RBridge中显示为本机以太网主机。第3.2.3节详细描述了各层之间的相互作用。"
    },
    {
      "indent": 3,
      "text": "Note: In this document, the term \"FCF\" is used slightly differently than defined in [FC-BB-5] to emphasize the concept that an FCRB is logically similar to an RBridge cascaded to an FCF. In the terminology defined in [FC-BB-5], an FCRB would be referred to as an FCF, and the FCF building block in Figure 2 would be referred to as an FC switching element.",
      "zh-CHS": "注：在本文件中，术语“FCF”的使用与[FC-BB-5]中的定义略有不同，以强调FCRB在逻辑上类似于级联到FCF的RBridge的概念。在[FC-BB-5]中定义的术语中，FCRB称为FCF，图2中的FCF构建块称为FC开关元件。"
    },
    {
      "indent": 3,
      "text": "                       +-------------------+\n                       |FCRB               |\n                       |   +-----------+   |    Native FC\n                       |   |    FCF    |------  Interface\n                       |   +-----+-----+   |\n                       |         |         |\n                       |   +-----+-----+   |\n                       |   |  RBridge  |   |\n                       |   +-+-+---+-+-+   |\n                       |     | |   | |     |\n                       +-----|-|---|-|-----+\n              FCoE/          / |   | |\n   +---+    Ethernet        /  /   | | FCoE / Ethernet\n   |   |___________________/  /    | | over TRILL      ___   _\n   |   |                     /     | |                /   \\_/ \\__\n   +---+                    /      | \\_____________ _/           \\\nFCoE Storage               /       \\_______________/    TRILL    /\n   Array                  /                        \\_   Cloud   /\n (ENode A)               /                          /           \\\n                        /                           \\__/\\_   ___/\n   +---+               /                                  \\_/\n   |   |______________/\n   |   |\n   +---+\n   Server\n (ENode B)",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 20,
      "text": "Figure 2. FCRB Entity in the Network",
      "zh-CHS": "图2。网络中的FCRB实体"
    },
    {
      "indent": 3,
      "text": "The FCRB entity maintains layer independence between the TRILL and FCoE protocols, while enabling both protocols on the same network.",
      "zh-CHS": "FCRB实体保持TRILL和FCoE协议之间的层独立性，同时在同一网络上启用这两个协议。"
    },
    {
      "indent": 3,
      "text": "Note that FCoE traffic is always forwarded through an FCF and cannot be forwarded directly between two ENodes. Thus, FCoE traffic between ENodes A and B in the topology in Figure 1 is forwarded through the path",
      "zh-CHS": "请注意，FCoE流量始终通过FCF转发，不能在两个节点之间直接转发。因此，图1中拓扑中的节点A和节点B之间的FCoE流量通过路径转发"
    },
    {
      "indent": 6,
      "text": "ENode A-->TRILL cloud-->FCF-->TRILL cloud-->ENode B",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "As opposed to the topology in Figure 1, the FCF in Figure 2 is adjacent to ENodes A and B. In Figure 2, the FCRB is connected to ENodes A and B, and functions as the edge RBridge that connects these two nodes to the TRILL cloud, as well as the FCF that forwards traffic between these two nodes. Thus, traffic between ENodes A and B in the topology in Figure 2 is forwarded through the path",
      "zh-CHS": "与图1中的拓扑相反，图2中的FCF与ENodes A和B相邻。在图2中，FCRB连接到ENodes A和B，并充当将这两个节点连接到TRILL云的边缘RBridge，以及转发这两个节点之间流量的FCF。因此，图2中拓扑中的节点A和节点B之间的流量通过路径转发"
    },
    {
      "indent": 6,
      "text": "ENode A-->FCRB-->ENode B",
      "zh-CHS": "节点A-->FCRB-->节点B"
    },
    {
      "indent": 3,
      "text": "Hence, the usage of FCRB entities allows TRILL and FCoE to use common infrastructure and equipment, as opposed to requiring separate infrastructure as shown in the Separate Cloud topology presented in Figure 1.",
      "zh-CHS": "因此，FCRB实体的使用允许TRILL和FCoE使用公共基础设施和设备，而不是像图1所示的单独的云拓扑那样需要单独的基础设施。"
    },
    {
      "indent": 0,
      "text": "3.2.2. Topology",
      "section_title": true,
      "zh-CHS": "3.2.2. 拓扑学"
    },
    {
      "indent": 3,
      "text": "The network configuration illustrated in Figure 3 shows a typical\ntopology of a data center network.  Servers are hierarchically\nconnected through Top-of-Rack (ToR) switches, also known as access\nswitches, and each set of racks is aggregated through an End-of-Row\n(EoR) switch.  The EoR switches are aggregated to the core switches,\nwhich may be connected to other clouds, such as an external WAN or a\nnative FC SAN.\n                     _   __               _   __\n                    / \\_/  \\_            / \\_/  \\_\n                    \\_       \\           \\_       \\ ....\n                    /  SAN  _/           /  WAN  _/\n                    \\__   _/             \\__   _/\n                       \\_/                  \\_/\n                        |                    |\n                        |                    |\n                     +------+            +------+\n    Core             |      |            |      |\n    FCoE over        |      |            |      |\n    RBridge          |      |            |      |\n    (FCRB)           +------+            +------+\n                        |    \\___    ___/     |\n                        |        \\  /         |\n                        |         \\/          |\n    EoR              +----+_______/\\_______+----+\n    FCoE over        |    |                |    |\n    RBridge          |    |                |    |\n    (FCRB)           +----+                +----+\n                     /    \\                /    \\\n                    /      \\              /      \\\n    ToR         +---+      +---+      +---+      +---+\n    FCoE over   |   |      |   |      |   |      |   |\n    RBridge     |   |      |   |      |   |      |   |\n    (FCRB)      +---+      +---+      +---+      +---+\n                 / \\        / \\        / \\        / \\\n                /   \\      /   \\      /   \\      /   \\\n              +-+   +-+  +-+   +-+  +-+   +-+  +-+   +-+\n    Servers/  | |   | |  | |   | |  | |   | |  | |   | |\n    ENodes    +-+   +-+  +-+   +-+  +-+   +-+  +-+   +-+\n               A     B    C     D    E     F    G     H",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 20,
      "text": "Figure 3. FCoE over RBridge Topology",
      "zh-CHS": "图3。RBridge拓扑上的FCoE"
    },
    {
      "indent": 3,
      "text": "Note that in the example in Figure 3, all the ToR, EoR, and core switches are FCRB entities, but it is also possible for some of the network nodes to be pure RBridges, creating a topology in which FCRBs are interconnected through TRILL clouds.",
      "zh-CHS": "请注意，在图3中的示例中，所有ToR、EoR和核心交换机都是FCRB实体，但某些网络节点也可能是纯RBridge，从而创建了一种拓扑，其中FCRB通过颤音云互连。"
    },
    {
      "indent": 0,
      "text": "3.2.3. The FCRB Flow",
      "section_title": true,
      "zh-CHS": "3.2.3. FCRB流"
    },
    {
      "indent": 0,
      "text": "3.2.3.1. Example - ENode to ENode",
      "section_title": true,
      "zh-CHS": "3.2.3.1. 示例-ENode到ENode"
    },
    {
      "indent": 3,
      "text": "FCoE traffic sent between the two ENodes A and B in Figure 3 is transmitted through the ToR FCRB, since A and B are connected to the same ToR. Traffic between ENodes A and C must be forwarded through the EoR FCRB.",
      "zh-CHS": "图3中两个节点A和B之间发送的FCoE流量通过ToR FCRB传输，因为A和B连接到同一ToR。节点A和C之间的通信必须通过EoR FCRB转发。"
    },
    {
      "indent": 3,
      "text": "The FCoE jargon distinguishes between two deployment modes:",
      "zh-CHS": "FCoE术语区分了两种部署模式："
    },
    {
      "indent": 3,
      "text": "o Sparse mode: an FCoE packet sent between two FCFs may be forwarded over several hops of a Layer 2 network, allowing the underlying Layer 2 network to determine the path between the two FCFs.",
      "zh-CHS": "o 稀疏模式：在两个FCF之间发送的FCoE数据包可以在第2层网络的多个跃点上转发，从而允许底层第2层网络确定两个FCF之间的路径。"
    },
    {
      "indent": 3,
      "text": "o Dense mode: each node along the path between two FCFs is also an FCF, and the network is configured such that the forwarding decision at each hop is taken at the FCF layer, allowing the path between the two FCFs to be based on the FSPF routing protocol.",
      "zh-CHS": "o 密集模式：两个FCF之间路径上的每个节点也是一个FCF，网络配置为在FCF层执行每个跃点的转发决策，允许两个FCF之间的路径基于FSPF路由协议。"
    },
    {
      "indent": 3,
      "text": "Figure 4 illustrates the traffic between ENodes A and C, which are not connected to the same ToR. The following two subsections describe the forwarding procedure in the Dense mode and in the Sparse mode, respectively.",
      "zh-CHS": "图4显示了未连接到同一ToR的节点A和节点C之间的通信量。以下两小节分别描述密集模式和稀疏模式下的转发过程。"
    },
    {
      "indent": 1,
      "text": "+--------+     +--------+     +--------+     +--------+     +--------+\n| FCoE   |.....|  FCF   |.....|  FCF   |.....|  FCF   |.....| FCoE   |\n| ENode  |     +--------+     +--------+     +--------+     | ENode  |\n|        |     |RBridge |.....|RBridge |.....|RBridge |     |        |\n+--------+     +--------+     +--------+     +--------+     +--------+\n|Ethernet|<===>|Ethernet|<===>|Ethernet|<===>|Ethernet|<===>|Ethernet|\n+--------+     +--------+     +--------+     +--------+     +--------+\n  Server          ToR 1          EoR            ToR 2      FCoE Storage\n  ENode A         FCRB           FCRB           FCRB          Array\n                                                             ENode C",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 14,
      "text": "Figure 4. Traffic between two ENodes - Example",
      "zh-CHS": "图4。两个节点之间的通信量-示例"
    },
    {
      "indent": 0,
      "text": "3.2.3.1.1. Forwarding from A to C in Dense Mode",
      "section_title": true,
      "zh-CHS": "3.2.3.1.1. 以密集模式从A转发到C"
    },
    {
      "indent": 3,
      "text": "o FCoE traffic from A is sent to ToR 1 over the Ethernet interface. The destination MAC address is the address of the FCF entity at ToR 1.",
      "zh-CHS": "o 来自A的FCoE流量通过以太网接口发送到ToR 1。目标MAC地址是ToR 1处FCF实体的地址。"
    },
    {
      "indent": 3,
      "text": "o ToR 1:",
      "zh-CHS": "o 任务1："
    },
    {
      "indent": 9,
      "text": "o The packet is forwarded to the FCF entity at the ToR. Thus, forwarding between ENode A and the FCF at the ToR is analogous to forwarding between two Ethernet hosts.",
      "zh-CHS": "o 数据包被转发到ToR处的FCF实体。因此，在ToR处的ENode A和FCF之间的转发类似于两个以太网主机之间的转发。"
    },
    {
      "indent": 9,
      "text": "o The FCF entity at the ToR takes a forwarding decision based on the FC addresses. This decision is based on the FSPF routing protocol at the FCF layer. The FCF entity at the ToR forwards the packet to the FCF entity in the EoR.",
      "zh-CHS": "o ToR处的FCF实体根据FC地址做出转发决定。该决定基于FCF层的FSPF路由协议。ToR处的FCF实体将数据包转发给EoR中的FCF实体。"
    },
    {
      "indent": 9,
      "text": "o The FCF then updates the destination MAC address of the packet to the address of the EoR FCF.",
      "zh-CHS": "o 然后，FCF将数据包的目的地MAC地址更新为EoR FCF的地址。"
    },
    {
      "indent": 9,
      "text": "o The packet is forwarded to the RBridge entity, where it is encapsulated in a TRILL header, and sent to the RBridge at the EoR over a single hop of the TRILL network.",
      "zh-CHS": "o 数据包被转发到RBridge实体，在该实体中它被封装在TRILL报头中，并通过TRILL网络的单跳发送到EoR处的RBridge。"
    },
    {
      "indent": 3,
      "text": "o The RBridge entity in the EoR FCRB, acting as the egress RBridge, decapsulates the TRILL header and forwards the FCoE packet to the FCF entity. From this point, the forwarding process is similar to the one described above for the ToR.",
      "zh-CHS": "o EoR FCRB中的RBridge实体充当出口RBridge，解除TRILL报头的封装，并将FCoE数据包转发给FCF实体。从这一点来看，转发过程类似于上述ToR的转发过程。"
    },
    {
      "indent": 3,
      "text": "o A similar forwarding process takes place at the next-hop ToR FCRB, where the FCRB finally forwards the FCoE packet to the target, ENode C.",
      "zh-CHS": "o 类似的转发过程在FCRB的下一跳发生，其中FCRB最终将FCoE数据包转发到目标ENode C。"
    },
    {
      "indent": 0,
      "text": "3.2.3.1.2. Forwarding from A to C in Sparse Mode",
      "section_title": true,
      "zh-CHS": "3.2.3.1.2. 以稀疏模式从A转发到C"
    },
    {
      "indent": 3,
      "text": "o Traffic is forwarded to ToR 1, as described in Section 3.2.3.1.1.",
      "zh-CHS": "o 如第3.2.3.1.1节所述，流量被转发至ToR 1。"
    },
    {
      "indent": 3,
      "text": "o The FCF in ToR 1, based on an FSPF forwarding decision, forwards the packet to the FCF in ToR 2. The destination MAC address of the FCoE packet is updated, reflecting the FCF in ToR 2. The RBridge entity in ToR 2 adds a TRILL encapsulation, with an egress RBridge nickname representing ToR 2.",
      "zh-CHS": "o ToR 1中的FCF基于FSPF转发决策，将分组转发给ToR 2中的FCF。FCoE数据包的目标MAC地址被更新，以反映ToR 2中的FCF。ToR 2中的RBridge实体添加了一个颤音封装，其中一个出口RBridge昵称表示ToR 2。"
    },
    {
      "indent": 3,
      "text": "o The packet reaches the EoR. The RBridge entity in the EoR routes the packet to the RBridge entity in ToR 2.",
      "zh-CHS": "o 数据包到达EoR。EoR中的RBridge实体将数据包路由到ToR 2中的RBridge实体。"
    },
    {
      "indent": 3,
      "text": "o The packet reaches ToR 2. From this point on, the process is identical to the one described in Section 3.2.3.1.1.",
      "zh-CHS": "o 数据包到达Tor2。从这一点开始，该过程与第3.2.3.1.1节中描述的过程相同。"
    },
    {
      "indent": 0,
      "text": "3.2.3.2. Example - ENode to Native FC Node",
      "section_title": true,
      "zh-CHS": "3.2.3.2. 示例-ENode到本机FC节点"
    },
    {
      "indent": 0,
      "text": "+--------+     +--------+     +--------+     +---------+     +--------+\n|  FCoE  |.....|  FCF   |.....|  FCF   |.....|   FCF   |.....|   FC   |\n|  ENode |     +--------+     +--------+     +----+----+     |protocol|\n|        |     |RBridge |.....|RBridge |.....| RB |    |     | stack  |\n+--------+     +--------+     +--------+     +----+ FC |     |        |\n|Ethernet|<===>|Ethernet|<===>|Ethernet|<===>|Eth |    |<===>|        |\n+--------+     +--------+     +--------+     +----+----+     +--------+\n  Server          ToR            EoR            Core          Native FC\n  ENode           FCRB           FCRB           FCRB       Storage Array",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 16,
      "text": "Figure 5. Example of Traffic between an ENode and a Native FC Storage Array",
      "zh-CHS": "图5。ENode和本机FC存储阵列之间的通信量示例"
    },
    {
      "indent": 3,
      "text": "Figure 5 illustrates a second example, where traffic is sent between an ENode and an FC Storage Array, based on the network topology in Figure 3.",
      "zh-CHS": "图5说明了第二个示例，其中根据图3中的网络拓扑，在ENode和FC存储阵列之间发送通信量。"
    },
    {
      "indent": 3,
      "text": "o FCoE traffic from the ENode is sent to the ToR over the Ethernet interface. The forwarding process through the ToR FCRB and through the EoR is similar to the corresponding steps in Section 3.2.3.1.",
      "zh-CHS": "o 来自ENode的FCoE流量通过以太网接口发送到ToR。通过ToR FCRB和EoR的转发过程类似于第3.2.3.1节中的相应步骤。"
    },
    {
      "indent": 3,
      "text": "o When the packet reaches the core FCRB, the egress RBridge entity decapsulates the TRILL header and forwards the FCoE packet to the FCF entity. The packet is then forwarded as a native FC packet through the FC interface to the native FC node.",
      "zh-CHS": "o 当分组到达核心FCRB时，出口RBridge实体解除TRILL报头的封装，并将FCoE分组转发给FCF实体。然后，该数据包作为本机FC数据包通过FC接口转发到本机FC节点。"
    },
    {
      "indent": 0,
      "text": "3.2.3.3. Example - ENode to ENode with Non-FCRB EoR",
      "section_title": true,
      "zh-CHS": "3.2.3.3. 示例-具有非FCRB EoR的ENode到ENode"
    },
    {
      "indent": 3,
      "text": "The example illustrated in Figure 6 is similar to the one shown in Figure 4, except that the EoR is an RBridge rather than an FCRB.",
      "zh-CHS": "图6所示的示例与图4所示的示例相似，只是EoR是RBridge而不是FCRB。"
    },
    {
      "indent": 0,
      "text": "+--------+     +--------+                    +--------+     +--------+\n| FCoE   |.....|  FCF   |....................|  FCF   |.....| FCoE   |\n| ENode  |     +--------+     +--------+     +--------+     | ENode  |\n|        |     |RBridge |.....|RBridge |.....|RBridge |     |        |\n+--------+     +--------+     +--------+     +--------+     +--------+\n|Ethernet|<===>|Ethernet|<===>|Ethernet|<===>|Ethernet|<===>|Ethernet|\n+--------+     +--------+     +--------+     +--------+     +--------+\n  Server          ToR 1          EoR            ToR 2      FCoE Storage\n  ENode A         FCRB           FCRB           FCRB          Array\n                                                             ENode C",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 12,
      "text": "Figure 6. Example of Traffic between Two ENodes",
      "zh-CHS": "图6。两个eNode之间的通信示例"
    },
    {
      "indent": 3,
      "text": "An FCoE packet sent from ENode A to C is forwarded as follows:",
      "zh-CHS": "从ENode A发送到C的FCoE数据包转发如下："
    },
    {
      "indent": 3,
      "text": "o The packet is sent to the FCF in ToR 1, as in the previous example.",
      "zh-CHS": "o 数据包被发送到ToR 1中的FCF，如前一示例所示。"
    },
    {
      "indent": 3,
      "text": "o The FCF in ToR 1 takes a forwarding decision based on the FC addresses and forwards the packet to the next-hop FCF, which resides in ToR 2. This forwarding decision is taken at the FCF layer and is based on the FSPF routing protocol.",
      "zh-CHS": "o ToR 1中的FCF根据FC地址做出转发决定，并将数据包转发到驻留在ToR 2中的下一跳FCF。该转发决策在FCF层做出，并基于FSPF路由协议。"
    },
    {
      "indent": 3,
      "text": "o The packet is then forwarded to the RBridge entity in ToR 1, where it is encapsulated in a TRILL encapsulation, and forwarded to the RBridge at ToR 2. The packet is routed over the TRILL cloud through the RBridge at the EoR. The path through the TRILL cloud is determined by TRILL's IS-IS routing protocol.",
      "zh-CHS": "o 然后，该分组被转发到ToR 1中的RBridge实体，在该实体中，它被封装在TRILL封装中，并转发到ToR 2中的RBridge。数据包在颤音云上通过EoR处的RBridge路由。通过TRILL云的路径由TRILL的is-is路由协议确定。"
    },
    {
      "indent": 3,
      "text": "o Once the packet reaches ToR 2, it is forwarded in a similar manner to the description in Section 3.2.3.1.",
      "zh-CHS": "o 一旦数据包到达ToR 2，它将以与第3.2.3.1节中描述类似的方式转发。"
    },
    {
      "indent": 3,
      "text": "This example demonstrates that it is possible to have a hybrid network, in which some of the nodes are FCRBs and some of the nodes are RBridges. The forwarding procedure in this example is somewhat similar to the sparse-mode forwarding described in Section 3.2.3.1.2.",
      "zh-CHS": "该示例演示了混合网络是可能的，其中一些节点是FCRB，一些节点是RBRINGS。本示例中的转发过程与第3.2.3.1.2节中描述的稀疏模式转发有些类似。"
    },
    {
      "indent": 0,
      "text": "3.2.3.4. Example - FCoE Control Traffic through an FCRB",
      "section_title": true,
      "zh-CHS": "3.2.3.4. 示例-FCoE通过FCRB控制流量"
    },
    {
      "indent": 3,
      "text": "The previous subsections focused on the data plane, i.e., storage data exchanges transported over an FCoE encapsulation. FCoE also requires control and management traffic that is used for initializing sessions (i.e., FIP), distributing routing information (i.e., FSPF), and administering and managing fabric.",
      "zh-CHS": "前面的小节主要关注数据平面，即通过FCoE封装传输的存储数据交换。FCoE还需要用于初始化会话（即FIP）、分发路由信息（即FSPF）和管理结构的控制和管理流量。"
    },
    {
      "indent": 3,
      "text": "The FCoE Initialization Protocol (FIP) uses Ethernet frames with a dedicated Ethertype, allowing the FCF to distinguish these frames from other traffic. FIP uses both unicast and multicast traffic. The following example describes the forwarding scheme of a multicast FIP packet sent through the network depicted in Figure 4:",
      "zh-CHS": "FCoE初始化协议（FIP）使用具有专用以太网类型的以太网帧，允许FCF将这些帧与其他流量区分开来。FIP同时使用单播和多播流量。以下示例描述了通过图4所示网络发送的多播FIP数据包的转发方案："
    },
    {
      "indent": 3,
      "text": "o ENode A generates a multicast frame to a multicast MAC address that represents all the FCFs (All-FCF-MAC).",
      "zh-CHS": "o ENode A向表示所有FCF（所有FCF MAC）的多播MAC地址生成多播帧。"
    },
    {
      "indent": 3,
      "text": "o The packet is forwarded to the ToR FCRB node. The RBridge entity forwards a copy of the packet to its FCF entity, and also sends the packet through the TRILL cloud as a multicast TRILL encapsulated packet.",
      "zh-CHS": "o 数据包被转发到ToR FCRB节点。RBridge实体将数据包的副本转发给其FCF实体，并通过TRILL云将数据包作为多播TRILL封装数据包发送。"
    },
    {
      "indent": 3,
      "text": "o Each of the FCRBs then receives the packet, forwards a copy to its FCF entity, and forwards the packet through the TRILL network, allowing all the FCFs to receive the packet.",
      "zh-CHS": "o 然后，每个FCRB接收数据包，将副本转发给其FCF实体，并通过TRILL网络转发数据包，从而允许所有FCF接收数据包。"
    },
    {
      "indent": 3,
      "text": "While FIP packets have a dedicated Ethertype and frame format, other types of FCoE control and management frames use the same FCoE encapsulation as FCoE data traffic. Thus, the forwarding scheme for such control traffic is similar to the examples described in the previous subsections, with the exception that these frames can be sent between ENodes, between FCFs, or between ENodes and FCFs.",
      "zh-CHS": "虽然FIP数据包具有专用的以太网类型和帧格式，但其他类型的FCoE控制和管理帧使用与FCoE数据通信相同的FCoE封装。因此，除了这些帧可以在ENodes之间、fcf之间或ENodes与fcf之间发送之外，用于这种控制业务的转发方案类似于前面小节中描述的示例。"
    },
    {
      "indent": 0,
      "text": "4. Security Considerations",
      "section_title": true,
      "zh-CHS": "4. 安全考虑"
    },
    {
      "indent": 3,
      "text": "For general TRILL security considerations, see [TRILL].",
      "zh-CHS": "有关一般TRILL安全注意事项，请参阅[TRILL]。"
    },
    {
      "indent": 3,
      "text": "For general FCoE security considerations, see Annex D of [FC-BB-5].",
      "zh-CHS": "关于FCoE的一般安全注意事项，见[FC-BB-5]的附录D。"
    },
    {
      "indent": 3,
      "text": "There are no additional security implications imposed by this document.",
      "zh-CHS": "本文件不涉及其他安全问题。"
    },
    {
      "indent": 0,
      "text": "5. Acknowledgments",
      "section_title": true,
      "zh-CHS": "5. 致谢"
    },
    {
      "indent": 3,
      "text": "The authors gratefully acknowledge Ayandeh Siamack and David Black for their helpful comments. The authors also thank the T11 committee for reviewing the document, and in particular Pat Thaler and Joe White for their useful input.",
      "zh-CHS": "作者感谢阿扬德·西亚马克和大卫·布莱克的有益评论。作者还感谢T11委员会审查了该文件，特别是Pat Thaler和Joe White提供了有用的意见。"
    },
    {
      "indent": 0,
      "text": "6. References",
      "section_title": true,
      "zh-CHS": "6. 工具书类"
    },
    {
      "indent": 0,
      "text": "6.1. Normative References",
      "section_title": true,
      "zh-CHS": "6.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[TRILL] Perlman, R., Eastlake 3rd, D., Dutt, D., Gai, S., and A. Ghanwani, \"Routing Bridges (RBridges): Base Protocol Specification\", RFC 6325, July 2011.",
      "zh-CHS": "[TRILL]Perlman，R.，Eastlake 3rd，D.，Dutt，D.，Gai，S.，和A.Ghanwani，“路由桥（RBridges）：基本协议规范”，RFC 63252011年7月。"
    },
    {
      "indent": 3,
      "text": "[FC-BB-5] ANSI INCITS 462: \"Information Technology - Fibre Channel - Backbone - 5 (FC-BB-5)\", May 2010.",
      "zh-CHS": "[FC-BB-5]ANSI INCITS 462：“信息技术-光纤通道-主干网-5（FC-BB-5）”，2010年5月。"
    },
    {
      "indent": 0,
      "text": "6.2. Informative References",
      "section_title": true,
      "zh-CHS": "6.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[802.1Q] \"IEEE Standard for Local and metropolitan area networks - Media Access Control (MAC) Bridges and Virtual Bridged Local Area Networks\", IEEE Std 802.1Q(tm), 2012 Edition, October 2012.",
      "zh-CHS": "[802.1Q]“局域网和城域网IEEE标准-媒体访问控制（MAC）网桥和虚拟桥接局域网”，IEEE标准802.1Q（tm），2012年版，2012年10月。"
    },
    {
      "indent": 3,
      "text": "[TRILLPFC] Eastlake 3rd, D., Wadekar, M., Ghanwani, A., Agarwal, P., and T. Mizrahi, \"TRILL: Support of IEEE 802.1 Priority-based Flow Control and Enhanced Transmission Selection\", Work in Progress, January 2013.",
      "zh-CHS": "[TRILLPFC]Eastlake 3rd，D.，Wadekar，M.，Ghanwani，A.，Agarwal，P.，和T.Mizrahi，“TRILL：支持IEEE 802.1基于优先级的流量控制和增强传输选择”，正在进行的工作，2013年1月。"
    },
    {
      "indent": 3,
      "text": "[TRILLCN] Eastlake 3rd, D., Wadekar, M., Ghanwani, A., Agarwal, P., and T. Mizrahi, \"TRILL: Support of IEEE 802.1 Congestion Notification\", Work in Progress, January 2013.",
      "zh-CHS": "[TRILLCN]Eastlake 3rd，D.，Wadekar，M.，Ghanwani，A.，Agarwal，P.，和T.Mizrahi，“TRILL：支持IEEE 802.1拥塞通知”，正在进行的工作，2013年1月。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "David Melman Marvell 6 Hamada St. Yokneam, 20692 Israel",
      "zh-CHS": "David Melman Marvell 6 Hamada St.Yokneam，20692以色列"
    },
    {
      "indent": 3,
      "text": "EMail: davidme@marvell.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Tal Mizrahi Marvell 6 Hamada St. Yokneam, 20692 Israel",
      "zh-CHS": "Tal Mizrahi Marvell 6 Hamada St.Yokneam，20692以色列"
    },
    {
      "indent": 3,
      "text": "EMail: talmi@marvell.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Donald Eastlake 3rd Huawei USA R&D 155 Beaver Street Milford, MA 01757 USA",
      "zh-CHS": "唐纳德·伊斯特莱克第三华为美国研发部，美国马萨诸塞州米尔福德市海狸街155号，邮编01757"
    },
    {
      "indent": 3,
      "text": "Phone: +1-508-333-2270\nEMail: d3e3e3@gmail.com",
      "raw": true,
      "zh-CHS": " "
    }
  ]
}