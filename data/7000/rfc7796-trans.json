{
  "title": {
    "text": "RFC 7796: Ethernet-Tree (E-Tree) Support in Virtual Private LAN Service (VPLS)",
    "zh-CHS": "RFC 7796"
  },
  "number": 7796,
  "created_at": "2021-10-31 21:25:11.351525+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "1;2c.\nInternet Engineering Task Force (IETF)                     Y. Jiang, Ed.\nRequest for Comments: 7796                                       L. Yong\nCategory: Standards Track                                         Huawei\nISSN: 2070-1721                                                  M. Paul\n                                                        Deutsche Telekom\n                                                              March 2016",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "Ethernet-Tree (E-Tree) Support in Virtual Private LAN Service (VPLS)",
      "zh-CHS": "虚拟专用LAN服务（VPLS）中的以太网树（E-Tree）支持"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "This document specifies a generic Virtual Private LAN Service (VPLS) solution, which uses VLANs to indicate root or leaf traffic to support Ethernet-Tree (E-Tree) services. A VPLS Provider Edge (PE) model is illustrated as an example for the solution. In the solution, E-Tree VPLS PEs are interconnected by Pseudowires (PWs), which carry the VLAN indicating the E-Tree attribute. The MAC address-based Ethernet forwarding engine and the PW work in the same way as specified in RFC 4762 and RFC 4448, respectively. A signaling mechanism is described to support E-Tree capability and VLAN mapping negotiation.",
      "zh-CHS": "本文档指定了一个通用虚拟专用LAN服务（VPLS）解决方案，该解决方案使用VLAN指示根或叶流量，以支持以太网树（E-Tree）服务。VPLS提供者边缘（PE）模型作为解决方案的示例进行了说明。在该解决方案中，E-Tree VPLS PE通过伪线（PWs）互连，伪线携带指示E-Tree属性的VLAN。基于MAC地址的以太网转发引擎和PW的工作方式分别与RFC 4762和RFC 4448中规定的相同。描述了一种支持E-Tree能力和VLAN映射协商的信令机制。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "zh-CHS": "这是一份互联网标准跟踪文件。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.",
      "zh-CHS": "本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。有关互联网标准的更多信息，请参见RFC 5741第2节。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7796.",
      "zh-CHS": "有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc7796."
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2016 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "zh-CHS": "版权所有（c）2016 IETF信托基金和确定为文件作者的人员。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "zh-CHS": "本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3\n2.  Conventions Used in This Document . . . . . . . . . . . . . .   4\n3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   4\n4.  PE Model with E-Tree Support  . . . . . . . . . . . . . . . .   5\n  4.1.  Existing PE Models  . . . . . . . . . . . . . . . . . . .   5\n  4.2.  A New PE Model with E-Tree Support  . . . . . . . . . . .   8\n5.  PW for E-Tree Support . . . . . . . . . . . . . . . . . . . .   9\n  5.1.  PW Encapsulation  . . . . . . . . . . . . . . . . . . . .   9\n  5.2.  VLAN Mapping  . . . . . . . . . . . . . . . . . . . . . .  10\n  5.3.  PW Processing . . . . . . . . . . . . . . . . . . . . . .  11\n    5.3.1.  PW Processing in the VLAN Mapping Mode  . . . . . . .  11\n    5.3.2.  PW Processing in the Compatible Mode  . . . . . . . .  12\n    5.3.3.  PW Processing in the Optimized Mode . . . . . . . . .  13\n6.  Signaling for E-Tree Support  . . . . . . . . . . . . . . . .  14\n  6.1.  LDP Extensions for E-Tree Support . . . . . . . . . . . .  14\n  6.2.  BGP Extensions for E-Tree Support . . . . . . . . . . . .  17\n7.  OAM Considerations  . . . . . . . . . . . . . . . . . . . . .  19\n8.  Applicability . . . . . . . . . . . . . . . . . . . . . . . .  19\n9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  19\n10. Security Considerations . . . . . . . . . . . . . . . . . . .  20\n11. References  . . . . . . . . . . . . . . . . . . . . . . . . .  20\n  11.1.  Normative References . . . . . . . . . . . . . . . . . .  20\n  11.2.  Informative References . . . . . . . . . . . . . . . . .  21\nAppendix A.  Other PE Models for E-Tree . . . . . . . . . . . . .  23\n  A.1.  A PE Model with a VSI and No Bridge . . . . . . . . . . .  23\n  A.2.  A PE Model with External E-Tree Interface . . . . . . . .  24\nAcknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  25\nContributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  25\nAuthors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  26",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "The Ethernet-Tree (E-Tree) service is defined in the Metro Ethernet Forum (MEF) Technical Specification MEF 6.2 [MEF6.2] as a Rooted-Multipoint Ethernet Virtual Connection (EVC) service. An MEF 6.2 E-Tree solution must meet the following design requirements: the Ethernet frames from a root may be received by any other root or leaf, and the frames from a leaf may be received by any root, but must not be received by a leaf. Further, an E-Tree service may include multiple roots and multiple leaves. Although Virtual Private Multicast Service (VPMS) [VPMS] and Point-to-Multipoint (P2MP) multicast are somewhat simplified versions of this service, in fact, they are both multicast services and are different from an E-Tree service that may include both unicast and multicast traffic.",
      "zh-CHS": "以太网树（E-Tree）服务在Metro Ethernet Forum（MEF）技术规范MEF 6.2[MEF6.2]中定义为根多点以太网虚拟连接（EVC）服务。MEF 6.2 E-Tree解决方案必须满足以下设计要求：来自根的以太网帧可以由任何其他根或叶接收，来自叶的帧可以由任何根接收，但不能由叶接收。此外，E-Tree服务可以包括多个根和多个叶。尽管虚拟专用多播服务（VPMS）[VPMS]和点对多点（P2MP）多播在某种程度上是该服务的简化版本，但事实上，它们都是多播服务，并且不同于可能包括单播和多播流量的E-Tree服务。"
    },
    {
      "indent": 3,
      "text": "[RFC7152] gives the requirements for providing E-Tree solutions in the VPLS and the need to filter leaf-to-leaf traffic. [RFC7387] further describes a Multiprotocol Label Switching (MPLS) framework for providing E-Tree. Though there were proposals for using the Pseudowire (PW) control word or PWs to indicate the root/leaf attribute of an E-Tree frame, both methods are limited in that they are only applicable to \"VPLS only\" networks.",
      "zh-CHS": "[RFC7152]给出了在VPLS中提供E-Tree解决方案的要求以及过滤叶到叶流量的需要。[RFC7387]进一步描述了用于提供电子树的多协议标签交换（MPLS）框架。尽管有人建议使用伪线（PW）控制字或PWs来指示E树框架的根/叶属性，但这两种方法都有局限性，因为它们仅适用于“仅VPLS”网络。"
    },
    {
      "indent": 3,
      "text": "A VPLS PE usually consists of a bridge module itself (see [RFC4664] and [RFC6246]); and moreover, E-Tree services may cross both Ethernet and VPLS domains. Therefore, it is necessary to develop an E-Tree solution both for \"VPLS only\" scenarios and for interworking between Ethernet and VPLS.",
      "zh-CHS": "VPLS PE通常由桥接模块本身组成（参见[RFC4664]和[RFC6246]）；此外，E-Tree服务可以跨以太网和VPLS域。因此，有必要为“仅VPLS”场景和以太网与VPLS之间的互通开发一个E-Tree解决方案。"
    },
    {
      "indent": 3,
      "text": "IEEE 802.1 has incorporated the generic E-Tree solution into 802.1Q [IEEE-802.1Q-2014], which is an improvement on the traditional asymmetric VLAN mechanism. In the asymmetric VLAN mechanism as described in Section B.1.3 of IEEE 802.1Q [IEEE-802.1Q-2003], a VLAN ID is used to indicate the traffic from a server, and multiple VLAN IDs are used to indicate the traffic from the clients (one VLAN ID per client). In the new IEEE 802.1Q solution, only two VLANs are used to indicate root/leaf attributes of a frame: one VLAN ID is used to indicate the frames originated from the roots and another VLAN ID is used to indicate the frames originated from the leaves. At a leaf port, the bridge can then filter out all the frames from other leaf ports based on the VLAN ID. It is better to reuse the same mechanism in VPLS than to develop a new mechanism. A new mechanism would introduce more complexity to interwork with the new IEEE 802.1Q solution.",
      "zh-CHS": "IEEE 802.1已将通用E树解决方案纳入802.1Q[IEEE-802.1Q-2014]，这是对传统非对称VLAN机制的改进。在IEEE 802.1Q[IEEE-802.1Q-2003]第B.1.3节所述的非对称VLAN机制中，VLAN ID用于指示来自服务器的流量，多个VLAN ID用于指示来自客户端的流量（每个客户端一个VLAN ID）。在新的IEEE 802.1Q解决方案中，只有两个VLAN用于指示帧的根/叶属性：一个VLAN ID用于指示源自根的帧，另一个VLAN ID用于指示源自叶的帧。在一个叶端口，网桥可以根据VLAN ID过滤掉其他叶端口的所有帧。在VPLS中重用相同的机制比开发新机制更好。一种新的机制将为与新的IEEE 802.1Q解决方案的互通带来更大的复杂性。"
    },
    {
      "indent": 3,
      "text": "This document specifies how the Ethernet VLAN solution can be used to support generic E-Tree services in VPLS. The solution specified here is fully compatible with the IEEE bridge architecture and with IETF",
      "zh-CHS": "本文档指定了如何使用以太网VLAN解决方案来支持VPLS中的通用E-Tree服务。此处指定的解决方案与IEEE网桥体系结构和IETF完全兼容"
    },
    {
      "indent": 3,
      "text": "Pseudowire Emulation Edge-to-Edge (PWE3) technology, thus it will not change the FIB (such as installing E-Tree attributes in the FIB) or need any specially tailored implementation. Furthermore, VPLS scalability and simplicity are also maintained. With this mechanism, it is also convenient to deploy a converged E-Tree service across both Ethernet and MPLS networks.",
      "zh-CHS": "伪线仿真边到边（PWE3）技术，因此它不会更改FIB（例如在FIB中安装E-Tree属性）或需要任何专门定制的实现。此外，还保持了VPLS的可扩展性和简单性。通过这种机制，还可以方便地跨以太网和MPLS网络部署聚合E-Tree服务。"
    },
    {
      "indent": 3,
      "text": "A typical VPLS PE model is introduced as an example; the model is then extended in which a Tree VSI is connected to a VLAN bridge with a dual-VLAN interface.",
      "zh-CHS": "以一个典型的VPLS-PE模型为例；然后扩展该模型，其中树VSI连接到具有双VLAN接口的VLAN网桥。"
    },
    {
      "indent": 3,
      "text": "This document then discusses the PW encapsulation and PW processing such as VLAN mapping options for transporting E-Tree services in VPLS.",
      "zh-CHS": "然后，本文讨论了PW封装和PW处理，例如用于在VPLS中传输E-Tree服务的VLAN映射选项。"
    },
    {
      "indent": 3,
      "text": "Finally, this document describes the signaling extensions and processing procedures for E-Tree support in VPLS.",
      "zh-CHS": "最后，本文档描述了VPLS中支持E-Tree的信令扩展和处理过程。"
    },
    {
      "indent": 0,
      "text": "2. Conventions Used in This Document",
      "section_title": true,
      "zh-CHS": "2. 本文件中使用的公约"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "zh-CHS": "本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。"
    },
    {
      "indent": 0,
      "text": "3. Terminology",
      "section_title": true,
      "zh-CHS": "3. 术语"
    },
    {
      "indent": 3,
      "text": "AC: Attachment Circuit",
      "zh-CHS": "交流：连接电路"
    },
    {
      "indent": 3,
      "text": "B-VLAN: Backbone VLAN",
      "zh-CHS": "B-VLAN：主干VLAN"
    },
    {
      "indent": 3,
      "text": "C-VLAN: Customer VLAN",
      "zh-CHS": "C-VLAN：客户VLAN"
    },
    {
      "indent": 3,
      "text": "E-Tree: Ethernet Tree, a Rooted-Multipoint EVC service as defined in [MEF6.2]",
      "zh-CHS": "E-Tree:Ethernet Tree，一种[MEF6.2]中定义的有根多点EVC服务"
    },
    {
      "indent": 3,
      "text": "EVC: Ethernet Virtual Connection, as defined in [MEF4]",
      "zh-CHS": "EVC:Ethernet虚拟连接，定义见[MEF4]"
    },
    {
      "indent": 3,
      "text": "FIB: Forwarding Information Base, also known as \"forwarding table\"",
      "zh-CHS": "FIB：转发信息库，也称为“转发表”"
    },
    {
      "indent": 3,
      "text": "I-SID: Backbone Service Instance Identifier, as defined in IEEE 802.1ah [IEEE-802.1Q-2014]",
      "zh-CHS": "I-SID:IEEE 802.1ah[IEEE-802.1Q-2014]中定义的主干服务实例标识符"
    },
    {
      "indent": 3,
      "text": "Leaf AC: An AC attached with a leaf",
      "zh-CHS": "叶片空调：连接叶片的空调"
    },
    {
      "indent": 3,
      "text": "Leaf VLAN: A VLAN Identifier (ID) used to indicate all the frames that are originated at a leaf AC. It may be a C-VLAN, an S-VLAN, or a B-VLAN",
      "zh-CHS": "叶VLAN：一个VLAN标识符（ID），用于指示源于叶AC的所有帧。它可以是C-VLAN、S-VLAN或B-VLAN"
    },
    {
      "indent": 3,
      "text": "OAM: Operations, Administration, and Maintenance",
      "zh-CHS": "OAM：运营、管理和维护"
    },
    {
      "indent": 3,
      "text": "PBB: Provider Backbone Bridge",
      "zh-CHS": "提供商主干网桥"
    },
    {
      "indent": 3,
      "text": "PE: Provider Edge",
      "zh-CHS": "PE：提供程序边缘"
    },
    {
      "indent": 3,
      "text": "PW: Pseudowire",
      "zh-CHS": "伪线"
    },
    {
      "indent": 3,
      "text": "Root AC: An AC attached with a root",
      "zh-CHS": "根AC：带有根的AC"
    },
    {
      "indent": 3,
      "text": "Root VLAN: A VLAN ID used to indicate all the frames that are originated at a root AC. It may be a C-VLAN, an S-VLAN, or a B-VLAN",
      "zh-CHS": "根VLAN：用于指示源于根AC的所有帧的VLAN ID。它可以是C-VLAN、S-VLAN或B-VLAN"
    },
    {
      "indent": 3,
      "text": "S-VLAN: Service VLAN",
      "zh-CHS": "S-VLAN：服务VLAN"
    },
    {
      "indent": 3,
      "text": "T-VSI: Tree VSI, a VSI with E-Tree support",
      "zh-CHS": "T-VSI:Tree-VSI，一种支持E-Tree的VSI"
    },
    {
      "indent": 3,
      "text": "VLAN: Virtual Local Area Network",
      "zh-CHS": "虚拟局域网"
    },
    {
      "indent": 3,
      "text": "VPLS: Virtual Private LAN Service",
      "zh-CHS": "虚拟专用局域网服务"
    },
    {
      "indent": 3,
      "text": "VSI: Virtual Switching Instance as defined in [RFC4664], also known as \"VPLS Forwarder\" in [RFC7041]",
      "zh-CHS": "VSI:[RFC4664]中定义的虚拟交换实例，在[RFC7041]中也称为“VPLS转发器”"
    },
    {
      "indent": 0,
      "text": "4. PE Model with E-Tree Support",
      "section_title": true,
      "zh-CHS": "4. 支持E-Tree的PE模型"
    },
    {
      "indent": 3,
      "text": "The problem scenario of E-Tree as shown in Figure 1 of [RFC7152] is a simplification of the L2VPN architecture. Several common VPLS PE architectures are discussed in more detail in [RFC4664] and [RFC6246].",
      "zh-CHS": "[RFC7152]图1所示的E-Tree问题场景是L2VPN架构的简化。[RFC4664]和[RFC6246]中详细讨论了几种常见的VPLS PE体系结构。"
    },
    {
      "indent": 3,
      "text": "Below, an E-Tree solution in VPLS is demonstrated with the help of a typical VPLS PE model. Its use in other PE models is discussed in Appendix A.",
      "zh-CHS": "下面，在典型的VPLS PE模型的帮助下，演示了VPLS中的E树解决方案。附录A讨论了其在其他PE模型中的使用。"
    },
    {
      "indent": 0,
      "text": "4.1. Existing PE Models",
      "section_title": true,
      "zh-CHS": "4.1. 现有PE模型"
    },
    {
      "indent": 3,
      "text": "According to [RFC4664], there are at least three models possible for a VPLS PE, including:",
      "zh-CHS": "根据[RFC4664]，VPLS PE至少有三种型号，包括："
    },
    {
      "indent": 3,
      "text": "o A single bridge module, a single VSI;",
      "zh-CHS": "o 单个桥接模块，单个VSI；"
    },
    {
      "indent": 3,
      "text": "o A single bridge module, multiple VSIs;",
      "zh-CHS": "o 单个桥接模块，多个VSI；"
    },
    {
      "indent": 3,
      "text": "o Multiple bridge modules, each attaches to a VSI.",
      "zh-CHS": "o 多个桥接模块，每个模块连接到VSI。"
    },
    {
      "indent": 3,
      "text": "The second PE model is commonly used. A typical example is further depicted in Figure 1 and Figure 2 (both figures are extracted from [RFC6246]), where an S-VLAN bridge module is connected to multiple VSIs each with a single VLAN virtual interface.",
      "zh-CHS": "第二种PE模型是常用的。图1和图2中进一步描述了一个典型示例（两个图均摘自[RFC6246]），其中S-VLAN网桥模块通过单个VLAN虚拟接口连接到多个VSI。"
    },
    {
      "indent": 11,
      "text": "           +-------------------------------+\n           |  802.1ad Bridge Module Model  |\n           |                               |\n+---+  AC  |  +------+      +-----------+  |\n|CE |---------|C-VLAN|------|           |  |\n+---+      |  |bridge|------|           |  |\n           |  +------+      |           |  |\n           |     o          |   S-VLAN  |  |\n           |     o          |           |  | ---> to VSI\n           |     o          |   Bridge  |  |\n+---+  AC  |  +------+      |           |  |\n|CE |---------|C-VLAN|------|           |  |\n+---+      |  |bridge|------|           |  |\n           |  +------+      +-----------+  |\n           +-------------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 16,
      "text": "Figure 1: A Model of 802.1ad Bridge Module",
      "zh-CHS": "图1:802.1ad网桥模块的模型"
    },
    {
      "indent": 11,
      "text": "+----------------------------------------+\n|           VPLS-Capable PE Model        |\n|   +---------------+          +------+  |\n|   |               |          |VSI-1 |------------\n|   |               |==========|      |------------ PWs\n|   |     Bridge    ------------      |------------\n|   |               | S-VLAN-1 +------+  |\n|   |     Module    |             o      |\n|   |               |             o      |\n|   |   (802.1ad    |             o      |\n|   |    bridge)    |             o      |\n|   |               |             o      |\n|   |               | S-VLAN-n +------+  |\n|   |               ------------VSI-n |-------------\n|   |               |==========|      |------------- PWs\n|   |               |     ^    |      |-------------\n|   +---------------+     |    +------+  |\n|                         |              |\n+-------------------------|--------------+\n                 LAN Emulation Interface",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 21,
      "text": "Figure 2: A VPLS-Capable PE Model",
      "zh-CHS": "图2：支持VPLS的PE模型"
    },
    {
      "indent": 3,
      "text": "In this PE model, Ethernet frames from Customer Edges (CEs) will cross multiple stages of bridge modules (i.e., C-VLAN and S-VLAN bridge), and a VSI in a PE before being sent on the PW to a remote PE. Therefore, the association between an AC port and a PW on a VSI is difficult.",
      "zh-CHS": "在该PE模型中，来自客户边缘（CE）的以太网帧在通过PW发送到远程PE之前，将跨越网桥模块（即C-VLAN和S-VLAN网桥）的多个阶段以及PE中的VSI。因此，VSI上的AC端口和PW之间的关联是困难的。"
    },
    {
      "indent": 3,
      "text": "This model could be further enhanced: when Ethernet frames arrive at an ingress PE, a root VLAN or a leaf VLAN tag is added. At an egress PE, the frames with the root VLAN tag are transmitted both to the roots and the leaves, while the frames with the leaf VLAN tag are transmitted to the roots but dropped for the leaves (these VLAN tags are removed before the frames are transmitted over the ACs). It was demonstrated in [IEEE-802.1Q-2014] that the E-Tree service in Ethernet networks can be well supported with this mechanism.",
      "zh-CHS": "此模型可以进一步增强：当以太网帧到达入口PE时，添加根VLAN或叶VLAN标记。在出口PE处，具有根VLAN标签的帧被传输到根和叶，而具有叶VLAN标签的帧被传输到根，但是对于叶被丢弃（这些VLAN标签在帧通过ACs传输之前被移除）。[IEEE-802.1Q-2014]中证明，以太网中的E-Tree服务可以通过这种机制得到很好的支持。"
    },
    {
      "indent": 3,
      "text": "Assuming this mechanism is implemented in the bridge module, it is quite straightforward to infer a VPLS PE model with two VSIs to support the E-Tree (as shown in Figure 3). But this model will require two VSIs per PE and two sets of PWs per E-Tree service, which is poorly scalable in a large MPLS/VPLS network; in addition, both of these VSIs have to share their learned MAC addresses.",
      "zh-CHS": "假设该机制在桥接模块中实现，则很容易推断出一个带有两个VSI的VPLS PE模型来支持E树（如图3所示）。但该模型需要每个PE两个VSI和每个E-Tree服务两组PW，在大型MPLS/VPLS网络中可扩展性差；此外，这两个VSI都必须共享它们学习到的MAC地址。"
    },
    {
      "indent": 11,
      "text": "+----------------------------------------+\n|           VPLS-Capable PE Model        |\n|   +---------------+          +------+  |\n|   |               |          |VSI-1 |------------\n|   |               |==========|      |------------ PWs\n|   |     Bridge    ------------      |------------\n|   |               | Root     +------+  |\n|   |     Module    | S-VLAN             |\n|   |               |                    |\n|   |   (802.1ad    |                    |\n|   |    bridge)    |                    |\n|   |               | Leaf               |\n|   |               | S-VLAN   +------+  |\n|   |               ------------VSI-2 |-------------\n|   |               |==========|      |------------- PWs\n|   |               |     ^    |      |-------------\n|   +---------------+     |    +------+  |\n|                         |              |\n+-------------------------|--------------+\n                 LAN Emulation Interface",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 14,
      "text": "Figure 3: A VPLS PE Model for E-Tree with 2VSIs",
      "zh-CHS": "图3：具有2VSI的E-Tree的VPLS PE模型"
    },
    {
      "indent": 0,
      "text": "4.2. A New PE Model with E-Tree Support",
      "section_title": true,
      "zh-CHS": "4.2. 一种支持E-Tree的PE模型"
    },
    {
      "indent": 3,
      "text": "In order to support the E-Tree in a more scalable way, a new VPLS PE model with a single Tree VSI (T-VSI, a VSI with E-Tree support) is specified. As depicted in Figure 4, the bridge module is connected to the T-VSI with a dual-VLAN virtual interface, i.e., both the root VLAN and the leaf VLAN are connected to the same T-VSI, and they share the same FIB and work in shared VLAN learning. In this way, only one VPLS instance and one set of PWs is needed per E-Tree service, and the scalability of VPLS is improved.",
      "zh-CHS": "为了以更具可扩展性的方式支持E-Tree，指定了一个新的具有单树VSI（T-VSI，具有E-Tree支持的VSI）的VPLS PE模型。如图4所示，网桥模块通过双VLAN虚拟接口连接到T-VSI，即根VLAN和叶VLAN都连接到相同的T-VSI，它们共享相同的FIB并在共享VLAN学习中工作。这样，每个E-Tree服务只需要一个VPLS实例和一组PWs，提高了VPLS的可扩展性。"
    },
    {
      "indent": 3,
      "text": "         +----------------------------------------+\n         |           VPLS-Capable PE Model        |\n         |   +---------------+          +------+  |\n         |   |               |==========|TVSI-1|------------\n+---+ AC |   |               ------------      |------------ PWs\n|CE |--------|     Bridge    ------------      |------------\n+---+    |   |               | Root &   +------+  |\n         |   |     Module    | Leaf VLAN   o      |\n         |   |               |             o      |\n         |   |               |             o      |\n         |   |               |             o      |\n         |   |               |             o      |\n+---+ AC |   |               |   VLAN-n +------+  |\n|CE |--------|               ------------VSI-n |-------------\n+---+    |   |               |==========|      |------------- PWs\n         |   |               |     ^    |      |-------------\n         |   +---------------+     |    +------+  |\n         |                         |              |\n         +-------------------------|--------------+\n                         LAN Emulation Interface",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 9,
      "text": "Figure 4: A VPLS PE Model for E-Tree with a Single T-VSI",
      "zh-CHS": "图4：具有单个T-VSI的E-Tree的VPLS PE模型"
    },
    {
      "indent": 3,
      "text": "For an untagged AC port (frames over this port are untagged) or a VLAN unaware port (VLAN tags in the frames are ignored), where the bridge module is a C-VLAN bridge, the Ethernet frames received from the root ACs MUST be tagged with a root C-VLAN. When the bridge module is an 802.1ad bridge [IEEE-802.1Q-2014], the Ethernet frames received from the root ACs MUST be tagged with a root S-VLAN. Note, this can be done by adding a root C-VLAN first in a C-VLAN bridge, but this is out of the scope of this document.",
      "zh-CHS": "对于未标记的AC端口（此端口上的帧未标记）或VLAN未识别端口（忽略帧中的VLAN标记），其中网桥模块是C-VLAN网桥，从根ACs接收的以太网帧必须使用根C-VLAN进行标记。当网桥模块为802.1ad网桥[IEEE-802.1Q-2014]时，从根ACs接收的以太网帧必须标记为根S-VLAN。注意，这可以通过在C-VLAN网桥中首先添加根C-VLAN来实现，但这超出了本文的范围。"
    },
    {
      "indent": 3,
      "text": "For a C-VLAN tagged port, the Ethernet frames received from the root ACs MUST be tagged with a root S-VLAN.",
      "zh-CHS": "对于C-VLAN标记的端口，从根ACs接收的以太网帧必须使用根S-VLAN标记。"
    },
    {
      "indent": 3,
      "text": "For an S-VLAN tagged port, the S-VLAN tag in the Ethernet frames received from the root ACs SHOULD be translated to the root S-VLAN in the VPLS network domain.",
      "zh-CHS": "对于S-VLAN标记的端口，从根ACs接收的以太网帧中的S-VLAN标记应转换为VPLS网络域中的根S-VLAN。"
    },
    {
      "indent": 3,
      "text": "Alternatively, for an S-VLAN tagged port, the PBB VPLS PE model (where an IEEE 802.1ah bridge module is embedded in the PE) as described in [RFC7041] MAY be used. A root B-VLAN or a leaf B-VLAN MAY be added. The E-Tree attribute may also be indicated with two I-SID tags in the bridge module, and the frames are then encapsulated and transported transparently over a single B-VLAN. Thus, the PBB VPLS works in the same way as described in [RFC7041] and will not be discussed further in this document. When many S-VLANs are multiplexed in a single AC, PBB VPLS has the advantages of both VLAN scalability and MAC address scalability.",
      "zh-CHS": "或者，对于S-VLAN标记的端口，可以使用[RFC7041]中所述的PBB VPLS PE模型（其中IEEE 802.1ah网桥模块嵌入在PE中）。可以添加根B-VLAN或叶B-VLAN。E-Tree属性也可以在网桥模块中用两个I-SID标记表示，然后在单个B-VLAN上透明地封装和传输帧。因此，PBB VPL的工作方式与[RFC7041]中所述的相同，本文件将不再进一步讨论。当多个S-VLAN在单个AC中多路复用时，PBB VPLS具有VLAN可扩展性和MAC地址可扩展性的优点。"
    },
    {
      "indent": 3,
      "text": "In a similar way, the traffic from the leaf ACs is tagged and transported on the leaf C-VLAN, S-VLAN, or B-VLAN.",
      "zh-CHS": "以类似的方式，来自叶ACs的流量被标记并在叶C-VLAN、S-VLAN或B-VLAN上传输。"
    },
    {
      "indent": 3,
      "text": "In all cases, the outermost VLAN in the resulting Ethernet header is used to indicate the E-Tree attribute of an Ethernet frame; this document uses VLAN to refer to this outermost VLAN for simplicity in the latter sections.",
      "zh-CHS": "在所有情况下，生成的以太网报头中最外层的VLAN用于指示以太网帧的E-Tree属性；本文档使用VLAN来指代最外层的VLAN，以便在后面的章节中更简单。"
    },
    {
      "indent": 0,
      "text": "5. PW for E-Tree Support",
      "section_title": true,
      "zh-CHS": "5. 用于E-Tree支持的PW"
    },
    {
      "indent": 0,
      "text": "5.1. PW Encapsulation",
      "section_title": true,
      "zh-CHS": "5.1. PW封装"
    },
    {
      "indent": 3,
      "text": "To support an E-Tree service, T-VSIs in a VPLS MUST be interconnected with a bidirectional Ethernet PW. The Ethernet PW SHOULD work in the tagged mode (PW type 0x0004) as described in [RFC4448], in which case a VLAN tag MUST be carried in each frame in the PW to indicate the frame originated from either root or leaf (the VLAN tag indicating the frame originated from either root or leaf can be translated by a bridge module in the PE or added by an outside Ethernet edge device, even by a customer device). In the tagged PW mode, two service-delimiting VLANs MUST be allocated in the VPLS domain for an E-Tree. PW processing for the tagged PW will be described in Section 5.3 of this document.",
      "zh-CHS": "为了支持E-Tree服务，VPLS中的T-VSI必须与双向以太网PW互连。以太网PW应在[RFC4448]中所述的标记模式（PW类型0x0004）下工作，在这种情况下，PW中的每个帧中必须携带VLAN标记，以指示源于根或叶的帧（指示源自根或叶的帧的VLAN标记可由PE中的网桥模块转换，或由外部以太网边缘设备（甚至由客户设备）添加）。在标记PW模式下，必须在VPLS域中为E树分配两个服务定界VLAN。本文件第5.3节将描述标记PW的PW处理。"
    },
    {
      "indent": 3,
      "text": "A raw mode PW (PW type 0x0005 in [RFC4448]) MAY also be used to carry an E-Tree service for a PW in Compatible mode as shown in Section 5.3.2. As defined in [RFC4448], for a raw mode PW, an Ethernet frame's 802.1Q VLAN tag is not meaningful to the PEs and it passes transparently through them.",
      "zh-CHS": "原始模式PW（PW类型[RFC4448]中的0x0005）也可用于在兼容模式下为PW提供E-Tree服务，如第5.3.2节所示。如[RFC4448]中所定义，对于原始模式PW，以太网帧的802.1Q VLAN标记对PEs没有意义，它透明地通过PEs。"
    },
    {
      "indent": 0,
      "text": "5.2. VLAN Mapping",
      "section_title": true,
      "zh-CHS": "5.2. VLAN映射"
    },
    {
      "indent": 3,
      "text": "There are two ways of manipulating VLANs for an E-Tree in VPLS:",
      "zh-CHS": "有两种方法可以在VPLS中为E-Tree操作VLAN："
    },
    {
      "indent": 3,
      "text": "o Global VLAN based, that is, provisioning two global VLANs (Root VLAN and Leaf VLAN) across the VPLS network, thus no VLAN mapping is needed at all, or the VLAN mapping is done completely in the Ethernet domains.",
      "zh-CHS": "o 基于全局VLAN，即跨VPLS网络提供两个全局VLAN（根VLAN和叶VLAN），因此根本不需要VLAN映射，或者VLAN映射完全在以太网域中完成。"
    },
    {
      "indent": 3,
      "text": "o Local VLAN based, that is, provisioning two local VLANs for each PE (that participates in the E-Tree) in the VPLS network independently.",
      "zh-CHS": "o 基于本地VLAN，即为VPLS网络中的每个PE（参与E-Tree的PE）分别提供两个本地VLAN。"
    },
    {
      "indent": 3,
      "text": "The first method requires no VLAN mapping in the PW, but two unique service-delimiting VLANs must be allocated across the VPLS domain.",
      "zh-CHS": "第一种方法不需要PW中的VLAN映射，但必须跨VPLS域分配两个唯一的服务分隔VLAN。"
    },
    {
      "indent": 3,
      "text": "The second method is more scalable in the use of VLANs, but needs a VLAN mapping mechanism in the PW similar to what is already described in Section 4.3 of [RFC4448].",
      "zh-CHS": "第二种方法在VLAN的使用方面更具可扩展性，但需要PW中的VLAN映射机制，类似于[RFC4448]第4.3节中已经描述的。"
    },
    {
      "indent": 3,
      "text": "Global or local VLANs can be manually configured or provisioned by an Operational Support System. Alternatively, some automatic VLAN allocation algorithm may be provided in the management plane, but it is out of scope of this document.",
      "zh-CHS": "全局或本地VLAN可以由操作支持系统手动配置或供应。或者，可以在管理平面中提供一些自动VLAN分配算法，但它不在本文档的范围内。"
    },
    {
      "indent": 3,
      "text": "For both methods, VLAN mapping parameters from a remote PE can be provisioned or determined by a signaling protocol as described in Section 6 when a PW is being established.",
      "zh-CHS": "对于这两种方法，当建立PW时，可以通过第6节中描述的信令协议来提供或确定来自远程PE的VLAN映射参数。"
    },
    {
      "indent": 0,
      "text": "5.3. PW Processing",
      "section_title": true,
      "zh-CHS": "5.3. PW处理"
    },
    {
      "indent": 0,
      "text": "5.3.1. PW Processing in the VLAN Mapping Mode",
      "section_title": true,
      "zh-CHS": "5.3.1. VLAN映射模式下的PW处理"
    },
    {
      "indent": 3,
      "text": "In the VLAN mapping mode, two VPLS PEs with E-Tree capability are inter-connected with a PW (for example, the scenario of Figure 5 depicts the interconnection of two PEs attached with both root and leaf nodes).",
      "zh-CHS": "在VLAN映射模式下，两个具有E-Tree功能的VPLS PE与PW相互连接（例如，图5的场景描述了两个连接有根节点和叶节点的PE的互连）。"
    },
    {
      "indent": 8,
      "text": "          +----------------------------+\n          |  VPLS PE with T-VSI        |\n          |                            |\n+----+    | +------+ Root VLAN +-----+ |    PW\n|Root|------| VLAN |-----------|T-VSI|----------\n+----+    | | BRG  | Leaf VLAN |     |----------\n+----+    | |      |-----------|     |----------\n|Leaf|------|      |           |     |-----+\n+----+    | +------+           +-----+ |   |\n          |                            |   |\n          +----------------------------+   |\n                                           |\n          +----------------------------+   |\n          |  VPLS PE with T-VSI        |   |\n          |                            |   |\n+----+    | +------+ Root VLAN +-----+ |   | PW\n|Root|------| VLAN |-----------|T-VSI|-----+\n+----+    | | BRG  | Leaf VLAN |     |----------\n+----+    | |      |-----------|     |----------\n|Leaf|------|      |           |     |----------\n+----+    | +------+           +-----+ |\n          |                            |  BRG: Bridge Module\n          +----------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 13,
      "text": "Figure 5: T-VSI Interconnected in the Normal Mode",
      "zh-CHS": "图5:T-VSI在正常模式下互连"
    },
    {
      "indent": 3,
      "text": "If a PE is in the VLAN mapping mode for a PW, then in the data plane, the PE MUST map the VLAN in each frame as follows:",
      "zh-CHS": "如果PE处于PW的VLAN映射模式，则在数据平面中，PE必须在每个帧中映射VLAN，如下所示："
    },
    {
      "indent": 3,
      "text": "o Upon transmitting frames on the PW, map from the local VLAN to the remote VLAN (i.e., the local leaf VLAN in a frame is translated to the remote leaf VLAN; the local root VLAN in a frame is translated to the remote root VLAN).",
      "zh-CHS": "o 在PW上传输帧时，从本地VLAN映射到远程VLAN（即，帧中的本地叶VLAN转换为远程叶VLAN；帧中的本地根VLAN转换为远程根VLAN）。"
    },
    {
      "indent": 3,
      "text": "o Upon receiving frames on the PW, map from the remote VLAN to the local VLAN, and the frames are further forwarded or dropped in the egress bridge module using the filtering mechanism as described in [IEEE-802.1Q-2014].",
      "zh-CHS": "o 在PW上接收到帧后，从远程VLAN映射到本地VLAN，并使用[IEEE-802.1Q-2014]中所述的过滤机制在出口网桥模块中进一步转发或丢弃帧。"
    },
    {
      "indent": 3,
      "text": "The signaling for VLANs used by E-Tree is specified in Section 6.",
      "zh-CHS": "第6节规定了E-Tree使用的VLAN信令。"
    },
    {
      "indent": 0,
      "text": "5.3.2. PW Processing in the Compatible Mode",
      "section_title": true,
      "zh-CHS": "5.3.2. 兼容模式下的PW处理"
    },
    {
      "indent": 3,
      "text": "The new VPLS PE model can work in a traditional VPLS network seamlessly in the compatibility mode. As shown in Figure 6, the VPLS PE with T-VSI can be attached with root and/or leaf nodes, while the VPLS PE with a traditional VSI can only be attached with root nodes. A raw PW SHOULD be used to connect them.",
      "zh-CHS": "新的VPLS PE模型可以在兼容模式下无缝地在传统VPLS网络中工作。如图6所示，带有T-VSI的VPLS PE可以连接根节点和/或叶节点，而带有传统VSI的VPLS PE只能连接根节点。应使用原始PW连接它们。"
    },
    {
      "indent": 8,
      "text": "          +------------------------+\n          |  VPLS PE with T-VSI    |\n          |                        |\n+----+    | +------+       +-----+ |  PW\n|Root|------| VLAN |-------|T-VSI|----------\n+----+    | | BRG  |       |     |----------\n+----+    | |      |-------|     |----------\n|Leaf|------|      |       |     |---------+\n+----+    | +------+       +-----+ |       |\n          |                        |       |\n          +------------------------+       |\n                                           |\n          +------------------------+       |\n          |  VPLS PE with VSI      |       |\n          |                        |       |\n+----+    | +------+       +-----+ |  PW   |\n|Root|------| VLAN |-------|VSI  |---------+\n+----+    | | BRG  |       |     |----------\n+----+    | |      |       |     |----------\n|Root|------|      |       |     |----------\n+----+    | +------+       +-----+ |\n          |                        |\n          +------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 12,
      "text": "Figure 6: T-VSI Interconnected with Traditional VSI",
      "zh-CHS": "图6:T-VSI与传统VSI互连"
    },
    {
      "indent": 3,
      "text": "If a PE is in the Compatible mode for a PW, then in the data plane, the PE MUST process the frame as follows:",
      "zh-CHS": "如果PE处于PW的兼容模式，则在数据平面中，PE必须按如下方式处理帧："
    },
    {
      "indent": 3,
      "text": "o Upon transmitting frames on the PW, remove the root or leaf VLAN in the frames.",
      "zh-CHS": "o 在PW上传输帧时，删除帧中的根或叶VLAN。"
    },
    {
      "indent": 3,
      "text": "o Upon receiving frames on the PW, add a VLAN tag with a value of the local root VLAN to the frames.",
      "zh-CHS": "o 在PW上接收到帧后，向帧添加一个具有本地根VLAN值的VLAN标记。"
    },
    {
      "indent": 0,
      "text": "5.3.3. PW Processing in the Optimized Mode",
      "section_title": true,
      "zh-CHS": "5.3.3. 优化模式下的PW处理"
    },
    {
      "indent": 3,
      "text": "When two PEs (both with E-Tree capability) are inter-connected with a PW and one of them (e.g., PE2) is attached with only leaf nodes, as shown in the scenario of Figure 7, its peer PE (e.g., PE1) should then work in the Optimized mode for this PW. In this case, PE1 should not send the frames originated from the local leaf VLAN to PE2, i.e., these frames are dropped rather than transported over the PW. The bandwidth efficiency of the VPLS can thus be improved. The signaling for the PE attached with only leaf nodes is specified in Section 6.",
      "zh-CHS": "当两个PE（均具有E-Tree功能）与一个PW相互连接，并且其中一个（例如PE2）仅与叶节点连接时，如图7的场景所示，其对等PE（例如PE1）应在该PW的优化模式下工作。在这种情况下，PE1不应将源自本地叶VLAN的帧发送到PE2，即，这些帧被丢弃而不是通过PW传输。因此，可以提高VPLS的带宽效率。第6节规定了仅连接叶节点的PE的信令。"
    },
    {
      "indent": 8,
      "text": "          +------------------------+\n          |VPLS PE with T-VSI (PE1)|\n          |                        |\n+----+    | +------+       +-----+ |  PW\n|Root|------| VLAN |-------|T-VSI|----------\n+----+    | | BRG  |       |     |----------\n+----+    | |      |-------|     |----------\n|Leaf|------|      |       |     |---------+\n+----+    | +------+       +-----+ |       |\n          |                        |       |\n          +------------------------+       |\n                                           |\n          +------------------------+       |\n          |VPLS PE with T-VSI (PE2)|       |\n          |                        |       |\n+----+    | +------+       +-----+ |  PW   |\n|Leaf|------| VLAN |-------|T-VSI|---------+\n+----+    | | BRG  |       |     |----------\n+----+    | |      |-------|     |----------\n|Leaf|------|      |       |     |----------\n+----+    | +------+       +-----+ |\n          |                        |\n          +------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Figure 7: T-VSI Interconnected with PE Attached with Only Leaf Nodes",
      "zh-CHS": "图7:T-VSI与仅连接叶节点的PE互连"
    },
    {
      "indent": 3,
      "text": "If a PE is in the Optimized Mode for a PW, upon transmit, the PE SHOULD drop a frame if its VLAN ID matches the local leaf VLAN ID.",
      "zh-CHS": "如果PE处于PW的优化模式，则在传输时，如果其VLAN ID与本地叶VLAN ID匹配，则PE应丢弃一个帧。"
    },
    {
      "indent": 0,
      "text": "6. Signaling for E-Tree Support",
      "section_title": true,
      "zh-CHS": "6. E-Tree支持的信令"
    },
    {
      "indent": 0,
      "text": "6.1. LDP Extensions for E-Tree Support",
      "section_title": true,
      "zh-CHS": "6.1. 支持E-Tree的LDP扩展"
    },
    {
      "indent": 3,
      "text": "In addition to the signaling procedures as specified in Section 5.3.3 of [RFC4447], this document specifies a new interface parameter sub-TLV to provision an E-Tree service and negotiate the VLAN mapping function, as follows:",
      "zh-CHS": "除了[RFC4447]第5.3.3节中规定的信令程序外，本文件还规定了一个新的接口参数sub-TLV，以提供E-Tree服务并协商VLAN映射功能，如下所示："
    },
    {
      "indent": 4,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  E-Tree(0x1A) |   Length=8    |           Reserved        |P|V|\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  MBZ  |   Root VLAN ID        |  MBZ  |   Leaf VLAN ID        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 25,
      "text": "Figure 8: E-Tree Sub-TLV",
      "zh-CHS": "图8：电子树子TLV"
    },
    {
      "indent": 3,
      "text": "Where:",
      "zh-CHS": "哪里："
    },
    {
      "indent": 3,
      "text": "o E-Tree is the sub-TLV identifier (0x1A) as assigned by IANA.",
      "zh-CHS": "o E-Tree是IANA分配的子TLV标识符（0x1A）。"
    },
    {
      "indent": 3,
      "text": "o Length is the length of the sub-TLV in octets.",
      "zh-CHS": "o 长度是子TLV的长度，以八位字节为单位。"
    },
    {
      "indent": 3,
      "text": "o Reserved, bits MUST be set to zero on transmit and be ignored on receive.",
      "zh-CHS": "o 保留，传输时位必须设置为零，接收时忽略。"
    },
    {
      "indent": 3,
      "text": "o P is a leaf-only bit, it is set to 1 to indicate that the PE is attached with only leaf nodes, and set to 0 otherwise.",
      "zh-CHS": "o P是仅叶位，设置为1表示PE仅附加叶节点，否则设置为0。"
    },
    {
      "indent": 3,
      "text": "o V is a bit indicating the sender's VLAN mapping capability. A PE capable of VLAN mapping MUST set this bit, and clear it otherwise.",
      "zh-CHS": "o V是表示发送方的VLAN映射能力的位。能够进行VLAN映射的PE必须设置此位，否则将其清除。"
    },
    {
      "indent": 3,
      "text": "o Must Be Zero (MBZ), 4 bits MUST be set to zero on transmit and be ignored on receive.",
      "zh-CHS": "o 必须为零（MBZ），4位必须在传输时设置为零，在接收时忽略。"
    },
    {
      "indent": 3,
      "text": "o Root VLAN ID is the value of the local root VLAN.",
      "zh-CHS": "o 根VLAN ID是本地根VLAN的值。"
    },
    {
      "indent": 3,
      "text": "o Leaf VLAN ID is the value of the local leaf VLAN.",
      "zh-CHS": "o 叶VLAN ID是本地叶VLAN的值。"
    },
    {
      "indent": 3,
      "text": "When setting up a PW for the E-Tree based VPLS, two peer PEs negotiate the E-Tree support using the above E-Tree sub-TLV. Note that the PW type of 0x0004 SHOULD be used during the PW negotiation.",
      "zh-CHS": "为基于E-Tree的VPL设置PW时，两个对等PE使用上述E-Tree子TLV协商E-Tree支持。请注意，PW协商期间应使用0x0004的PW类型。"
    },
    {
      "indent": 3,
      "text": "A PE that wishes to support an E-Tree service MUST include an E-Tree sub-TLV in its PW Label Mapping message and include its local root VLAN ID and leaf VLAN ID in the TLV. A PE that has the VLAN mapping",
      "zh-CHS": "希望支持E-Tree服务的PE必须在其PW标签映射消息中包含E-Tree子TLV，并在TLV中包含其本地根VLAN ID和叶VLAN ID。具有VLAN映射的PE"
    },
    {
      "indent": 3,
      "text": "capability MUST set the V bit to 1, and a PE attached with only leaf nodes SHOULD set the P bit to 1.",
      "zh-CHS": "功能必须将V位设置为1，仅连接叶节点的PE应将P位设置为1。"
    },
    {
      "indent": 3,
      "text": "A PE that receives a PW Label Mapping message with an E-Tree sub-TLV from its peer PE, after saving the VLAN information for the PW, MUST process it as follows:",
      "zh-CHS": "从对等PE接收带有E树子TLV的PW标签映射消息的PE在保存PW的VLAN信息后，必须按如下方式处理该消息："
    },
    {
      "indent": 6,
      "text": "1) For this PW, set VLAN-Mapping-Mode, Compatible-Mode, and Optimized-Mode to FALSE.",
      "zh-CHS": "1) 对于此PW，将VLAN映射模式、兼容模式和优化模式设置为FALSE。"
    },
    {
      "indent": 6,
      "text": "2) If either the root VLAN ID in the message is not equal to the local root VLAN ID, or the leaf VLAN ID in the message is not equal to the local leaf VLAN ID {",
      "zh-CHS": "2) 如果消息中的根VLAN ID不等于本地根VLAN ID，或者消息中的叶VLAN ID不等于本地叶VLAN ID{"
    },
    {
      "indent": 13,
      "text": "If the bit V is cleared {",
      "zh-CHS": "如果位V被清除{"
    },
    {
      "indent": 19,
      "text": "If the PE is capable of VLAN mapping, it MUST set VLAN-Mapping-Mode to TRUE;",
      "zh-CHS": "如果PE能够进行VLAN映射，则必须将VLAN映射模式设置为TRUE；"
    },
    {
      "indent": 19,
      "text": "Else {",
      "zh-CHS": "否则{"
    },
    {
      "indent": 24,
      "text": "A Label Release message with the error code \"E-Tree VLAN mapping not supported\" is sent to the peer PE and exit the process;",
      "zh-CHS": "向对等PE发送错误代码为“E-Tree VLAN映射不受支持”的标签释放消息，并退出流程；"
    },
    {
      "indent": 24,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 13,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 13,
      "text": "If the bit V is set, and the PE is capable of VLAN mapping, the PE with the minimum IP address MUST set VLAN-Mapping-Mode to TRUE;",
      "zh-CHS": "如果设置了位V，并且PE能够进行VLAN映射，则具有最小IP地址的PE必须将VLAN映射模式设置为TRUE；"
    },
    {
      "indent": 9,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 6,
      "text": "3) If the P bit is set",
      "zh-CHS": "3) 如果设置了P位"
    },
    {
      "indent": 9,
      "text": "{",
      "zh-CHS": "{"
    },
    {
      "indent": 13,
      "text": "If the PE is a leaf-only node itself, a Label Release message with a status code \"Leaf-to-Leaf PW released\" is sent to the peer PE and exits the process;",
      "zh-CHS": "如果PE本身是仅叶节点，则向对等PE发送状态代码为“叶到叶PW已释放”的标签释放消息并退出该过程；"
    },
    {
      "indent": 13,
      "text": "Else the PE SHOULD set the Optimized-Mode to TRUE.",
      "zh-CHS": "否则PE应将优化模式设置为TRUE。"
    },
    {
      "indent": 9,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 3,
      "text": "A PE SHOULD send a Label Mapping message with an E-Tree sub-TLV as per Section 5.3.3 of [RFC4447]. A PE MUST send a Label Mapping message with an updated E-Tree sub-TLV to all other PEs over corresponding LDP sessions when its role changes from leaf-only to not leaf-only (i.e., when a root node is added to a PE attached with only leaf nodes).",
      "zh-CHS": "PE应根据[RFC4447]第5.3.3节的规定，发送带有E-树子TLV的标签映射消息。当PE的角色从仅叶更改为不仅叶时（即，当根节点添加到仅连接叶节点的PE时），PE必须通过相应的LDP会话向所有其他PE发送带有更新的E树子TLV的标签映射消息。"
    },
    {
      "indent": 3,
      "text": "If a PE has sent a Label Mapping message with an E-Tree sub-TLV but does not receive any E-Tree sub-TLV in its peer's PW Label Mapping message, the PE SHOULD then establish a raw PW with this peer as in traditional VPLS and set Compatible-Mode to TRUE for this PW.",
      "zh-CHS": "如果PE已发送带有E-Tree子TLV的标签映射消息，但在其对等PW标签映射消息中未接收到任何E-Tree子TLV，则PE应像在传统VPLS中一样与该对等建立原始PW，并为此PW将Compatible Mode设置为TRUE。"
    },
    {
      "indent": 3,
      "text": "Data plane processing for this PW is as follows:",
      "zh-CHS": "此PW的数据平面处理如下所示："
    },
    {
      "indent": 3,
      "text": "o If Optimized-Mode is TRUE, then data plane processing as described in Section 5.3.3 applies.",
      "zh-CHS": "o 如果优化模式为真，则第5.3.3节所述的数据平面处理适用。"
    },
    {
      "indent": 3,
      "text": "o If VLAN-Mapping-Mode is TRUE, then data plane processing as described in Section 5.3.1 applies.",
      "zh-CHS": "o 如果VLAN映射模式为真，则第5.3.1节所述的数据平面处理适用。"
    },
    {
      "indent": 3,
      "text": "o If Compatible-Mode is TRUE, then data plane processing as described in Section 5.3.2 applies.",
      "zh-CHS": "o 如果兼容模式为真，则第5.3.2节所述的数据平面处理适用。"
    },
    {
      "indent": 3,
      "text": "o PW processing as described in [RFC4448] proceeds as usual for all cases.",
      "zh-CHS": "o [RFC4448]中所述的PW处理在所有情况下照常进行。"
    },
    {
      "indent": 3,
      "text": "When VPLS is set up using the Pseudowire ID (PWid) Forwarding Equivalence Class (FEC) Element (see Appendix A of [RFC4762]), its E-Tree signaling is similar to the above process. Dynamic re-configuration of E-Tree should be avoided for this case. However, when re-configuration of E-Tree is forced on a PE for some reason (e.g., a configuration error), the PE may close the LDP sessions with its peer PEs for this VPLS instance and re-install its PW labels, so that its peer PEs can send out the LDP Label Mapping messages again.",
      "zh-CHS": "当使用伪线ID（PWid）转发等价类（FEC）元素（参见[RFC4762]的附录A）设置VPLS时，其E树信令与上述过程类似。在这种情况下，应避免动态重新配置E-Tree。然而，当由于某种原因（例如，配置错误）在PE上强制重新配置E-Tree时，PE可能会关闭与该VPLS实例的对等PE的LDP会话，并重新安装其PW标签，以便其对等PE可以再次发送LDP标签映射消息。"
    },
    {
      "indent": 0,
      "text": "6.2. BGP Extensions for E-Tree Support",
      "section_title": true,
      "zh-CHS": "6.2. 支持电子树的BGP扩展"
    },
    {
      "indent": 3,
      "text": "A new E-Tree extended community (0x800b) has been allocated by IANA for E-Tree signaling in BGP VPLS:",
      "zh-CHS": "IANA为BGP VPLS中的E-Tree信令分配了一个新的E-Tree扩展社区（0x800b）："
    },
    {
      "indent": 18,
      "text": "+------------------------------------+\n| Extended community type (2 octets) |\n+------------------------------------+\n|  MBZ  |   Root VLAN (12 bits)      |\n+------------------------------------+\n|  MBZ  |   Leaf VLAN (12 bits)      |\n+------------------------------------+\n|  Reserved                      |P|V|\n+------------------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 20,
      "text": "Figure 9: E-Tree Extended Community",
      "zh-CHS": "图9:E-Tree扩展社区"
    },
    {
      "indent": 3,
      "text": "Where:",
      "zh-CHS": "哪里："
    },
    {
      "indent": 3,
      "text": "o Must Be Zero (MBZ), 4 bits MUST be set to zero on transmit and be ignored on receive.",
      "zh-CHS": "o 必须为零（MBZ），4位必须在传输时设置为零，在接收时忽略。"
    },
    {
      "indent": 3,
      "text": "o Root VLAN ID is the value of the local root VLAN.",
      "zh-CHS": "o 根VLAN ID是本地根VLAN的值。"
    },
    {
      "indent": 3,
      "text": "o Leaf VLAN ID is the value of the local leaf VLAN.",
      "zh-CHS": "o 叶VLAN ID是本地叶VLAN的值。"
    },
    {
      "indent": 3,
      "text": "o Reserved, 14 bits MUST be set to zero on transmit and be ignored on receive.",
      "zh-CHS": "o 保留，14位必须在传输时设置为零，在接收时忽略。"
    },
    {
      "indent": 3,
      "text": "o P is a leaf-only bit, it is set to 1 to indicate that the PE is attached with only leaf nodes, and set to 0 otherwise.",
      "zh-CHS": "o P是仅叶位，设置为1表示PE仅附加叶节点，否则设置为0。"
    },
    {
      "indent": 3,
      "text": "o V is a bit indicating the sender's VLAN mapping capability. A PE capable of VLAN mapping MUST set this bit, and clear it otherwise.",
      "zh-CHS": "o V是表示发送方的VLAN映射能力的位。能够进行VLAN映射的PE必须设置此位，否则将其清除。"
    },
    {
      "indent": 3,
      "text": "The PEs attached with both leaf and root nodes MUST support BGP E-Tree signaling as described in this document, and SHOULD support VLAN mapping in their data planes. The traditional PE attached with only root nodes may also participate in an E-Tree service. If some PEs don't support VLAN mapping, global VLANs as per Section 5.2 MUST be provisioned for an E-Tree service.",
      "zh-CHS": "与叶节点和根节点连接的PE必须支持本文档中所述的BGP E-Tree信令，并且应支持其数据平面中的VLAN映射。只有根节点连接的传统PE也可以参与E-Tree服务。如果某些PE不支持VLAN映射，则必须根据第5.2节为E-Tree服务配置全局VLAN。"
    },
    {
      "indent": 3,
      "text": "In BGP VPLS signaling, besides attaching a Layer2 Info Extended Community as detailed in [RFC4761], an E-Tree Extended Community MUST be further attached if a PE wishes to participate in an E-Tree service. The PE MUST include its local root VLAN ID and leaf VLAN ID",
      "zh-CHS": "在BGP VPLS信令中，除了按照[RFC4761]中的详细说明连接Layer2信息扩展社区外，如果PE希望参与E-Tree服务，还必须进一步连接E-Tree扩展社区。PE必须包括其本地根VLAN ID和叶VLAN ID"
    },
    {
      "indent": 3,
      "text": "in the E-Tree Extended Community. A PE attached with only leaf nodes of an E-Tree SHOULD set the P bit in the E-Tree Extended Community to 1.",
      "zh-CHS": "在E-Tree扩展社区中。仅连接E树叶节点的PE应将E树扩展社区中的P位设置为1。"
    },
    {
      "indent": 3,
      "text": "A PE that receives a BGP UPDATE message with an E-Tree Extended Community from its peer PE, after saving the VLAN information for the PW, MUST process it as follows (after processing procedures as specified in Section 3.2 of [RFC4761]):",
      "zh-CHS": "在保存PW的VLAN信息后，从对等PE接收带有E-Tree扩展社区的BGP更新消息的PE必须按照以下方式处理该消息（按照[RFC4761]第3.2节规定的处理程序处理后）："
    },
    {
      "indent": 3,
      "text": "1) For this PW, set VLAN-Mapping-Mode, Compatible-Mode, and Optimized-Mode to FALSE.",
      "zh-CHS": "1) 对于此PW，将VLAN映射模式、兼容模式和优化模式设置为FALSE。"
    },
    {
      "indent": 3,
      "text": "2) If either the root VLAN ID in the E-Tree Extended Community is not equal to the local root VLAN ID, or the leaf VLAN ID in the E-Tree Extended Community is not equal to the local leaf VLAN ID {",
      "zh-CHS": "2) 如果E-Tree扩展社区中的根VLAN ID不等于本地根VLAN ID，或者E-Tree扩展社区中的叶VLAN ID不等于本地叶VLAN ID{"
    },
    {
      "indent": 10,
      "text": "If the bit V is cleared {",
      "zh-CHS": "如果位V被清除{"
    },
    {
      "indent": 16,
      "text": "If the PE is capable of VLAN mapping, it MUST set VLAN-Mapping-Mode to TRUE;",
      "zh-CHS": "如果PE能够进行VLAN映射，则必须将VLAN映射模式设置为TRUE；"
    },
    {
      "indent": 16,
      "text": "Else {",
      "zh-CHS": "否则{"
    },
    {
      "indent": 21,
      "text": "Log with a message \"E-Tree VLAN mapping not supported\" and exit the process;",
      "zh-CHS": "使用消息“不支持E-Tree VLAN映射”登录并退出流程；"
    },
    {
      "indent": 21,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 10,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 10,
      "text": "If the bit V is set, and the PE is capable of VLAN mapping, the PE with the minimum IP address MUST set VLAN-Mapping-Mode to TRUE;",
      "zh-CHS": "如果设置了位V，并且PE能够进行VLAN映射，则具有最小IP地址的PE必须将VLAN映射模式设置为TRUE；"
    },
    {
      "indent": 6,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 3,
      "text": "3) If the P bit is set {",
      "zh-CHS": "3) 如果设置了P位{"
    },
    {
      "indent": 10,
      "text": "If the PE is a leaf-only PE itself, forbids any traffic on the PW;",
      "zh-CHS": "如果PE本身是纯叶PE，则禁止PW上的任何通信；"
    },
    {
      "indent": 10,
      "text": "Else the PE SHOULD set the Optimized-Mode to TRUE.",
      "zh-CHS": "否则PE应将优化模式设置为TRUE。"
    },
    {
      "indent": 6,
      "text": "}",
      "zh-CHS": "}"
    },
    {
      "indent": 3,
      "text": "A PE that does not recognize this attribute SHALL ignore it silently. If a PE has sent an E-Tree Extended Community but does not receive any E-Tree Extended Community from its peer, the PE SHOULD then",
      "zh-CHS": "不识别该属性的PE应默默忽略该属性。如果PE已发送E-Tree扩展社区，但未从其对等方接收任何E-Tree扩展社区，则PE应"
    },
    {
      "indent": 3,
      "text": "establish a raw PW with this peer as in traditional VPLS and set Compatible-Mode to TRUE for this PW.",
      "zh-CHS": "像在传统VPLS中一样，与该对等方建立一个原始PW，并为此PW将Compatible Mode（兼容模式）设置为TRUE。"
    },
    {
      "indent": 3,
      "text": "The data plane in the VPLS is the same as described in Section 4.2 of [RFC4761], and data plane processing for a PW is the same as described at the end of Section 6.1 in this document.",
      "zh-CHS": "VPLS中的数据平面与[RFC4761]第4.2节所述相同，PW的数据平面处理与本文件第6.1节末尾所述相同。"
    },
    {
      "indent": 0,
      "text": "7. OAM Considerations",
      "section_title": true,
      "zh-CHS": "7. OAM考虑事项"
    },
    {
      "indent": 3,
      "text": "The VPLS OAM requirements and framework as specified in [RFC6136] are applicable to E-Tree, as both Ethernet OAM frames and data traffic are transported over the same PW.",
      "zh-CHS": "[RFC6136]中规定的VPLS OAM要求和框架适用于E-Tree，因为以太网OAM帧和数据流量都通过相同的PW传输。"
    },
    {
      "indent": 3,
      "text": "Ethernet OAM for E-Tree including both service OAM and segment OAM frames SHALL undergo the same VLAN mapping as the data traffic; and root VLAN SHOULD be applied to segment OAM frames so that they are not filtered.",
      "zh-CHS": "E-Tree的以太网OAM（包括服务OAM和段OAM帧）应与数据流量进行相同的VLAN映射；根VLAN应该应用于段OAM帧，以便它们不会被过滤。"
    },
    {
      "indent": 0,
      "text": "8. Applicability",
      "section_title": true,
      "zh-CHS": "8. 适用性"
    },
    {
      "indent": 3,
      "text": "The solution specified in this document is applicable to both LDP VPLS [RFC4762] and BGP VPLS [RFC4761].",
      "zh-CHS": "本文件中规定的解决方案适用于LDP VPLS[RFC4762]和BGP VPLS[RFC4761]。"
    },
    {
      "indent": 3,
      "text": "This solution is applicable to both \"VPLS Only\" networks and VPLS with Ethernet aggregation networks.",
      "zh-CHS": "此解决方案适用于“仅VPLS”网络和带有以太网聚合网络的VPLS。"
    },
    {
      "indent": 3,
      "text": "This solution is also applicable to PBB VPLS networks.",
      "zh-CHS": "此解决方案也适用于PBB VPLS网络。"
    },
    {
      "indent": 0,
      "text": "9. IANA Considerations",
      "section_title": true,
      "zh-CHS": "9. IANA考虑"
    },
    {
      "indent": 3,
      "text": "IANA allocated the following value for E-Tree in the \"Pseudowire Interface Parameters Sub-TLV type Registry\".",
      "zh-CHS": "IANA在“伪线接口参数子TLV类型注册表”中为E-Tree分配了以下值。"
    },
    {
      "indent": 3,
      "text": "Parameter ID   Length       Description\n=======================================\n0x1A            8            E-Tree",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "IANA allocated the two following new LDP status codes in the \"Status Code Name Space\" registry.",
      "zh-CHS": "IANA在“状态代码名称空间”注册表中分配了以下两个新的LDP状态代码。"
    },
    {
      "indent": 3,
      "text": "Range/Value     E     Description\n------------- -----   ----------------------\n0x20000003      1     E-Tree VLAN mapping not supported\n0x20000004      0     Leaf-to-Leaf PW released",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "IANA allocated the following value for E-tree in the \"Generic Transitive Experimental Use Extended Community Sub-Types\" registry within the BGP Extended Community registry.",
      "zh-CHS": "IANA在BGP扩展社区注册表中的“通用传递实验使用扩展社区子类型”注册表中为E-tree分配了以下值。"
    },
    {
      "indent": 3,
      "text": "Type Value   Sub-Type Value   Name\n==========   ==============   ============\n0x80         0x0b             E-Tree Info",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "10. Security Considerations",
      "section_title": true,
      "zh-CHS": "10. 安全考虑"
    },
    {
      "indent": 3,
      "text": "This solution requires implementations to prevent leaf-to-leaf communication in the data plane of VPLS when its PEs are interconnected with PWs. If all PEs enforce that, then network attacks from one leaf to another leaf are avoided, and security can be enhanced for customers with this solution. However, if a PE is compromised or inappropriately configured, a leaf node may be taken as a root node and may receive traffic from other leaf nodes inappropriately. Authenticity and integrity measures for LDP need to be considered as in RFC 5036 [RFC5036]. Security considerations as described in [RFC4448], [RFC4761], and [RFC4762] also apply.",
      "zh-CHS": "该解决方案要求在其PEs与PWs互连时，在VPLS的数据平面上防止叶对叶通信。如果所有PEs都实施了这一点，那么就可以避免从一个叶到另一个叶的网络攻击，并且使用此解决方案可以增强客户的安全性。然而，如果PE被破坏或不适当地配置，则叶节点可以被视为根节点，并且可以不适当地接收来自其他叶节点的流量。需要按照RFC 5036[RFC5036]的规定考虑LDP的真实性和完整性措施。[RFC4448]、[RFC4761]和[RFC4762]中所述的安全注意事项也适用。"
    },
    {
      "indent": 0,
      "text": "11. References",
      "section_title": true,
      "zh-CHS": "11. 工具书类"
    },
    {
      "indent": 0,
      "text": "11.1. Normative References",
      "section_title": true,
      "zh-CHS": "11.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[IEEE-802.1Q-2014] IEEE, \"Bridges and Bridged Networks\", IEEE 802.1Q, DOI 10.1109/ieeestd.2014.6991462, November 2014.",
      "zh-CHS": "[IEEE-802.1Q-2014]IEEE，“网桥和桥接网络”，IEEE 802.1Q，DOI 10.1109/ieeestd.2014.6991462，2014年11月。"
    },
    {
      "indent": 3,
      "text": "[MEF6.2] Metro Ethernet Forum 6.2, \"EVC Ethernet Services Definitions Phase 3\", August 2014.",
      "zh-CHS": "[MEF6.2]城域以太网论坛6.2，“EVC以太网服务定义第3阶段”，2014年8月。"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <http://www.rfc-editor.org/info/rfc2119>.",
      "zh-CHS": "[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，DOI 10.17487/RFC2119，1997年3月<http://www.rfc-editor.org/info/rfc2119>."
    },
    {
      "indent": 3,
      "text": "[RFC4447] Martini, L., Ed., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, \"Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)\", RFC 4447, DOI 10.17487/RFC4447, April 2006, <http://www.rfc-editor.org/info/rfc4447>.",
      "zh-CHS": "[RFC4447]Martini，L.，Ed.，Rosen，E.，El Aawar，N.，Smith，T.，和G.Heron，“使用标签分发协议（LDP）的伪线设置和维护”，RFC 4447，DOI 10.17487/RFC4447，2006年4月<http://www.rfc-editor.org/info/rfc4447>."
    },
    {
      "indent": 3,
      "text": "[RFC4448] Martini, L., Ed., Rosen, E., El-Aawar, N., and G. Heron, \"Encapsulation Methods for Transport of Ethernet over MPLS Networks\", RFC 4448, DOI 10.17487/RFC4448, April 2006, <http://www.rfc-editor.org/info/rfc4448>.",
      "zh-CHS": "[RFC4448]Martini，L.，Ed.，Rosen，E.，El Aawar，N.，和G.Heron，“通过MPLS网络传输以太网的封装方法”，RFC 4448，DOI 10.17487/RFC4448，2006年4月<http://www.rfc-editor.org/info/rfc4448>."
    },
    {
      "indent": 3,
      "text": "[RFC4761] Kompella, K., Ed. and Y. Rekhter, Ed., \"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling\", RFC 4761, DOI 10.17487/RFC4761, January 2007, <http://www.rfc-editor.org/info/rfc4761>.",
      "zh-CHS": "[RFC4761]Kompella，K.，Ed.和Y.Rekhter，Ed.，“使用BGP进行自动发现和信令的虚拟专用LAN服务（VPLS）”，RFC 4761，DOI 10.17487/RFC4761，2007年1月<http://www.rfc-editor.org/info/rfc4761>."
    },
    {
      "indent": 3,
      "text": "[RFC4762] Lasserre, M., Ed. and V. Kompella, Ed., \"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling\", RFC 4762, DOI 10.17487/RFC4762, January 2007, <http://www.rfc-editor.org/info/rfc4762>.",
      "zh-CHS": "[RFC4762]Lasserre，M.，Ed.和V.Kompella，Ed.，“使用标签分发协议（LDP）信令的虚拟专用LAN服务（VPLS）”，RFC 4762，DOI 10.17487/RFC4762，2007年1月<http://www.rfc-editor.org/info/rfc4762>."
    },
    {
      "indent": 3,
      "text": "[RFC5036] Andersson, L., Ed., Minei, I., Ed., and B. Thomas, Ed., \"LDP Specification\", RFC 5036, DOI 10.17487/RFC5036, October 2007, <http://www.rfc-editor.org/info/rfc5036>.",
      "zh-CHS": "[RFC5036]Andersson，L.，Ed.，Minei，I.，Ed.，和B.Thomas，Ed.“LDP规范”，RFC 5036，DOI 10.17487/RFC5036，2007年10月<http://www.rfc-editor.org/info/rfc5036>."
    },
    {
      "indent": 0,
      "text": "11.2. Informative References",
      "section_title": true,
      "zh-CHS": "11.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[IEEE-802.1Q-2003] IEEE, \"Virtual Bridged Local Area Networks\", IEEE 802.1, DOI 10.1109/IEEESTD.2003.94280, May 2003.",
      "zh-CHS": "[IEEE-802.1Q-2003]IEEE，“虚拟桥接局域网”，IEEE 802.1，DOI 10.1109/IEEESTD.2003.94280，2003年5月。"
    },
    {
      "indent": 3,
      "text": "[MEF4] Metro Ethernet Forum 4, \"Metro Ethernet Network Architecture Framework - Part 1: Generic Framework\", May 2004.",
      "zh-CHS": "[MEF4]城域以太网论坛4，“城域以太网网络架构框架-第1部分：通用框架”，2004年5月。"
    },
    {
      "indent": 3,
      "text": "[RFC3985] Bryant, S., Ed. and P. Pate, Ed., \"Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture\", RFC 3985, DOI 10.17487/RFC3985, March 2005, <http://www.rfc-editor.org/info/rfc3985>.",
      "zh-CHS": "[RFC3985]Bryant，S.，Ed.和P.Pate，Ed.，“伪线仿真边到边（PWE3）架构”，RFC 3985，DOI 10.17487/RFC3985，2005年3月<http://www.rfc-editor.org/info/rfc3985>."
    },
    {
      "indent": 3,
      "text": "[RFC4664] Andersson, L., Ed. and E. Rosen, Ed., \"Framework for Layer 2 Virtual Private Networks (L2VPNs)\", RFC 4664, DOI 10.17487/RFC4664, September 2006, <http://www.rfc-editor.org/info/rfc4664>.",
      "zh-CHS": "[RFC4664]Andersson，L.，Ed.和E.Rosen，Ed.，“第二层虚拟专用网络（L2VPN）框架”，RFC 4664，DOI 10.17487/RFC4664，2006年9月<http://www.rfc-editor.org/info/rfc4664>."
    },
    {
      "indent": 3,
      "text": "[RFC6136] Sajassi, A., Ed. and D. Mohan, Ed., \"Layer 2 Virtual Private Network (L2VPN) Operations, Administration, and Maintenance (OAM) Requirements and Framework\", RFC 6136, DOI 10.17487/RFC6136, March 2011, <http://www.rfc-editor.org/info/rfc6136>.",
      "zh-CHS": "[RFC6136]Sajassi，A.，Ed.和D.Mohan，Ed.，“第二层虚拟专用网络（L2VPN）运营、管理和维护（OAM）要求和框架”，RFC 6136，DOI 10.17487/RFC6136，2011年3月<http://www.rfc-editor.org/info/rfc6136>."
    },
    {
      "indent": 3,
      "text": "[RFC6246] Sajassi, A., Ed., Brockners, F., Mohan, D., Ed., and Y. Serbest, \"Virtual Private LAN Service (VPLS) Interoperability with Customer Edge (CE) Bridges\", RFC 6246, DOI 10.17487/RFC6246, June 2011, <http://www.rfc-editor.org/info/rfc6246>.",
      "zh-CHS": "[RFC6246]Sajassi，A.，Ed.，Brockners，F.，Mohan，D.，Ed.，和Y.Serbest，“虚拟专用局域网服务（VPLS）与客户边缘（CE）网桥的互操作性”，RFC 6246，DOI 10.17487/RFC6246，2011年6月<http://www.rfc-editor.org/info/rfc6246>."
    },
    {
      "indent": 3,
      "text": "[RFC7041] Balus, F., Ed., Sajassi, A., Ed., and N. Bitar, Ed., \"Extensions to the Virtual Private LAN Service (VPLS) Provider Edge (PE) Model for Provider Backbone Bridging\", RFC 7041, DOI 10.17487/RFC7041, November 2013, <http://www.rfc-editor.org/info/rfc7041>.",
      "zh-CHS": "[RFC7041]Balus，F.，Ed.，Sajassi，A.，Ed.，和N.Bitar，Ed.，“虚拟专用LAN服务（VPLS）提供商边缘（PE）模型的扩展，用于提供商主干网桥”，RFC 7041，DOI 10.17487/RFC7041，2013年11月<http://www.rfc-editor.org/info/rfc7041>."
    },
    {
      "indent": 3,
      "text": "[RFC7152] Key, R., Ed., DeLord, S., Jounay, F., Huang, L., Liu, Z., and M. Paul, \"Requirements for Metro Ethernet Forum (MEF) Ethernet-Tree (E-Tree) Support in Layer 2 Virtual Private Network (L2VPN)\", RFC 7152, DOI 10.17487/RFC7152, March 2014, <http://www.rfc-editor.org/info/rfc7152>.",
      "zh-CHS": "[RFC7152]Key，R.，Ed.，DeLord，S.，Jounay，F.，Huang，L.，Liu，Z.，和M.Paul，“第二层虚拟专用网络（L2VPN）中对城域以太网论坛（MEF）以太网树（E-Tree）支持的要求”，RFC 7152，DOI 10.17487/RFC7152，2014年3月<http://www.rfc-editor.org/info/rfc7152>."
    },
    {
      "indent": 3,
      "text": "[RFC7387] Key, R., Ed., Yong, L., Ed., Delord, S., Jounay, F., and L. Jin, \"A Framework for Ethernet Tree (E-Tree) Service over a Multiprotocol Label Switching (MPLS) Network\", RFC 7387, DOI 10.17487/RFC7387, October 2014, <http://www.rfc-editor.org/info/rfc7387>.",
      "zh-CHS": "[RFC7387]Key，R.，Ed.，Yong，L.，Ed.，Delord，S.，Jounay，F.，和L.Jin，“多协议标签交换（MPLS）网络上的以太网树（E-Tree）服务框架”，RFC 7387，DOI 10.17487/RFC7387，2014年10月<http://www.rfc-editor.org/info/rfc7387>."
    },
    {
      "indent": 3,
      "text": "[VPMS] Kamite, Y., JOUNAY, F., Niven-Jenkins, B., Brungard, D., and L. Jin, \"Framework and Requirements for Virtual Private Multicast Service (VPMS)\", Work in Progress, draft-ietf-l2vpn-vpms-frmwk-requirements-05, October 2012.",
      "zh-CHS": "[VPMS]Kamite，Y.，JOUNAY，F.，Niven Jenkins，B.，Brungard，D.，和L.Jin，“虚拟专用多播服务（VPMS）的框架和要求”，正在进行的工作，草案-ietf-l2vpn-VPMS-frmwk-Requirements-052012年10月。"
    },
    {
      "indent": 0,
      "text": "Appendix A. Other PE Models for E-Tree",
      "section_title": true,
      "zh-CHS": "附录A.E-Tree的其他PE模型"
    },
    {
      "indent": 0,
      "text": "A.1. A PE Model with a VSI and No Bridge",
      "section_title": true,
      "zh-CHS": "A.1. 具有VSI且无桥接的PE模型"
    },
    {
      "indent": 3,
      "text": "If there is no bridge module in a PE, the PE may consist of Native Service Processors (NSPs) as shown in Figure 10 (adapted from Figure 5 of [RFC3985]) where any transformation operation for VLANs (e.g., VLAN insertion/removal or VLAN mapping) may be applied. Thus, a root VLAN or leaf VLAN can be added by the NSP depending on the User Network Interface (UNI) type (root/leaf) associated with the AC over which the packet arrives.",
      "zh-CHS": "如果PE中没有网桥模块，则PE可能由图10所示的本机服务处理器（NSP）组成（改编自[RFC3985]的图5），其中可以应用VLAN的任何转换操作（例如，VLAN插入/删除或VLAN映射）。因此，根VLAN或叶VLAN可以由NSP根据与分组到达的AC相关联的用户网络接口（UNI）类型（根/叶）来添加。"
    },
    {
      "indent": 3,
      "text": "Further, when a packet with a leaf VLAN exits a forwarder and arrives at the NSP, the NSP must drop the packet if the egress AC is associated with a leaf UNI.",
      "zh-CHS": "此外，当具有叶VLAN的分组离开转发器并到达NSP时，如果出口AC与叶UNI相关联，则NSP必须丢弃该分组。"
    },
    {
      "indent": 3,
      "text": "Tagged PW and VLAN mapping work in the same way as in the typical PE model.",
      "zh-CHS": "标记的PW和VLAN映射的工作方式与典型PE模型中的工作方式相同。"
    },
    {
      "indent": 6,
      "text": "        +----------------------------------------+\n        |                PE Device               |\nMultiple+----------------------------------------+\nAC      |      |          |        Single        | PW Instance\n<------>o  NSP #          +      PW Instance     X<---------->\n        |      |          |                      |\n        |------|  VSI     |----------------------|\n        |      |          |        Single        | PW Instance\n<------>o  NSP #Forwarder +      PW Instance     X<---------->\n        |      |          |                      |\n        |------|          |----------------------|\n        |      |          |        Single        | PW Instance\n<------>o  NSP #          +      PW Instance     X<---------->\n        |      |          |                      |\n        +----------------------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 11,
      "text": "Figure 10: A PE Model with a VSI and No Bridge Module",
      "zh-CHS": "图10：带有VSI和无桥接模块的PE模型"
    },
    {
      "indent": 3,
      "text": "This PE model may be used by a Multi-Tenant Unit switch (MTU-s) in a Hierarchical VPLS (H-VPLS) network or a Network-facing PE (N-PE) in an H-VPLS network with non-bridging edge devices, wherein a spoke PW can be treated as an AC in this model.",
      "zh-CHS": "该PE模型可由分层VPLS（H-VPLS）网络中的多租户单元交换机（MTU-s）或具有非桥接边缘设备的H-VPLS网络中的面向网络的PE（N-PE）使用，其中在该模型中，分支PW可被视为AC。"
    },
    {
      "indent": 0,
      "text": "A.2. A PE Model with External E-Tree Interface",
      "section_title": true,
      "zh-CHS": "A.2. 具有外部E-Tree接口的PE模型"
    },
    {
      "indent": 6,
      "text": "       +----------------------------------------+\n        |                PE Device               |\nRoot    +----------------------------------------+\nVLAN    |                 |        Single        | PW Instance\n<------>o                 +      PW Instance     X<---------->\n        |                 |                      |\n        |       VSI       |----------------------|\n        |                 |        Single        | PW Instance\n        |    Forwarder    +      PW Instance     X<---------->\n        |                 |                      |\nLeaf    |                 |----------------------|\nVLAN    |                 |        Single        | PW Instance\n<------>o                 +      PW Instance     X<---------->\n        |                 |                      |\n        +----------------------------------------+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 11,
      "text": "Figure 11: A PE Model with External E-Tree Interface",
      "zh-CHS": "图11：带有外部E-Tree接口的PE模型"
    },
    {
      "indent": 3,
      "text": "A more simplified PE model is depicted in A.2, where Root/Leaf VLANs are directly or indirectly connected over a single PW to the same VSI forwarder in a PE, any transformation of E-Tree VLANs, e.g., VLAN insertion/removal or VLAN mapping, can be performed by some outer equipment, and the PE may further translate these VLANs into its own local VLANs. This PE model may be used by an N-PE in an H-VPLS network with bridging-capable devices, or scenarios such as providing E-Tree Network-to-Network interfaces.",
      "zh-CHS": "A.2中描述了更简化的PE模型，其中根/叶VLAN通过单个PW直接或间接连接到PE中的同一VSI转发器，E树VLAN的任何转换，例如VLAN插入/移除或VLAN映射，都可以由一些外部设备执行，并且PE可以进一步将这些VLAN转换为其自己的本地VLAN。此PE模型可由H-VPLS网络中的N-PE使用，该网络具有桥接功能的设备，或提供E-Tree网络到网络接口等场景。"
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "zh-CHS": "致谢"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Stewart Bryant, Lizhong Jin, Deborah Brungard, Russ Housley, Stephen Farrell, Sheng Jiang, Alvaro Retana, and Ben Campbell for their detailed reviews and suggestions, and Adrian Farrel, Susan Hares, Shane Amante, and Andrew Malis for their valuable advice. In addition, the authors would like to thank Ben Mack-crane, Edwin Mallette, Donald Fedyk, Dave Allan, Giles Heron, Raymond Key, Josh Rogers, Sam Cao, and Daniel Cohn for their valuable comments and discussions.",
      "zh-CHS": "作者要感谢Stewart Bryant、Lizhong Jin、Deborah Brungard、Russ Housley、Stephen Farrell、Sheng Jiang、Alvaro Retana和Ben Campbell的详细评论和建议，以及Adrian Farrel、Susan Hares、Shane Amante和Andrew Malis的宝贵建议。此外，作者还要感谢Ben Mack crane、Edwin Mallette、Donald Fedyk、Dave Allan、Giles Heron、Raymond Key、Josh Rogers、Sam Cao和Daniel Cohn的宝贵评论和讨论。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "zh-CHS": "贡献者"
    },
    {
      "indent": 3,
      "text": "The following people made significant contributions to this document:",
      "zh-CHS": "以下人员对本文件做出了重大贡献："
    },
    {
      "indent": 3,
      "text": "Frederic Jounay Salt Mobile SA Rue du Caudray 4 1020 Renens Switzerland",
      "zh-CHS": "Frederic Jounay Salt Mobile SA Rue du Caudray 4 1020瑞士雷南"
    },
    {
      "indent": 3,
      "text": "Email: frederic.jounay@salt.ch",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Florin Balus Alcatel-Lucent 701 East Middlefield Road Mountain View, CA 94043 United States",
      "zh-CHS": "美国加利福尼亚州山景镇东米德菲尔德路701号弗洛林巴勒斯阿尔卡特朗讯94043"
    },
    {
      "indent": 3,
      "text": "Email: florin.balus@alcatel-lucent.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Wim Henderickx Alcatel-Lucent Copernicuslaan 50 2018 Antwerp Belgium",
      "zh-CHS": "Wim Henderickx Alcatel-Lucent Copernicuslaan 50 2018比利时安特卫普"
    },
    {
      "indent": 3,
      "text": "Email: wim.henderickx@alcatel-lucent.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Ali Sajassi Cisco 170 West Tasman Drive San Jose, CA 95134 United States",
      "zh-CHS": "美国加利福尼亚州圣何塞西塔斯曼大道170号，邮编95134"
    },
    {
      "indent": 3,
      "text": "Email: sajassi@cisco.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "Yuanlong Jiang (editor) Huawei Bantian, Longgang district Shenzhen 518129 China",
      "zh-CHS": "姜元龙（编辑）中国深圳市龙岗区华为坂田518129"
    },
    {
      "indent": 3,
      "text": "Email: jiangyuanlong@huawei.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Lucy Yong Huawei 207 Estrella Xing Georgetown, TX 78628 United States",
      "zh-CHS": "Lucy Yong Huawei 207 Estrella Xing乔治敦，德克萨斯州78628美国"
    },
    {
      "indent": 3,
      "text": "Email: lucyyong@huawei.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Manuel Paul Deutsche Telekom Winterfeldtstrasse 21 Berlin 10781 Germany",
      "zh-CHS": "Manuel Paul Deutsche Telekom Winterfeldtstrasse 21柏林10781德国"
    },
    {
      "indent": 3,
      "text": "Email: manuel.paul@telekom.de",
      "raw": true,
      "zh-CHS": " "
    }
  ]
}