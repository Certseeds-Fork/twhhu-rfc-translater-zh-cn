{
  "title": {
    "text": "RFC 8012: Label Switched Path (LSP) and Pseudowire (PW) Ping/Trace over MPLS Networks Using Entropy Labels (ELs)",
    "zh-CHS": "RFC 8012"
  },
  "number": 8012,
  "created_at": "2021-10-28 09:45:26.521542+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                          N. Akiya\nRequest for Comments: 8012                           Big Switch Networks\nUpdates: 6790                                                 G. Swallow\nCategory: Standards Track                                   C. Pignataro\nISSN: 2070-1721                                                    Cisco\n                                                                A. Malis\n                                                     Huawei Technologies\n                                                               S. Aldrin\n                                                                  Google\n                                                           November 2016",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 8,
      "text": "Label Switched Path (LSP) and Pseudowire (PW) Ping/Trace over MPLS Networks Using Entropy Labels (ELs)",
      "zh-CHS": "使用熵标签（ELs）标记MPLS网络上的交换路径（LSP）和伪线（PW）Ping/Trace"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) ping and traceroute are methods used to test Equal-Cost Multipath (ECMP) paths. Ping is known as a connectivity-verification method and traceroute is known as a fault-isolation method, as described in RFC 4379. When an LSP is signaled using the Entropy Label (EL) described in RFC 6790, the ability for LSP ping and traceroute operations to discover and exercise ECMP paths is lost for scenarios where Label Switching Routers (LSRs) apply different load-balancing techniques. One such scenario is when some LSRs apply EL-based load balancing while other LSRs apply load balancing that is not EL based (e.g., IP). Another scenario is when an EL-based LSP is stitched with another LSP that can be EL based or not EL based.",
      "zh-CHS": "多协议标签交换（MPLS）标签交换路径（LSP）ping和跟踪路由是用于测试等成本多路径（ECMP）路径的方法。Ping被称为连通性验证方法，traceroute被称为故障隔离方法，如RFC 4379所述。当使用RFC 6790中描述的熵标签（EL）向LSP发送信号时，在标签交换路由器（LSR）应用不同负载平衡技术的情况下，LSP ping和traceroute操作发现和执行ECMP路径的能力将丧失。其中一种情况是，一些LSR应用基于EL的负载平衡，而其他LSR应用不基于EL的负载平衡（例如，IP）。另一种情况是，基于EL的LSP与另一个可以基于EL或不基于EL的LSP缝合。"
    },
    {
      "indent": 3,
      "text": "This document extends the MPLS LSP ping and traceroute multipath mechanisms in RFC 6424 to allow the ability of exercising LSPs that make use of the EL. This document updates RFC 6790.",
      "zh-CHS": "本文档扩展了RFC 6424中的MPLS LSP ping和跟踪路由多路径机制，以允许使用EL的LSP。本文档更新了RFC 6790。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "zh-CHS": "这是一份互联网标准跟踪文件。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.",
      "zh-CHS": "本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。有关互联网标准的更多信息，请参见RFC 7841第2节。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc8012.",
      "zh-CHS": "有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc8012."
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2016 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "zh-CHS": "版权所有（c）2016 IETF信托基金和确定为文件作者的人员。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "zh-CHS": "本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................3\n   1.1. Terminology ................................................5\n        1.1.1. Requirements Language ...............................6\n   1.2. Background .................................................6\n2. Multipath Type {9} ..............................................7\n3. Pseudowire Tracing ..............................................7\n4. Entropy Label FEC ...............................................8\n5. DS Flags: L and E ...............................................9\n6. New Multipath Information Type {10} ............................10\n7. Initiating LSR Procedures ......................................12\n8. Responder LSR Procedures .......................................14\n   8.1. IP-Based Load Balancer That Does Not Push ELI/EL ..........15\n   8.2. IP-Based Load Balancer That Pushes ELI/EL .................15\n   8.3. Label-Based Load Balancer That Does Not Push ELI/EL .......16\n   8.4. Label-Based Load Balancer That Pushes ELI/EL ..............17\n   8.5. Flow-Aware MS-PW Stitching LSR ............................18\n9. Supported and Unsupported Cases ................................18\n10. Security Considerations .......................................20\n11. IANA Considerations ...........................................21\n   11.1. Entropy Label FEC ........................................21\n   11.2. DS Flags .................................................21\n   11.3. Multipath Type ...........................................21\n12. References ....................................................22\n   12.1. Normative References .....................................22\n   12.2. Informative References ...................................22\nAcknowledgements ..................................................23\nContributors ......................................................23\nAuthors' Addresses ................................................23",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "[RFC4379] describes LSP traceroute as an operation where the initiating LSR sends a series of MPLS echo requests towards the same destination. The first packet in the series has the TTL set to 1. When the echo reply is received from the LSR one hop away, the second echo request in the series is sent with the TTL set to 2. For each additional echo request, the TTL is incremented by one until a response is received from the intended destination. The initiating LSR discovers and exercises ECMP by obtaining Multipath Information from each transit LSR and using a specific destination IP address or specific entropy label.",
      "zh-CHS": "[RFC4379]将LSP跟踪路由描述为发起LSR向同一目的地发送一系列MPLS回显请求的操作。系列中的第一个数据包将TTL设置为1。当从一跳之外的LSR接收回显回复时，发送序列中的第二个回显请求，TTL设置为2。对于每个附加的回显请求，TTL递增1，直到收到来自预期目的地的响应。发起LSR通过从每个传输LSR获取多路径信息并使用特定目的地IP地址或特定熵标签来发现和实施ECMP。"
    },
    {
      "indent": 3,
      "text": "From here on, the notation {x, y, z} refers to Multipath Information Types x, y, or z. Multipath Information Types are defined in Section 3.3 of [RFC4379] .",
      "zh-CHS": "从这里开始，符号{x，y，z}表示多路径信息类型x，y或z。[RFC4379]第3.3节定义了多路径信息类型。"
    },
    {
      "indent": 3,
      "text": "The LSR initiating LSP ping sends an MPLS echo request with the Multipath Information. This Multipath Information is described in the echo request's DDMAP TLV and may contain a set of IP addresses or a set of labels. Multipath Information Types {2, 4, 8} carry a set of IP addresses, and the Multipath Information Type {9} carries a set of labels. The responder LSR (the receiver of the MPLS echo request) will determine the subset of initiator-specified Multipath Information, which load balances to each downstream (outgoing) interface. The responder LSR sends an MPLS echo reply with the resulting Multipath Information per downstream (outgoing interface) back to the initiating LSR. The initiating LSR is then able to use a specific IP destination address or a specific label to exercise a specific ECMP path on the responder LSR.",
      "zh-CHS": "启动LSP ping的LSR发送带有多路径信息的MPLS回送请求。此多路径信息在echo请求的DDMAP TLV中描述，可能包含一组IP地址或一组标签。多路径信息类型{2,4,8}携带一组IP地址，多路径信息类型{9}携带一组标签。响应者LSR（MPLS回送请求的接收器）将确定启动器指定的多路径信息的子集，这些信息将负载平衡到每个下游（传出）接口。响应者LSR向发起LSR发送一个MPLS回音回复，其中包含每个下游（传出接口）产生的多路径信息。然后，发起LSR能够使用特定IP目的地地址或特定标签在响应者LSR上执行特定ECMP路径。"
    },
    {
      "indent": 3,
      "text": "The current behavior is problematic in the following scenarios:",
      "zh-CHS": "在以下情况下，当前行为有问题："
    },
    {
      "indent": 3,
      "text": "o The initiating LSR sends the IP Multipath Information, but the responder LSR load balances on labels.",
      "zh-CHS": "o 发起LSR发送IP多路径信息，但响应LSR在标签上进行负载平衡。"
    },
    {
      "indent": 3,
      "text": "o The initiating LSR sends the Label Multipath Information, but the responder LSR load balances on IP addresses.",
      "zh-CHS": "o 发起LSR发送标签多路径信息，但响应LSR在IP地址上进行负载平衡。"
    },
    {
      "indent": 3,
      "text": "o The initiating LSR sends the existing Multipath Information to an LSR that pushes ELI/EL in the label stack, but the initiating LSR can only continue to discover and exercise specific paths of the ECMP if the LSR that pushes ELI/EL responds with both IP addresses and the associated EL corresponding to each IP address. This is because:",
      "zh-CHS": "o 发起LSR将现有的多路径信息发送给在标签堆栈中推送ELI/EL的LSR，但如果推送ELI/EL的LSR同时响应IP地址和对应于每个IP地址的相关EL，则发起LSR只能继续发现和执行ECMP的特定路径。这是因为："
    },
    {
      "indent": 6,
      "text": "* An ELI/EL-pushing LSR that is a stitching point will load balance based on the IP address.",
      "zh-CHS": "* 作为缝合点的ELI/EL推送LSR将基于IP地址实现负载平衡。"
    },
    {
      "indent": 6,
      "text": "* Downstream LSR(s) of an ELI/EL-pushing LSR may load balance based on ELs.",
      "zh-CHS": "* ELI/EL推进LSR的下游LSR可基于ELs实现负载平衡。"
    },
    {
      "indent": 3,
      "text": "o The initiating LSR sends existing Multipath Information to an ELI/ EL-pushing LSR, but the initiating LSR can only continue to discover and exercise specific paths of ECMP if the ELI/EL-pushing LSR responds with both labels and the associated EL corresponding to the label. This is because:",
      "zh-CHS": "o 发起LSR向ELI/EL推送LSR发送现有多路径信息，但发起LSR只能在ELI/EL推送LSR同时响应标签和与标签对应的相关EL的情况下继续发现和执行ECMP的特定路径。这是因为："
    },
    {
      "indent": 6,
      "text": "* An ELI/EL-pushing LSR that is a stitching point will load balance based on the EL from the previous LSP and push a new EL.",
      "zh-CHS": "* 作为缝合点的ELI/EL推送LSR将基于来自先前LSP的EL进行负载平衡，并推送新EL。"
    },
    {
      "indent": 6,
      "text": "* Downstream LSR(s) of ELI/EL-pushing LSR may load balance based on new ELs.",
      "zh-CHS": "* ELI/EL推进LSR的下游LSR可基于新ELs进行负载平衡。"
    },
    {
      "indent": 3,
      "text": "The above scenarios demonstrate that the existing Multipath Information is insufficient when LSP traceroute is used on an LSP with entropy labels [RFC6790]. This document defines a new Multipath Information Type to be used in the DDMAP of MPLS echo request/reply packets for [RFC6790] LSPs.",
      "zh-CHS": "上述场景表明，当在具有熵标签[RFC6790]的LSP上使用LSP跟踪路由时，现有的多路径信息不足。本文档定义了一种新的多路径信息类型，用于[RFC6790]LSP的MPLS回送请求/回复数据包的DDMAP。"
    },
    {
      "indent": 3,
      "text": "The responder LSR can reply with empty Multipath Information if no IP address set or if no label set is received with the Multipath Information. An empty return is also possible if an initiating LSR sends Multipath Information of one type, IP Address or Label, but the responder LSR load balances on the other type. To disambiguate between the two results, this document introduces new flags in the DDMAP TLV to allow the responder LSR to describe the load-balancing technique being used.",
      "zh-CHS": "如果未设置IP地址或未收到带有多路径信息的标签集，则响应程序LSR可以使用空多路径信息进行回复。如果发起LSR发送一种类型、IP地址或标签的多路径信息，但响应LSR在另一种类型上负载平衡，则也可能返回空。为了消除两个结果之间的歧义，本文在DDMAP TLV中引入了新标志，以允许响应程序LSR描述所使用的负载平衡技术。"
    },
    {
      "indent": 3,
      "text": "To use this enhanced method end-to-end, all LSRs along the LSP need to be able to understand the new flags and the new Multipath Information Type. Mechanisms to verify this condition are outside of the scope of this document. The rest of the requirements are detailed in the initiating LSR and responder LSR procedures. Two additional DS Flags are defined for the DDMAP TLV in Section 6. These two flags are used by the responder LSR to describe its load-balancing behavior on a received MPLS echo request.",
      "zh-CHS": "要端到端地使用此增强方法，LSP中的所有LSR都需要能够理解新标志和新的多路径信息类型。验证此条件的机制不在本文档的范围内。其余要求在启动LSR和响应LSR程序中详细说明。第6节为DDMAP TLV定义了两个附加DS标志。响应程序LSR使用这两个标志来描述其在接收到的MPLS回显请求上的负载平衡行为。"
    },
    {
      "indent": 3,
      "text": "Note that the terms \"IP-Based Load Balancer\" and \"Label-Based Load Balancer\" are in context of how a received MPLS echo request is handled by the responder LSR.",
      "zh-CHS": "注意，术语“基于IP的负载平衡器”和“基于标签的负载平衡器”是在响应者LSR如何处理接收到的MPLS回显请求的上下文中。"
    },
    {
      "indent": 0,
      "text": "1.1. Terminology",
      "section_title": true,
      "zh-CHS": "1.1. 术语"
    },
    {
      "indent": 3,
      "text": "The following abbreviations and terms are used in this document:",
      "zh-CHS": "本文件中使用了以下缩写和术语："
    },
    {
      "indent": 3,
      "text": "o MPLS: Multiprotocol Label Switching.",
      "zh-CHS": "o MPLS：多协议标签交换。"
    },
    {
      "indent": 3,
      "text": "o LSP: Label Switched Path.",
      "zh-CHS": "o 标签交换路径。"
    },
    {
      "indent": 3,
      "text": "o Stitched LSP: Stitched Label Switched Paths combine several LSPs such that a single end-to-end LSP is realized. [RFC6424] describes LSP ping for Stitched LSPs.",
      "zh-CHS": "o 缝合LSP：缝合标签交换路径组合多个LSP，从而实现单个端到端LSP。[RFC6424]描述了缝合LSP的LSP ping。"
    },
    {
      "indent": 3,
      "text": "o LSR: Label Switching Router.",
      "zh-CHS": "o 标签交换路由器。"
    },
    {
      "indent": 3,
      "text": "o FEC: Forwarding Equivalence Class.",
      "zh-CHS": "o FEC：转发等价类。"
    },
    {
      "indent": 3,
      "text": "o ECMP: Equal-Cost Multipath.",
      "zh-CHS": "o ECMP：等成本多路径。"
    },
    {
      "indent": 3,
      "text": "o EL: Entropy Label.",
      "zh-CHS": "o EL：熵标签。"
    },
    {
      "indent": 3,
      "text": "o ELI: Entropy Label Indicator.",
      "zh-CHS": "o 熵标签指示器。"
    },
    {
      "indent": 3,
      "text": "o GAL: Generic Associated Channel Label.",
      "zh-CHS": "o GAL：通用关联通道标签。"
    },
    {
      "indent": 3,
      "text": "o MS-PW: Multi-Segment Pseudowire.",
      "zh-CHS": "o MS-PW：多段伪导线。"
    },
    {
      "indent": 3,
      "text": "o Initiating LSR: An LSR that sends an MPLS echo request.",
      "zh-CHS": "o 启动LSR：发送MPLS回显请求的LSR。"
    },
    {
      "indent": 3,
      "text": "o Responder LSR: An LSR that receives an MPLS echo request and sends an MPLS echo reply.",
      "zh-CHS": "o Responder LSR：接收MPLS回显请求并发送MPLS回显回复的LSR。"
    },
    {
      "indent": 3,
      "text": "o IP-Based Load Balancer: An LSR that load balances on fields from an IP header (and possibly fields from upper layers) and does not consider an entropy label from an MPLS label stack (i.e., flow label [RFC6391] or entropy label [RFC6790]) for load-balancing purposes.",
      "zh-CHS": "o 基于IP的负载均衡器：一种LSR，它从IP报头（可能来自上层）的字段上负载平衡，并且不考虑来自MPLS标签堆栈（即流标签[RCF691]或熵标签[RCFC9090]）的熵标签，用于负载均衡目的。"
    },
    {
      "indent": 3,
      "text": "o Label-Based Load Balancer: An LSR that load balances on an entropy label from an MPLS label stack (i.e., flow label or entropy label) and does not consider fields from an IP header (and possibly fields from upper layers) for load-balancing purposes.",
      "zh-CHS": "o 基于标签的负载均衡器：一种LSR，它在MPLS标签堆栈（即流标签或熵标签）上加载熵标签，并且不考虑IP报头（可能来自上层的字段）用于负载平衡目的的字段。"
    },
    {
      "indent": 3,
      "text": "o Label and IP-Based Load Balancer: An LSR that load balances on both entropy labels from an MPLS label stack and fields from an IP header (and possibly fields from upper layers).",
      "zh-CHS": "o 标签和基于IP的负载均衡器：一种LSR，在MPLS标签堆栈的熵标签和IP头的字段（可能还有上层的字段）上进行负载平衡。"
    },
    {
      "indent": 0,
      "text": "1.1.1. Requirements Language",
      "section_title": true,
      "zh-CHS": "1.1.1. 需求语言"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].",
      "zh-CHS": "本文件中的关键词“必须”、“不得”、“要求”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照RFC 2119[RFC2119]中所述进行解释。"
    },
    {
      "indent": 0,
      "text": "1.2. Background",
      "section_title": true,
      "zh-CHS": "1.2. 出身背景"
    },
    {
      "indent": 3,
      "text": "MPLS implementations employ a wide variety of load-balancing techniques in terms of fields used for hash \"keys\". The mechanisms in [RFC4379] and updated by [RFC6424] are designed to provide multipath support for a subset of techniques. The intent of this document is to provide multipath support for the supported techniques that are compromised by the use of ELs [RFC6790]. Section 9 describes supported and unsupported cases, and it may be useful for the reader to first review this section.",
      "zh-CHS": "MPLS实现在用于散列“密钥”的字段方面采用了多种负载平衡技术。[RFC4379]中并由[RFC6424]更新的机制旨在为技术子集提供多路径支持。本文档旨在为因ELs[RFC6790]的使用而受到损害的受支持技术提供多路径支持。第9节描述了受支持和不受支持的情况，读者可以先阅读本节内容。"
    },
    {
      "indent": 3,
      "text": "The Downstream Detailed Mapping (DDMAP) TLV [RFC6424] provides Multipath Information, which can be used by an LSP ping initiator to trace and validate ECMP paths between an ingress and egress. The Multipath Information encodings defined by [RFC6424] are sufficient when all the LSRs along the path(s), between ingress and egress, consider the same set of \"keys\" as input for load-balancing algorithms, e.g., either all IP based or all label based.",
      "zh-CHS": "下游详细映射（DDMAP）TLV[RFC6424]提供多路径信息，LSP ping启动器可以使用这些信息来跟踪和验证入口和出口之间的ECMP路径。由[RCFC2424]定义的多径信息编码是足够的，当沿着路径的所有LSR，在入口和出口之间，考虑相同的一组“密钥”作为负载均衡算法的输入，例如，基于IP的全部或基于所有标签的算法。"
    },
    {
      "indent": 3,
      "text": "With the introduction of [RFC6790], some LSRs may perform load balancing based on labels while others may be IP based. This results in an LSP ping initiator that is unable to trace and validate all the ECMP paths in the following scenarios:",
      "zh-CHS": "随着[RFC6790]的引入，一些LSR可能会基于标签执行负载平衡，而其他LSR可能会基于IP。这导致LSP ping启动器无法跟踪和验证以下场景中的所有ECMP路径："
    },
    {
      "indent": 3,
      "text": "o One or more transit LSRs along an LSP with ELI/EL in the label stack do not perform ECMP load balancing based on EL (hashes based on \"keys\" including the IP destination address). This scenario is not only possible but quite common due to transit LSRs not implementing [RFC6790] or transit LSRs implementing [RFC6790] but not implementing the suggested transit LSR behavior in Section 4.3 of [RFC6790].",
      "zh-CHS": "o 标签堆栈中带有ELI/EL的LSP上的一个或多个传输LSR不执行基于EL的ECMP负载平衡（基于“密钥”的哈希，包括IP目标地址）。由于运输LSR未实施[RFC6790]或运输LSR实施[RFC6790]但未实施[RFC6790]第4.3节中建议的运输LSR行为，这种情况不仅可能，而且非常常见。"
    },
    {
      "indent": 3,
      "text": "o Two or more LSPs stitched together with at least one of these LSPs pushing ELI/EL into the label stack.",
      "zh-CHS": "o 两个或多个LSP缝合在一起，其中至少一个LSP将ELI/EL推入标签堆栈。"
    },
    {
      "indent": 3,
      "text": "These scenarios can be quite common because deployments of [RFC6790] typically have a mixture of nodes that support ELI/EL and nodes that do not. There will also typically be a mixture of areas that support ELI/EL and areas that do not.",
      "zh-CHS": "这些场景非常常见，因为[RFC6790]的部署通常包含支持ELI/EL的节点和不支持ELI/EL的节点。通常还存在支持ELI/EL的区域和不支持ELI/EL的区域的混合。"
    },
    {
      "indent": 3,
      "text": "As pointed out in [RFC6790], the procedures of [RFC4379] (and consequently of [RFC6424]) with respect to Multipath Information Type {9} are incomplete. However, [RFC6790] does not actually update [RFC4379]. Further, the specific EL location is not clearly defined, particularly in the case of Flow-Aware Pseudowires [RFC6391]. This document defines a new FEC Stack sub-TLV for the entropy label. Section 2 of this document updates the procedures for the Multipath Information Type {9} that are described in [RFC4379] and that are applicable to [RFC6424]. The rest of this document describes extensions required to restore ECMP discovery and tracing capabilities for the scenarios described.",
      "zh-CHS": "正如[RFC6790]中指出的，[RFC4379]（以及[RFC6424]）关于多路径信息类型{9}的过程是不完整的。但是，[RFC6790]实际上并没有更新[RFC4379]。此外，特定EL位置没有明确定义，特别是在流量感知伪线的情况下[RFC6391]。本文档为熵标签定义了一个新的FEC堆栈子TLV。本文件第2节更新了[RFC4379]中描述的适用于[RFC6424]的多路径信息类型{9}的程序。本文档的其余部分描述了为所述场景恢复ECMP发现和跟踪功能所需的扩展。"
    },
    {
      "indent": 3,
      "text": "[RFC4379], [RFC6424], and this document will support IP-based load balancers and label-based load balancers that limit their hash to the first (top-most) or only entropy label in the label stack. Other use cases (refer to Section 9) are out of scope.",
      "zh-CHS": "[RFC4379]、[RFC6424]和本文档将支持基于IP的负载平衡器和基于标签的负载平衡器，它们将哈希限制为标签堆栈中的第一个（最顶部）或唯一熵标签。其他用例（参考第9节）超出范围。"
    },
    {
      "indent": 0,
      "text": "2. Multipath Type {9}",
      "section_title": true,
      "zh-CHS": "2. 多路径类型{9}"
    },
    {
      "indent": 3,
      "text": "[RFC4379] defined Multipath Type {9} for the tracing of LSPs where label-based load balancing is used. However, as pointed out in [RFC6790], the procedures for using this type are incomplete as the specific location of the label was not defined. It was assumed that the presence of Multipath Type {9} implied that the value of the bottom-of-stack label should be varied by the values indicated by the multipath to determine the respective outgoing interfaces.",
      "zh-CHS": "[RFC4379]定义了多路径类型{9}，用于跟踪使用基于标签的负载平衡的LSP。但是，正如[RFC6790]中所指出的，由于未定义标签的具体位置，因此使用该类型的程序不完整。假定多路径类型{9}的存在意味着堆栈底部标签的值应随多路径指示的值而变化，以确定各自的输出接口。"
    },
    {
      "indent": 3,
      "text": "Section 4 defines a new FEC-Stack sub-TLV to indicate an entropy label. These labels MAY appear anywhere in a label stack.",
      "zh-CHS": "第4节定义了新的FEC堆栈子TLV，以指示熵标签。这些标签可能出现在标签堆栈中的任何位置。"
    },
    {
      "indent": 3,
      "text": "Multipath Type {9} applies to the first label in the label stack that corresponds to an EL-FEC. If no such label is found, it applies to the label at the bottom of the label stack.",
      "zh-CHS": "多路径类型{9}适用于标签堆栈中对应于EL-FEC的第一个标签。如果未找到此类标签，则它将应用于标签堆栈底部的标签。"
    },
    {
      "indent": 0,
      "text": "3. Pseudowire Tracing",
      "section_title": true,
      "zh-CHS": "3. 伪线追踪"
    },
    {
      "indent": 3,
      "text": "This section defines procedures for tracing Pseudowires. These procedures pertain to the use of Multipath Information Type {9} as well as Type {10}. In all cases below, when a control word is in use, the N flag in the DDMAP MUST be set. Note that when a control word is not in use, the returned DDMAPs may not be accurate.",
      "zh-CHS": "本节定义了跟踪伪导线的过程。这些过程涉及多路径信息类型{9}和类型{10}的使用。在以下所有情况下，当使用控制字时，必须设置DDMAP中的N标志。请注意，当未使用控制字时，返回的DDMAP可能不准确。"
    },
    {
      "indent": 3,
      "text": "In order to trace a Pseudowire that is not flow aware, the initiator includes an EL-FEC instead of the appropriate PW FEC at the bottom of the FEC Stack. Tracing in this way will cause compliant routers to return the proper outgoing interface. Note that this procedure only traces to the end of the MPLS LSP that is under test and will not verify the PW FEC. To actually verify the PW FEC or in the case of a",
      "zh-CHS": "为了跟踪不感知流的伪线，启动器在FEC堆栈的底部包括EL-FEC而不是适当的PW FEC。以这种方式进行跟踪将导致兼容路由器返回正确的传出接口。请注意，此过程仅跟踪到正在测试的MPLS LSP的末尾，不会验证PW FEC。实际验证PW FEC或在以下情况下："
    },
    {
      "indent": 3,
      "text": "MS-PW, to determine the next Pseudowire label value, the initiator MUST repeat that step of the trace (i.e., repeating the TTL value used) but with the FEC Stack modified to contain the appropriate PW FEC. Note that these procedures are applicable to scenarios where an initiator is able to vary the bottom label (i.e., Pseudowire label). Possible scenarios are tracing multiple Pseudowires that are not flow aware on the same endpoints or tracing a Pseudowire that is not flow-aware provisioned with multiple Pseudowire labels.",
      "zh-CHS": "MS-PW，要确定下一个伪线标签值，启动器必须重复跟踪的该步骤（即，重复使用的TTL值），但修改FEC堆栈以包含适当的PW FEC。注意，这些程序适用于启动器能够改变底部标签（即伪线标签）的情况。可能的情况是跟踪同一端点上不支持流的多个伪线，或者跟踪由多个伪线标签配置的不支持流的伪线。"
    },
    {
      "indent": 3,
      "text": "In order to trace a flow-aware Pseudowire [RFC6391], the initiator includes an EL FEC at the bottom of the FEC Stack and pushes the appropriate PW FEC onto the FEC Stack.",
      "zh-CHS": "为了跟踪流感知伪线[RFC6391]，启动器在FEC堆栈底部包括一个EL FEC，并将适当的PW FEC推送到FEC堆栈上。"
    },
    {
      "indent": 3,
      "text": "In order to trace through routers that are not compliant, the initiator forms an MPLS echo request message and includes a DDMAP with the Multipath Type {9}. For a Pseudowire that is not flow aware, it includes the appropriate PW FEC in the FEC Stack. For a flow- aware Pseudowire, the initiator includes a Nil FEC at the bottom of the FEC Stack and pushes the appropriate PW FEC onto the FEC Stack.",
      "zh-CHS": "为了跟踪不兼容的路由器，启动器形成MPLS回送请求消息，并包括多路径类型为{9}的DDMAP。对于不感知流的伪线，它在FEC堆栈中包括适当的PW FEC。对于流感知伪线，启动器在FEC堆栈底部包括一个Nil FEC，并将适当的PW FEC推送到FEC堆栈上。"
    },
    {
      "indent": 0,
      "text": "4. Entropy Label FEC",
      "section_title": true,
      "zh-CHS": "4. 熵标FEC"
    },
    {
      "indent": 3,
      "text": "The ELI is a reserved label that has no associated explicit FEC, and has the label value 7 assigned from the reserved range. Use the Nil FEC as the Target FEC Stack sub-TLV to account for ELI in a Target FEC Stack TLV.",
      "zh-CHS": "ELI是一个保留标签，没有关联的显式FEC，并且具有从保留范围分配的标签值7。将Nil FEC用作目标FEC堆栈子TLV，以说明目标FEC堆栈TLV中的ELI。"
    },
    {
      "indent": 3,
      "text": "The EL is a special-purpose label with the label value being discretionary (i.e., the label value is not from the reserved range). For LSP verification mechanics to perform its purpose, it is necessary for a Target FEC Stack sub-TLV to clearly describe the EL, particularly in the scenario where the label stack does not carry ELI (e.g., flow-aware Pseudowire [RFC6391]). Therefore, this document defines an EL FEC sub-TLV (33, see Section 11.1) that allows a Target FEC Stack sub-TLV to be added to the Target FEC Stack to account for EL.",
      "zh-CHS": "EL是一种特殊用途标签，标签值可自由选择（即，标签值不在保留范围内）。为了实现LSP验证机制的目的，目标FEC堆栈子TLV必须清楚地描述EL，特别是在标签堆栈不携带ELI的情况下（例如，流感知伪线[RFC6391]）。因此，本文件定义了EL FEC子TLV（33，见第11.1节），允许将目标FEC堆栈子TLV添加到目标FEC堆栈，以说明EL。"
    },
    {
      "indent": 3,
      "text": "The Length is 4. Labels are 20-bit values treated as numbers.",
      "zh-CHS": "长度是4。标签是作为数字处理的20位值。"
    },
    {
      "indent": 3,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                 Label                 |          MBZ          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 24,
      "text": "Figure 1: Entropy Label FEC",
      "zh-CHS": "图1：熵标签FEC"
    },
    {
      "indent": 3,
      "text": "\"Label\" is the actual label value inserted in the label stack; the \"MBZ\" field MUST be zero when sent and ignored on receipt.",
      "zh-CHS": "“标签”是插入标签堆栈中的实际标签值；“MBZ”字段在发送时必须为零，在接收时被忽略。"
    },
    {
      "indent": 0,
      "text": "5. DS Flags: L and E",
      "section_title": true,
      "zh-CHS": "5. DS标志：L和E"
    },
    {
      "indent": 3,
      "text": "Two flags, L and E, are added to the DS Flags field of the DDMAP TLV. Both flags MUST NOT be set in the echo request packets when sending and SHOULD be ignored when received. Zero, one, or both new flags MUST be set in the echo reply packets.",
      "zh-CHS": "两个标志L和E添加到DDMAP TLV的DS标志字段中。发送时不得在回显请求数据包中设置这两个标志，接收时应忽略这两个标志。回送回复数据包中必须设置零、一个或两个新标志。"
    },
    {
      "indent": 4,
      "text": "DS Flags\n--------",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 7,
      "text": " 0 1 2 3 4 5 6 7\n+-+-+-+-+-+-+-+-+\n|  MBZ  |L|E|I|N|\n+-+-+-+-+-+-+-+-+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 4,
      "text": "Flag  Name and Meaning\n----  ----------------\n   L  Label-based load balance indicator\n      This flag MUST be cleared in the echo request.  An LSR\n      that performs load balancing on a label MUST set this\n      flag in the echo reply.  An LSR that performs load\n      balancing on IP MUST NOT set this flag in the echo\n      reply.",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 7,
      "text": "E ELI/EL push indicator This flag MUST be cleared in the echo request. An LSR that pushes ELI/EL MUST set this flag in the echo reply. An LSR that does not push ELI/EL MUST NOT set this flag in the echo reply.",
      "zh-CHS": "E ELI/EL推送指示器此标志必须在回波请求中清除。推送ELI/EL的LSR必须在回显回复中设置此标志。不推送ELI/EL的LSR不得在回显回复中设置此标志。"
    },
    {
      "indent": 3,
      "text": "The two flags result in four load-balancing techniques, which the echo reply generating LSR can indicate:",
      "zh-CHS": "这两个标志产生了四种负载平衡技术，回声应答生成LSR可以指出这四种技术："
    },
    {
      "indent": 3,
      "text": "o {L=0, E=0} LSR load balances based on IP and does not push ELI/EL.",
      "zh-CHS": "o {L=0，E=0}LSR基于IP的负载平衡，不推ELI/EL。"
    },
    {
      "indent": 3,
      "text": "o {L=0, E=1} LSR load balances based on IP and pushes ELI/EL.",
      "zh-CHS": "o {L=0，E=1}LSR基于IP和ELI/EL的负载平衡。"
    },
    {
      "indent": 3,
      "text": "o {L=1, E=0} LSR load balances based on labels and does not push ELI/EL.",
      "zh-CHS": "o {L=1，E=0}LSR基于标签进行负载平衡，不推ELI/EL。"
    },
    {
      "indent": 3,
      "text": "o {L=1, E=1} LSR load balances based on labels and pushes ELI/EL.",
      "zh-CHS": "o {L=1，E=1}LSR基于标签和ELI/EL的负载平衡。"
    },
    {
      "indent": 0,
      "text": "6. New Multipath Information Type {10}",
      "section_title": true,
      "zh-CHS": "6. 新的多路径信息类型{10}"
    },
    {
      "indent": 3,
      "text": "One new Multipath Information Type is added to be used in DDMAP TLV. This new Multipath Type has the value of 10.",
      "zh-CHS": "添加了一种新的多路径信息类型以用于DDMAP TLV。此新的多路径类型的值为10。"
    },
    {
      "indent": 5,
      "text": "Key   Type                  Multipath Information\n---   ----------------      ---------------------\n10    IP and Label set      IP addresses and label prefixes",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Multipath Information Type {10} is comprised of three sections. The first section describes the IP address set. The second section describes the label set. The third section describes another label set, which associates to either the IP address set or the label set specified in the other sections.",
      "zh-CHS": "多路径信息类型{10}由三部分组成。第一部分描述IP地址集。第二部分介绍标签集。第三部分描述另一个标签集，它与IP地址集或其他部分中指定的标签集相关联。"
    },
    {
      "indent": 3,
      "text": "Multipath Information Type {10} has the following format:",
      "zh-CHS": "多路径信息类型{10}具有以下格式："
    },
    {
      "indent": 3,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|IPMultipathType|     IP Multipath Length       | Reserved(MBZ) |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n~                                                               ~\n|                  (IP Multipath Information)                   |\n~                                                               ~\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|LbMultipathType|    Label Multipath Length     | Reserved(MBZ) |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n~                                                               ~\n|                 (Label Multipath Information)                 |\n~                                                               ~\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n| Assoc. Label Multipath Length |         Reserved(MBZ)         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n~                                                               ~\n|            (Associated Label Multipath Information)           |\n~                                                               ~\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 17,
      "text": "Figure 2: Multipath Information Type {10}",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "o IPMultipathType",
      "zh-CHS": "o IPMultipathType"
    },
    {
      "indent": 6,
      "text": "* 0 when \"IP Multipath Information\" is omitted. Otherwise, one of the IP Multipath Information values: {2, 4, 8}.",
      "zh-CHS": "* 省略“IP多路径信息”时为0。否则，IP多路径信息值之一：{2，4，8}。"
    },
    {
      "indent": 3,
      "text": "o IP Multipath Information",
      "zh-CHS": "o IP多路径信息"
    },
    {
      "indent": 6,
      "text": "* This section is omitted when \"IPMultipathType\" is 0. Otherwise, this section reuses the IP Multipath Information from [RFC4379]. Specifically, Multipath Information for values {2, 4, 8} can be used.",
      "zh-CHS": "* 当“IPMultipathType”为0时，将省略此部分。否则，本节将重用[RFC4379]中的IP多路径信息。具体地说，可以使用值{2，4，8}的多路径信息。"
    },
    {
      "indent": 3,
      "text": "o LbMultipathType",
      "zh-CHS": "o 多路径型"
    },
    {
      "indent": 6,
      "text": "* 0 when the \"Label Multipath Information\" is omitted. Otherwise, the Label Multipath Information value {9}.",
      "zh-CHS": "* 忽略“标签多路径信息”时为0。否则，标签多路径信息值{9}。"
    },
    {
      "indent": 3,
      "text": "o Label Multipath Information",
      "zh-CHS": "o 标记多路径信息"
    },
    {
      "indent": 6,
      "text": "* This section is omitted when the \"LbMultipathType\" is 0. Otherwise, this section reuses the Label Multipath Information from [RFC4379]. Specifically, the Multipath Information for value {9} can be used.",
      "zh-CHS": "* 当“LbMultipathType”为0时，省略此部分。否则，本节将重用[RFC4379]中的标签多路径信息。具体而言，可以使用值{9}的多路径信息。"
    },
    {
      "indent": 3,
      "text": "o Associated Label Multipath Information",
      "zh-CHS": "o 关联标签多路径信息"
    },
    {
      "indent": 6,
      "text": "* \"Associated Label Multipath Length\" is a 16-bit field of Multipath Information that indicates the length in octets of the Associated Label Multipath Information.",
      "zh-CHS": "* “关联标签多路径长度”是多路径信息的16位字段，表示关联标签多路径信息的长度（以八位字节为单位）。"
    },
    {
      "indent": 6,
      "text": "* \"Associated Label Multipath Information\" is a list of labels with each label described in 24 bits. This section MUST be omitted in an MPLS echo request message. A midpoint that pushes ELI/EL labels SHOULD include \"Associated Label Multipath Information\" in its MPLS echo reply message, along with either \"IP Multipath Information\" or \"Label Multipath Information\". Each specified associated label described in this section maps to a specific IP address OR label described in the \"IP Multipath Information\" section or the \"Label Multipath Information\" section. For example, if three IP addresses are specified in the \"IP Multipath Information\" section, then there MUST be three labels described in this section. The first label maps to the first IP address specified, the second label maps to the second IP address specified, and the third label maps to the third IP address specified.",
      "zh-CHS": "* “关联标签多路径信息”是标签列表，每个标签以24位描述。MPLS回送请求消息中必须省略此部分。推送ELI/EL标签的中点应在其MPLS回送回复消息中包括“相关标签多路径信息”，以及“IP多路径信息”或“标签多路径信息”。本节中描述的每个指定关联标签映射到“IP多路径信息”部分或“标签多路径信息”部分中描述的特定IP地址或标签。例如，如果在“IP多路径信息”部分中指定了三个IP地址，则本部分中必须有三个标签。第一个标签映射到指定的第一个IP地址，第二个标签映射到指定的第二个IP地址，第三个标签映射到指定的第三个IP地址。"
    },
    {
      "indent": 3,
      "text": "When a section is omitted, the length for that section MUST be set to zero.",
      "zh-CHS": "如果省略某个节，则该节的长度必须设置为零。"
    },
    {
      "indent": 0,
      "text": "7. Initiating LSR Procedures",
      "section_title": true,
      "zh-CHS": "7. 启动LSR程序"
    },
    {
      "indent": 3,
      "text": "The following procedure is described in terms of an EL_LSP boolean maintained by the initiating LSR. This value controls the Multipath Information Type to be used in the transmitted echo request packets. When the initiating LSR is transmitting an echo request packet with DDMAP with a non-zero Multipath Information Type, then the EL_LSP boolean MUST be consulted to determine the Multipath Information Type to use.",
      "zh-CHS": "以下程序根据启动LSR维护的EL_LSP布尔值进行描述。此值控制要在发送的回显请求数据包中使用的多路径信息类型。当发起LSR使用具有非零多路径信息类型的DDMAP发送回波请求数据包时，必须参考EL_LSP布尔值以确定要使用的多路径信息类型。"
    },
    {
      "indent": 3,
      "text": "In addition to the procedures described in [RFC4379], as updated by Section 2 and [RFC6424], the initiating LSR MUST operate with the following procedures:",
      "zh-CHS": "除第2节和第[RFC6424]中更新的[RFC4379]中所述的程序外，启动LSR必须按照以下程序操作："
    },
    {
      "indent": 3,
      "text": "o When the initiating LSR pushes ELI/EL, initialize EL_LSP=True. Else, set EL_LSP=False.",
      "zh-CHS": "o 当启动LSR按下ELI/EL时，初始化EL_LSP=True。否则，将EL_LSP设置为False。"
    },
    {
      "indent": 3,
      "text": "o When the initiating LSR is transmitting a non-zero Multipath Information Type:",
      "zh-CHS": "o 当发起LSR正在传输非零多路径信息类型时："
    },
    {
      "indent": 6,
      "text": "* If (EL_LSP), the initiating LSR MUST use the Multipath Information Type {10} unless the responder LSR cannot handle Type {10}. When the initiating LSR is transmitting the Multipath Information Type {10}, both \"IP Multipath Information\" and \"Label Multipath Information\" MUST be included, and \"Associated Label Multipath Information\" MUST be omitted (NULL).",
      "zh-CHS": "* 如果（elu LSP），则发起LSR必须使用多路径信息类型{10}，除非响应LSR无法处理类型{10}。当发起LSR正在传输多路径信息类型{10}时，必须包括“IP多路径信息”和“标签多路径信息”，并且必须省略“相关标签多路径信息”（NULL）。"
    },
    {
      "indent": 6,
      "text": "* Else, the initiating LSR MAY use the Multipath Information Type {2, 4, 8, 9, 10}. When the initiating LSR is transmitting the Multipath Information Type {10} in this case, \"IP Multipath Information\" MUST be included, and \"Label Multipath Information\" and \"Associated Label Multipath Information\" MUST be omitted (NULL).",
      "zh-CHS": "* 否则，发起LSR可以使用多路径信息类型{2，4，8，9，10}。在这种情况下，当发起LSR发送多路径信息类型{10}时，必须包括“IP多路径信息”，并且必须省略“标签多路径信息”和“相关标签多路径信息”（NULL）。"
    },
    {
      "indent": 3,
      "text": "o When the initiating LSR receives an echo reply with {L=0, E=1} in the DS Flags with valid contents, set EL_LSP=True.",
      "zh-CHS": "o 当发起LSR接收到DS标志中带有有效内容的{L=0，E=1}的回音应答时，将EL_LSP设置为True。"
    },
    {
      "indent": 3,
      "text": "In the following conditions, the initiating LSR may have lost the ability to exercise specific ECMP paths. The initiating LSR MAY continue with \"best effort\" in the following cases:",
      "zh-CHS": "在以下情况下，启动LSR可能已失去行使特定ECMP路径的能力。在以下情况下，启动LSR可继续“尽最大努力”："
    },
    {
      "indent": 3,
      "text": "o Received echo reply contains empty Multipath Information.",
      "zh-CHS": "o 收到的回显回复包含空的多路径信息。"
    },
    {
      "indent": 3,
      "text": "o Received echo reply contains {L=0, E=<any>} DS Flags, but does not contain IP Multipath Information.",
      "zh-CHS": "o 接收到的回显应答包含{L=0，E=<any>}DS标志，但不包含IP多路径信息。"
    },
    {
      "indent": 3,
      "text": "o Received echo reply contains {L=1, E=<any>} DS Flags, but does not contain Label Multipath Information.",
      "zh-CHS": "o 接收到的回显应答包含{L=1，E=<any>}DS标志，但不包含标签多路径信息。"
    },
    {
      "indent": 3,
      "text": "o Received echo reply contains {L=<any>, E=1} DS Flags, but does not contain Associated Label Multipath Information.",
      "zh-CHS": "o 接收到的回显应答包含{L=<any>，E=1}个标志，但不包含相关的标签多路径信息。"
    },
    {
      "indent": 3,
      "text": "o IP Multipath Information Types {2, 4, 8} sent, and received echo reply with {L=1, E=0} in DS Flags.",
      "zh-CHS": "o IP多路径信息类型{2,4,8}发送和接收的回显回复在DS标志中为{L=1，E=0}。"
    },
    {
      "indent": 3,
      "text": "o Multipath Information Type {10} sent, and received echo reply with Multipath Information Type other than {10}.",
      "zh-CHS": "o 多路径信息类型{10}已发送，并接收到具有除{10}以外的多路径信息类型的回显回复。"
    },
    {
      "indent": 0,
      "text": "8. Responder LSR Procedures",
      "section_title": true,
      "zh-CHS": "8. 应答器LSR程序"
    },
    {
      "indent": 3,
      "text": "Common Procedures:",
      "zh-CHS": "共同程序："
    },
    {
      "indent": 3,
      "text": "o The responder LSR receiving an MPLS echo request packet MUST first determine whether or not the initiating LSR supports this LSP ping and traceroute extension for entropy labels. If either of the following conditions are met, the responder LSR SHOULD determine that the initiating LSR supports this LSP ping and traceroute extension for entropy labels.",
      "zh-CHS": "o 接收MPLS回波请求数据包的响应者LSR必须首先确定发起LSR是否支持熵标签的LSP ping和traceroute扩展。如果满足以下任一条件，响应者LSR应确定发起LSR支持熵标签的LSP ping和跟踪路由扩展。"
    },
    {
      "indent": 6,
      "text": "1. Received MPLS echo request contains the Multipath Information Type {10}.",
      "zh-CHS": "1. 收到的MPLS回显请求包含多路径信息类型{10}。"
    },
    {
      "indent": 6,
      "text": "2. Received MPLS echo request contains a Target FEC Stack TLV that includes the entropy label FEC.",
      "zh-CHS": "2. 接收到的MPLS回波请求包含一个目标FEC堆栈TLV，该目标FEC堆栈TLV包含熵标签FEC。"
    },
    {
      "indent": 6,
      "text": "If the initiating LSR is determined not to support this LSP ping and traceroute extension for entropy labels, then the responder LSR MUST NOT follow further procedures described in this section. Specifically, MPLS echo reply packets:",
      "zh-CHS": "如果确定发起LSR不支持熵标签的LSP ping和跟踪路由扩展，则响应者LSR不得遵循本节中描述的进一步程序。具体而言，MPLS回显应答包："
    },
    {
      "indent": 6,
      "text": "* MUST have the following DS Flags cleared (i.e., not set): \"ELI/ EL push indicator\" and \"Label-based load balance indicator\".",
      "zh-CHS": "* 必须清除以下DS标志（即未设置）：“ELI/EL推送指示器”和“基于标签的负载平衡指示器”。"
    },
    {
      "indent": 6,
      "text": "* MUST NOT use the Multipath Information Type {10}.",
      "zh-CHS": "* 不能使用多路径信息类型{10}。"
    },
    {
      "indent": 3,
      "text": "o The responder LSR receiving an MPLS echo request packet with the Multipath Information Type {10} MUST validate the following contents. Any deviation MUST result in the responder LSR considering the packet to be malformed and returning code 1 (\"Malformed echo request received\") in the MPLS echo reply packet.",
      "zh-CHS": "o 接收多路径信息类型为{10}的MPLS回送请求数据包的响应程序LSR必须验证以下内容。任何偏差都必须导致响应程序LSR认为数据包格式不正确，并在MPLS回送回复数据包中返回代码1（“收到格式不正确的回送请求”）。"
    },
    {
      "indent": 6,
      "text": "* IP Multipath Information MUST be included.",
      "zh-CHS": "* 必须包含IP多路径信息。"
    },
    {
      "indent": 6,
      "text": "* Label Multipath Information MAY be included.",
      "zh-CHS": "* 可以包括标签多路径信息。"
    },
    {
      "indent": 6,
      "text": "* Associated Label Multipath Information MUST be omitted (NULL).",
      "zh-CHS": "* 必须省略关联的标签多路径信息（NULL）。"
    },
    {
      "indent": 3,
      "text": "The following subsections describe expected responder LSR procedures when the echo reply is to include DDMAP TLVs, based on the local load balance technique being employed. In case the responder LSR performs deviating load balance techniques on a per-downstream basis, appropriate procedures matched to each downstream load balance technique MUST be followed.",
      "zh-CHS": "以下小节描述了基于所采用的本地负载平衡技术，当回声应答包括DDMAP TLV时的预期应答器LSR过程。如果响应方LSR在每个下游基础上执行偏离负载平衡技术，则必须遵循与每个下游负载平衡技术相匹配的适当程序。"
    },
    {
      "indent": 0,
      "text": "8.1. IP-Based Load Balancer That Does Not Push ELI/EL",
      "section_title": true,
      "zh-CHS": "8.1. 基于IP的负载平衡器，不推ELI/EL"
    },
    {
      "indent": 3,
      "text": "o The responder MUST set {L=0, E=0} in DS Flags.",
      "zh-CHS": "o 响应程序必须在DS标志中设置{L=0，E=0}。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {2, 4, 8} is received, the responder MUST comply with [RFC4379] and [RFC6424].",
      "zh-CHS": "o 如果接收到多路径信息类型{2,4,8}，则响应者必须遵守[RFC4379]和[RFC6424]。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {9} is received, the responder MUST reply with Multipath Type {0}.",
      "zh-CHS": "o 如果收到多路径信息类型{9}，则响应程序必须使用多路径类型{0}进行回复。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {10} is received, the following procedures are to be used:",
      "zh-CHS": "o 如果接收到多路径信息类型{10}，将使用以下步骤："
    },
    {
      "indent": 6,
      "text": "* The responder MUST reply with the Multipath Information Type {10}.",
      "zh-CHS": "* 响应程序必须使用多路径信息类型{10}进行回复。"
    },
    {
      "indent": 6,
      "text": "* The \"Label Multipath Information\" and \"Associated Label Multipath Information\" sections MUST be omitted (NULL).",
      "zh-CHS": "* 必须省略“标签多路径信息”和“相关标签多路径信息”部分（空）。"
    },
    {
      "indent": 6,
      "text": "* If no matching IP address is found, then the \"IPMultipathType\" field MUST be set to the Multipath Information Type {0} and the \"IP Multipath Information\" section MUST also be omitted (NULL).",
      "zh-CHS": "* 如果未找到匹配的IP地址，则必须将“IPMultipathType”字段设置为多路径信息类型{0}，“IP多路径信息”部分也必须省略（NULL）。"
    },
    {
      "indent": 6,
      "text": "* If at least one matching IP address is found, then the \"IPMultipathType\" field MUST be set to the appropriate Multipath Information Type {2, 4, 8} and the \"IP Multipath Information\" section MUST be included.",
      "zh-CHS": "* 如果至少找到一个匹配的IP地址，则必须将“IPMultipathType”字段设置为适当的多路径信息类型{2,4,8}，并且必须包括“IP多路径信息”部分。"
    },
    {
      "indent": 0,
      "text": "8.2. IP-Based Load Balancer That Pushes ELI/EL",
      "section_title": true,
      "zh-CHS": "8.2. 基于IP的负载平衡器，推动ELI/EL"
    },
    {
      "indent": 3,
      "text": "o The responder MUST set {L=0, E=1} in DS Flags.",
      "zh-CHS": "o 响应程序必须在DS标志中设置{L=0，E=1}。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {9} is received, the responder MUST reply with Multipath Type {0}.",
      "zh-CHS": "o 如果收到多路径信息类型{9}，则响应程序必须使用多路径类型{0}进行回复。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Type {2, 4, 8, 10} is received, the following procedures are to be used:",
      "zh-CHS": "o 如果接收到多路径类型{2，4，8，10}，将使用以下过程："
    },
    {
      "indent": 6,
      "text": "* The responder MUST respond with Multipath Type {10}. See Section 6 for details of Multipath Type {10}.",
      "zh-CHS": "* 响应程序必须使用多路径类型{10}进行响应。有关多路径类型{10}的详细信息，请参见第6节。"
    },
    {
      "indent": 6,
      "text": "* The \"Label Multipath Information\" section MUST be omitted (i.e., it is not there).",
      "zh-CHS": "* “标签多路径信息”部分必须省略（即不存在）。"
    },
    {
      "indent": 6,
      "text": "* The IP address set specified in the received IP Multipath Information MUST be used to determine the returned IP/Label pairs.",
      "zh-CHS": "* 必须使用接收到的IP多路径信息中指定的IP地址集来确定返回的IP/标签对。"
    },
    {
      "indent": 6,
      "text": "* If the received Multipath Information Type was {10}, the received \"Label Multipath Information\" sections MUST NOT be used to determine the associated label portion of the returned IP/Label pairs.",
      "zh-CHS": "* 如果收到的多路径信息类型为{10}，则收到的“标签多路径信息”部分不得用于确定返回的IP/标签对的相关标签部分。"
    },
    {
      "indent": 6,
      "text": "* If no matching IP address is found, then the \"IPMultipathType\" field MUST be set to the Multipath Information Type {0} and the \"IP Multipath Information\" section MUST be omitted. In addition, the \"Associated Label Multipath Length\" MUST be set to 0, and the \"Associated Label Multipath Information\" section MUST also be omitted.",
      "zh-CHS": "* 如果找不到匹配的IP地址，则必须将“IPMultipathType”字段设置为多路径信息类型{0}，并且必须省略“IP多路径信息”部分。此外，“关联标签多路径长度”必须设置为0，“关联标签多路径信息”部分也必须省略。"
    },
    {
      "indent": 6,
      "text": "* If at least one matching IP address is found, then the \"IPMultipathType\" field MUST be set to the appropriate Multipath Information Type {2, 4, 8} and the \"IP Multipath Information\" section MUST be included. In addition, the \"Associated Label Multipath Information\" section MUST be populated with a list of labels corresponding to each IP address specified in the \"IP Multipath Information\" section. \"Associated Label Multipath Length\" MUST be set to a value representing the length in octets of the \"Associated Label Multipath Information\" field.",
      "zh-CHS": "* 如果至少找到一个匹配的IP地址，则必须将“IPMultipathType”字段设置为适当的多路径信息类型{2,4,8}，并且必须包括“IP多路径信息”部分。此外，“关联标签多路径信息”部分必须填充与“IP多路径信息”部分中指定的每个IP地址对应的标签列表。“关联标签多路径长度”必须设置为表示“关联标签多路径信息”字段长度（以八位字节为单位）的值。"
    },
    {
      "indent": 0,
      "text": "8.3. Label-Based Load Balancer That Does Not Push ELI/EL",
      "section_title": true,
      "zh-CHS": "8.3. 不推ELI/EL的基于标签的负载平衡器"
    },
    {
      "indent": 3,
      "text": "o The responder MUST set {L=1, E=0} in DS Flags.",
      "zh-CHS": "o 响应程序必须在DS标志中设置{L=1，E=0}。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {2, 4, 8} is received, the responder MUST reply with Multipath Type {0}.",
      "zh-CHS": "o 如果收到多路径信息类型{2,4,8}，则响应程序必须使用多路径类型{0}进行回复。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {9} is received, the responder MUST comply with [RFC4379] and [RFC6424] as updated by Section 2.",
      "zh-CHS": "o 如果收到多路径信息类型{9}，响应者必须遵守第2节更新的[RFC4379]和[RFC6424]。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {10} is received, the following procedures are to be used:",
      "zh-CHS": "o 如果接收到多路径信息类型{10}，将使用以下步骤："
    },
    {
      "indent": 6,
      "text": "* The responder MUST reply with the Multipath Information Type {10}.",
      "zh-CHS": "* 响应程序必须使用多路径信息类型{10}进行回复。"
    },
    {
      "indent": 6,
      "text": "* The \"IP Multipath Information\" and \"Associated Label Multipath Information\" sections MUST be omitted (NULL).",
      "zh-CHS": "* 必须省略“IP多路径信息”和“相关标签多路径信息”部分（空）。"
    },
    {
      "indent": 6,
      "text": "* If no matching label is found, then the \"LbMultipathType\" field MUST be set to the Multipath Information Type {0} and the \"Label Multipath Information\" section MUST also be omitted (NULL).",
      "zh-CHS": "* 如果找不到匹配的标签，则必须将“LbMultipathType”字段设置为多路径信息类型{0}，“label Multipath Information”部分也必须省略（NULL）。"
    },
    {
      "indent": 6,
      "text": "* If at least one matching label is found, then the \"LbMultipathType\" field MUST be set to the appropriate Multipath Information Type {9} and the \"Label Multipath Information\" section MUST be included.",
      "zh-CHS": "* 如果至少找到一个匹配标签，则必须将“LbMultipathType”字段设置为适当的多路径信息类型{9}，并且必须包括“标签多路径信息”部分。"
    },
    {
      "indent": 0,
      "text": "8.4. Label-Based Load Balancer That Pushes ELI/EL",
      "section_title": true,
      "zh-CHS": "8.4. 基于标签的负载平衡器，推动ELI/EL"
    },
    {
      "indent": 3,
      "text": "o The responder MUST set {L=1, E=1} in DS Flags.",
      "zh-CHS": "o 响应程序必须在DS标志中设置{L=1，E=1}。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Information Type {2, 4, 8} is received, the responder MUST reply with Multipath Type {0}.",
      "zh-CHS": "o 如果收到多路径信息类型{2,4,8}，则响应程序必须使用多路径类型{0}进行回复。"
    },
    {
      "indent": 3,
      "text": "o If the Multipath Type {9, 10} is received, the following procedures are to be used:",
      "zh-CHS": "o 如果接收到多路径类型{9，10}，将使用以下过程："
    },
    {
      "indent": 6,
      "text": "* The responder MUST respond with the Multipath Type {10}.",
      "zh-CHS": "* 响应程序必须使用多路径类型{10}进行响应。"
    },
    {
      "indent": 6,
      "text": "* The \"IP Multipath Information\" section MUST be omitted.",
      "zh-CHS": "* 必须省略“IP多路径信息”部分。"
    },
    {
      "indent": 6,
      "text": "* The label set specified in the received Label Multipath Information MUST be used to determine the returned Label/Label pairs.",
      "zh-CHS": "* 必须使用接收到的标签多路径信息中指定的标签集来确定返回的标签/标签对。"
    },
    {
      "indent": 6,
      "text": "* If the received Multipath Information Type was {10} received, the \"Label Multipath Information\" sections MUST NOT be used to determine the associated label portion of the returned Label/ Label pairs.",
      "zh-CHS": "* 如果接收到的多路径信息类型为{10}接收，则“标签多路径信息”部分不得用于确定返回的标签/标签对的关联标签部分。"
    },
    {
      "indent": 6,
      "text": "* If no matching label is found, then the \"LbMultipathType\" field MUST be set to the Multipath Information Type {0} and the \"Label Multipath Information\" section MUST be omitted. In addition, the \"Associated Label Multipath Length\" MUST be set to 0, and the \"Associated Label Multipath Information\" section MUST also be omitted.",
      "zh-CHS": "* 如果未找到匹配的标签，则必须将“LbMultipathType”字段设置为多路径信息类型{0}，并且必须省略“标签多路径信息”部分。此外，“关联标签多路径长度”必须设置为0，“关联标签多路径信息”部分也必须省略。"
    },
    {
      "indent": 6,
      "text": "* If at least one matching label is found, then the \"LbMultipathType\" field MUST be set to the appropriate Multipath Information Type {9} and the \"Label Multipath Information\" section MUST be included. In addition, the \"Associated Label Multipath Information\" section MUST be populated with a list of labels corresponding to each label specified in the \"Label Multipath Information\" section. The \"Associated Label Multipath Length\" MUST be set to a value representing the length in octets of the \"Associated Label Multipath Information\" field.",
      "zh-CHS": "* 如果至少找到一个匹配标签，则必须将“LbMultipathType”字段设置为适当的多路径信息类型{9}，并且必须包括“标签多路径信息”部分。此外，“关联标签多路径信息”部分必须填充与“标签多路径信息”部分中指定的每个标签对应的标签列表。“关联标签多路径长度”必须设置为表示“关联标签多路径信息”字段长度（以八位字节为单位）的值。"
    },
    {
      "indent": 0,
      "text": "8.5. Flow-Aware MS-PW Stitching LSR",
      "section_title": true,
      "zh-CHS": "8.5. 流动感知MS-PW缝合LSR"
    },
    {
      "indent": 3,
      "text": "A stitching LSR that cross-connects flow-aware Pseudowires behaves in one of two ways:",
      "zh-CHS": "交叉连接流感知伪导线的缝合LSR的行为方式有两种："
    },
    {
      "indent": 3,
      "text": "o Load balances on the previous flow label and carries over the same flow label. For this case, the stitching LSR is to behave as described in Section 8.3.",
      "zh-CHS": "o 负载平衡在上一个流量标签上，并延续相同的流量标签。在这种情况下，缝合LSR的行为如第8.3节所述。"
    },
    {
      "indent": 3,
      "text": "o Load balances on the previous flow label and replaces the flow label with a newly computed label. For this case, the stitching LSR is to behave as described in Section 8.4.",
      "zh-CHS": "o 在上一个流标签上进行负载平衡，并用新计算的标签替换流标签。在这种情况下，缝合LSR的行为如第8.4节所述。"
    },
    {
      "indent": 0,
      "text": "9. Supported and Unsupported Cases",
      "section_title": true,
      "zh-CHS": "9. 支持和不支持的案例"
    },
    {
      "indent": 3,
      "text": "The MPLS architecture does not define strict rules on how implementations are to identify hash \"keys\" for load-balancing purposes. As a result, implementations may be of the following load balancer types:",
      "zh-CHS": "MPLS体系结构没有定义关于实现如何识别哈希“键”以实现负载平衡的严格规则。因此，实现可能是以下负载平衡器类型："
    },
    {
      "indent": 3,
      "text": "1. IP-based load balancer. 2. Label-based load balancer. 3. Label- and IP-based load balancer.",
      "zh-CHS": "1. 基于IP的负载均衡器。2.基于标签的负载平衡器。3.基于标签和IP的负载平衡器。"
    },
    {
      "indent": 3,
      "text": "For cases (2) and (3), an implementation can include different sets of labels from the label stack for load-balancing purpose. Thus, the following sub-cases are possible:",
      "zh-CHS": "对于情况（2）和（3），实现可以包括来自标签堆栈的不同标签集，以实现负载平衡。因此，以下子情况是可能的："
    },
    {
      "indent": 3,
      "text": "a. Entire label stack. b. Top N labels from label stack where the number of labels in label stack is > N. c. Bottom N labels from label stack where the number of labels in label stack is > N.",
      "zh-CHS": "a. 整个标签堆栈。B标签堆栈中的前N个标签，其中标签堆栈中的标签数量>N.c。标签堆栈中的底部N个标签，其中标签堆栈中的标签数>N。"
    },
    {
      "indent": 3,
      "text": "In a scenario where there is one flow label or entropy label present in the label stack, the following further cases are possible for (2b), (2c), (3b), and (3c):",
      "zh-CHS": "在标签堆栈中存在一个流标签或熵标签的情况下，对于（2b）、（2c）、（3b）和（3c）可能出现以下进一步的情况："
    },
    {
      "indent": 3,
      "text": "1. N labels from label stack include flow label or entropy label. 2. N labels from label stack do not include flow label or entropy label.",
      "zh-CHS": "1. N标签堆栈中的标签包括流标签或熵标签。2.N标签堆栈中的标签不包括流标签或熵标签。"
    },
    {
      "indent": 3,
      "text": "Also, in a scenario where there are multiple entropy labels present in the label stack, it is possible for implementations to employ deviating techniques:",
      "zh-CHS": "此外，在标签堆栈中存在多个熵标签的场景中，实现可以采用偏差技术："
    },
    {
      "indent": 3,
      "text": "o Search for entropy stops at the first entropy label.",
      "zh-CHS": "o 熵搜索在第一个熵标签处停止。"
    },
    {
      "indent": 3,
      "text": "o Search for entropy includes any entropy label found plus continues to search for entropy in the label stack.",
      "zh-CHS": "o 搜索熵包括找到的任何熵标签，并继续在标签堆栈中搜索熵。"
    },
    {
      "indent": 3,
      "text": "Furthermore, handling of reserved (i.e., special) labels varies among implementations:",
      "zh-CHS": "此外，保留（即特殊）标签的处理因实现而异："
    },
    {
      "indent": 3,
      "text": "o Reserved labels are used in the hash as any other label would be (not a recommended practice).",
      "zh-CHS": "o 与任何其他标签一样，保留标签在哈希中使用（不推荐使用）。"
    },
    {
      "indent": 3,
      "text": "o Reserved labels are skipped over and, for implementations limited to N labels, the reserved labels do not count towards the limit of N.",
      "zh-CHS": "o 跳过保留标签，对于限制为N个标签的实现，保留标签不计入N个标签的限制。"
    },
    {
      "indent": 3,
      "text": "o Reserved labels are skipped over and, for implementations limited to N labels, the reserved labels count towards the limit of N.",
      "zh-CHS": "o 保留标签被跳过，对于限制为N个标签的实现，保留标签的计数接近N个标签的限制。"
    },
    {
      "indent": 3,
      "text": "It is important to point this out since the presence of GAL will affect those implementations that include reserved labels for load-balancing purposes.",
      "zh-CHS": "必须指出这一点，因为GAL的存在将影响那些包含用于负载平衡目的的保留标签的实现。"
    },
    {
      "indent": 3,
      "text": "As can be seen from the above, there are many types of potential load-balancing implementations. Attempting to get any Operations, Administration, and Maintenance (OAM) tools to support ECMP discovery and traversal over all types would require fairly complex procedures. Complexities in OAM tools have minimal benefit if the majority of implementations are expected to employ only a small subset of the cases described above.",
      "zh-CHS": "从上面可以看出，有许多类型的潜在负载平衡实现。试图获得任何操作、管理和维护（OAM）工具来支持所有类型的ECMP发现和遍历将需要相当复杂的过程。如果大多数实现预期只使用上述案例中的一小部分，那么OAM工具中的复杂性带来的好处微乎其微。"
    },
    {
      "indent": 3,
      "text": "o Section 4.3 of [RFC6790] states that in implementations, for load-balancing purposes, parsing beyond the label stack after finding an entropy label has \"limited incremental value\". Therefore, it is expected that most implementations will be of types \"IP-based load balancer\" or \"Label-based load balancer\".",
      "zh-CHS": "o [RFC6790]的第4.3节指出，在实现中，出于负载平衡的目的，在找到熵标签后，标签堆栈之外的解析具有“有限的增量值”。因此，预计大多数实现将是“基于IP的负载平衡器”或“基于标签的负载平衡器”类型。"
    },
    {
      "indent": 3,
      "text": "o Section 2.4.5.1 of [RFC7325] recommends that searching for entropy labels in the label stack should terminate upon finding the first entropy label. Therefore, it is expected that implementations will only include the first (top-most) entropy label when there are multiple entropy labels in the label stack.",
      "zh-CHS": "o [RFC7325]第2.4.5.1节建议，在找到第一个熵标签后，应终止在标签堆栈中搜索熵标签。因此，当标签堆栈中有多个熵标签时，预期实现将仅包括第一个（最上面的）熵标签。"
    },
    {
      "indent": 3,
      "text": "o It is expected that, in most cases, the number of labels in the label stack will not exceed the number of labels (N) that implementations can include for load-balancing purposes.",
      "zh-CHS": "o 预计在大多数情况下，标签堆栈中的标签数量不会超过实现中可用于负载平衡目的的标签数量（N）。"
    },
    {
      "indent": 3,
      "text": "o It is expected that labels in the label stack, besides the flow label and entropy label, are constant for the lifetime of a single LSP multipath traceroute operation. Therefore, deviating load-balancing implementations with respect to reserved labels should not affect this tool.",
      "zh-CHS": "o 除了流标签和熵标签外，标签堆栈中的标签在单个LSP多路径跟踪路由操作的生存期内是恒定的。因此，与保留标签相关的负载平衡实现的偏差不应影响此工具。"
    },
    {
      "indent": 3,
      "text": "Thus, [RFC4379], [RFC6424], and this document support cases (1) and (2a1), where only the first (top-most) entropy label is included when there are multiple entropy labels in the label stack.",
      "zh-CHS": "因此，[RFC4379]、[RFC6424]和本文档支持案例（1）和（2a1），其中当标签堆栈中存在多个熵标签时，仅包括第一个（最顶部）熵标签。"
    },
    {
      "indent": 0,
      "text": "10. Security Considerations",
      "section_title": true,
      "zh-CHS": "10. 安全考虑"
    },
    {
      "indent": 3,
      "text": "While [RFC4379] and [RFC6424] already allow for the discovery and exercise of ECMP paths, this document extends the LSP ping and traceroute mechanisms to more precisely discover and exercise ECMP paths when an LSP uses ELI/EL in the label stack. Sourcing or inspecting LSP ping packets can be used for network reconnaissance.",
      "zh-CHS": "虽然[RFC4379]和[RFC6424]已经允许发现和使用ECMP路径，但本文档扩展了LSP ping和traceroute机制，以便在LSP在标签堆栈中使用ELI/EL时更精确地发现和使用ECMP路径。寻找或检查LSP ping数据包可用于网络侦察。"
    },
    {
      "indent": 3,
      "text": "The extended capability defined in this document requires minor additional processing for the responder and initiator nodes. The responder node that pushes ELI/EL will need to compute and return multipath data including associated EL. The initiator node will need to store and handle both IP Multipath and Label Multipath Information, and include destination IP addresses and/or ELs in MPLS echo request packets as well as in the Multipath Information sent to downstream nodes. The security considerations of [RFC4379] already cover Denial-of-Service attacks by regulating LSP ping traffic going to the control plane.",
      "zh-CHS": "本文档中定义的扩展功能需要对响应者和启动器节点进行少量额外处理。推送ELI/EL的响应节点将需要计算并返回多路径数据，包括相关EL。发起方节点将需要存储和处理IP多路径和标签多路径信息，并在MPLS回送请求包以及发送到下游节点的多路径信息中包括目标IP地址和/或EL。[RFC4379]的安全注意事项已经包括通过调节到控制平面的LSP ping通信量来进行拒绝服务攻击。"
    },
    {
      "indent": 3,
      "text": "Finally, the security measures described in [RFC4379], [RFC6424], and [RFC6790] are applicable. [RFC6424] provides guidelines if a network operator wants to prevent tracing or does not want to expose details of the tunnel and [RFC6790] provides guidance on the use of the EL.",
      "zh-CHS": "最后，[RFC4379]、[RFC6424]和[RFC6790]中描述的安全措施是适用的。[RFC6424]提供了网络运营商想要阻止跟踪或不想公开隧道细节的指南，[RFC6790]提供了EL使用指南。"
    },
    {
      "indent": 0,
      "text": "11. IANA Considerations",
      "section_title": true,
      "zh-CHS": "11. IANA考虑"
    },
    {
      "indent": 0,
      "text": "11.1. Entropy Label FEC",
      "section_title": true,
      "zh-CHS": "11.1. 熵标FEC"
    },
    {
      "indent": 3,
      "text": "IANA has assigned a new sub-TLV from the \"Sub-TLVs for TLV Types 1, 16, and 21\" section from the \"Multi-Protocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters\" registry under \"TLVs\" ([IANA-MPLS-LSP-PING]).",
      "zh-CHS": "IANA已从“TLV”（[IANA-MPLS-LSP-Ping]）下的“多协议标签交换（MPLS）标签交换路径（LSP）Ping参数”注册表中的“TLV类型1、16和21的子TLV”部分分配了一个新的子TLV。"
    },
    {
      "indent": 4,
      "text": "Sub-Type Sub-TLV Name          Reference\n-------- ------------          ---------\n   33     Entropy label FEC     this document",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "11.2. DS Flags",
      "section_title": true,
      "zh-CHS": "11.2. DS标志"
    },
    {
      "indent": 3,
      "text": "IANA has assigned new bit numbers from the \"DS Flags\" subregistry from the \"TLVs\" section of the \"Multi-Protocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters\" registry ([IANA-MPLS-LSP-PING]).",
      "zh-CHS": "IANA已从“多协议标签交换（MPLS）标签交换路径（LSP）Ping参数”注册表（[IANA-MPLS-LSP-Ping]）的“TLVs”部分的“DS标志”子区分配了新的位号。"
    },
    {
      "indent": 3,
      "text": "Note: The \"DS Flags\" subregistry was created by [RFC7537].",
      "zh-CHS": "注：“DS标志”子区域由[RFC7537]创建。"
    },
    {
      "indent": 3,
      "text": "Bit number Name                                        Reference\n---------- ----------------------------------------    ---------\n    5       E: ELI/EL push indicator                    this document\n    4       L: Label-based load balance indicator       this document",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "11.3. Multipath Type",
      "section_title": true,
      "zh-CHS": "11.3. 多路径类型"
    },
    {
      "indent": 3,
      "text": "IANA has assigned a new value from the \"Multipath Type\" subregistry from the \"TLVs\" section of the \"Multi-Protocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters\" registry ([IANA-MPLS-LSP-PING]).",
      "zh-CHS": "IANA已从“多协议标签交换（MPLS）标签交换路径（LSP）Ping参数”注册表（[IANA-MPLS-LSP-Ping]）的“TLVs”部分的“多路径类型”子域中分配了一个新值。"
    },
    {
      "indent": 3,
      "text": "Note: The \"Multipath Type\" subregistry was created by [RFC7537].",
      "zh-CHS": "注：“多路径类型”子区域由[RFC7537]创建。"
    },
    {
      "indent": 4,
      "text": "Value      Meaning                                  Reference\n---------- ---------------------------------------- ---------\n  10       IP and label set                         this document",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "12. References",
      "section_title": true,
      "zh-CHS": "12. 工具书类"
    },
    {
      "indent": 0,
      "text": "12.1. Normative References",
      "section_title": true,
      "zh-CHS": "12.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <http://www.rfc-editor.org/info/rfc2119>.",
      "zh-CHS": "[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，DOI 10.17487/RFC2119，1997年3月<http://www.rfc-editor.org/info/rfc2119>."
    },
    {
      "indent": 3,
      "text": "[RFC4379] Kompella, K. and G. Swallow, \"Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures\", RFC 4379, DOI 10.17487/RFC4379, February 2006, <http://www.rfc-editor.org/info/rfc4379>.",
      "zh-CHS": "[RFC4379]Kompella，K.和G.Swallow，“检测多协议标签交换（MPLS）数据平面故障”，RFC 4379，DOI 10.17487/RFC4379，2006年2月<http://www.rfc-editor.org/info/rfc4379>."
    },
    {
      "indent": 3,
      "text": "[RFC6424] Bahadur, N., Kompella, K., and G. Swallow, \"Mechanism for Performing Label Switched Path Ping (LSP Ping) over MPLS Tunnels\", RFC 6424, DOI 10.17487/RFC6424, November 2011, <http://www.rfc-editor.org/info/rfc6424>.",
      "zh-CHS": "[RFC6424]Bahadur，N.，Kompella，K.，和G.Swallow，“在MPLS隧道上执行标签交换路径Ping（LSP Ping）的机制”，RFC 6424DOI 10.17487/RFC64242011<http://www.rfc-editor.org/info/rfc6424>."
    },
    {
      "indent": 3,
      "text": "[RFC6790] Kompella, K., Drake, J., Amante, S., Henderickx, W., and L. Yong, \"The Use of Entropy Labels in MPLS Forwarding\", RFC 6790, DOI 10.17487/RFC6790, November 2012, <http://www.rfc-editor.org/info/rfc6790>.",
      "zh-CHS": "[RFC6790]Kompella，K.，Drake，J.，Amante，S.，Henderickx，W.，和L.Yong，“MPLS转发中熵标签的使用”，RFC 6790，DOI 10.17487/RFC6790，2012年11月<http://www.rfc-editor.org/info/rfc6790>."
    },
    {
      "indent": 3,
      "text": "[RFC7537] Decraene, B., Akiya, N., Pignataro, C., Andersson, L., and S. Aldrin, \"IANA Registries for LSP Ping Code Points\", RFC 7537, DOI 10.17487/RFC7537, May 2015, <http://www.rfc-editor.org/info/rfc7537>.",
      "zh-CHS": "[RFC7537]Decraene，B.，Akiya，N.，Pignataro，C.，Andersson，L.，和S.Aldrin，“LSP Ping代码点的IANA注册”，RFC 7537，DOI 10.17487/RFC7537，2015年5月<http://www.rfc-editor.org/info/rfc7537>."
    },
    {
      "indent": 0,
      "text": "12.2. Informative References",
      "section_title": true,
      "zh-CHS": "12.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[IANA-MPLS-LSP-PING] IANA, \"Multi-Protocol Label Switching (MPLS) Label Switched Paths (LSPs) Ping Parameters\", <http://www.iana.org/assignments/mpls-lsp-ping-parameters>.",
      "zh-CHS": "[IANA-MPLS-LSP-PING]IANA，“多协议标签交换（MPLS）标签交换路径（LSP）PING参数”<http://www.iana.org/assignments/mpls-lsp-ping-parameters>."
    },
    {
      "indent": 3,
      "text": "[RFC6391] Bryant, S., Ed., Filsfils, C., Drafz, U., Kompella, V., Regan, J., and S. Amante, \"Flow-Aware Transport of Pseudowires over an MPLS Packet Switched Network\", RFC 6391, DOI 10.17487/RFC6391, November 2011, <http://www.rfc-editor.org/info/rfc6391>.",
      "zh-CHS": "[RFC6391]Bryant，S.，Ed.，Filsfils，C.，Drafz，U.，Kompella，V.，Regan，J.，和S.Amante，“MPLS分组交换网络上伪线的流感知传输”，RFC 6391，DOI 10.17487/RFC63911911<http://www.rfc-editor.org/info/rfc6391>."
    },
    {
      "indent": 3,
      "text": "[RFC7325] Villamizar, C., Ed., Kompella, K., Amante, S., Malis, A., and C. Pignataro, \"MPLS Forwarding Compliance and Performance Requirements\", RFC 7325, DOI 10.17487/RFC7325, August 2014, <http://www.rfc-editor.org/info/rfc7325>.",
      "zh-CHS": "[RFC7325]Villamizar，C.，Ed.，Kompella，K.，Amante，S.，Malis，A.，和C.Pignataro，“MPLS转发合规性和性能要求”，RFC 7325，DOI 10.17487/RFC73252014年8月<http://www.rfc-editor.org/info/rfc7325>."
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "zh-CHS": "致谢"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Loa Andersson, Curtis Villamizar, Daniel King, Sriganesh Kini, Victor Ji, Acee Lindem, Deborah Brungard, Shawn M Emery, Scott O. Bradner, and Peter Yee for performing thorough reviews and providing very valuable comments.",
      "zh-CHS": "作者要感谢Loa Andersson、Curtis Villamizar、Daniel King、Sriganesh Kini、Victor Ji、Acee Lindem、Deborah Brungard、Shawn M Emery、Scott O.Bradner和Peter Yee进行了全面审查并提供了非常有价值的评论。"
    },
    {
      "indent": 3,
      "text": "Carlos Pignataro would like to acknowledge his lifetime friend Martin Rigueiro, with deep gratitude and esteem, for sharing his contagious passion for engineering and sciences, and for selflessly teaching so many lessons.",
      "zh-CHS": "卡洛斯·皮格纳塔罗（Carlos Pignataro）要感谢他的终身朋友马丁·里盖罗（Martin Rigueiro），感谢他对工程和科学的热情，感谢他无私地教授了这么多课程。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "zh-CHS": "贡献者"
    },
    {
      "indent": 3,
      "text": "Nagendra Kumar Cisco Systems, Inc. Email: naikumar@cisco.com",
      "zh-CHS": "Nagendra Kumar Cisco Systems，Inc.电子邮件：naikumar@cisco.com"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "Nobo Akiya Big Switch Networks Email: nobo.akiya.dev@gmail.com",
      "zh-CHS": "Nobo Akiya大交换机网络电子邮件：Nobo.Akiya。dev@gmail.com"
    },
    {
      "indent": 3,
      "text": "George Swallow Cisco Systems, Inc. Email: swallow@cisco.com",
      "zh-CHS": "George Swallow Cisco Systems，Inc.电子邮件：swallow@cisco.com"
    },
    {
      "indent": 3,
      "text": "Carlos Pignataro Cisco Systems, Inc. Email: cpignata@cisco.com",
      "zh-CHS": "Carlos Pignataro Cisco Systems，Inc.电子邮件：cpignata@cisco.com"
    },
    {
      "indent": 3,
      "text": "Andrew G. Malis Huawei Technologies Email: agmalis@gmail.com",
      "zh-CHS": "Andrew G.Malis华为技术公司电子邮件：agmalis@gmail.com"
    },
    {
      "indent": 3,
      "text": "Sam Aldrin Google Email: aldrin.ietf@gmail.com",
      "zh-CHS": "山姆·奥尔德林谷歌邮箱：奥尔德林。ietf@gmail.com"
    }
  ]
}