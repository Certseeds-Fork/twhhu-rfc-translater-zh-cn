{
  "title": {
    "text": "RFC 8068: Session Initiation Protocol (SIP) Recording Call Flows",
    "zh-CHS": "RFC 8068"
  },
  "number": 8068,
  "created_at": "2021-10-28 16:05:12.680583+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                   R. Ravindranath\nRequest for Comments: 8068                           Cisco Systems, Inc.\nCategory: Informational                                     P. Ravindran\nISSN: 2070-1721                                           Nokia Networks\n                                                              P. Kyzivat\n                                                                  Huawei\n                                                           February 2017",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 9,
      "text": "Session Initiation Protocol (SIP) Recording Call Flows",
      "zh-CHS": "会话启动协议（SIP）记录呼叫流"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "Session recording is a critical requirement in many communications environments, such as call centers and financial trading organizations. In some of these environments, all calls must be recorded for regulatory, compliance, and consumer-protection reasons. The recording of a session is typically performed by sending a copy of a media stream to a recording device. This document lists call flows with metadata snapshots sent from a Session Recording Client (SRC) to a Session Recording Server (SRS).",
      "zh-CHS": "会话记录是许多通信环境中的一项关键要求，例如呼叫中心和金融交易组织。在其中一些环境中，出于监管、法规遵从性和消费者保护的原因，必须记录所有呼叫。会话的记录通常通过向记录设备发送媒体流的副本来执行。本文档列出了从会话记录客户端（SRC）发送到会话记录服务器（SRS）的带有元数据快照的调用流。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "zh-CHS": "本文件不是互联网标准跟踪规范；它是为了提供信息而发布的。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 7841.",
      "zh-CHS": "本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。并非IESG批准的所有文件都适用于任何级别的互联网标准；见RFC 7841第2节。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc8068.",
      "zh-CHS": "有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc8068."
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2017 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "zh-CHS": "版权所有（c）2017 IETF信托基金和确定为文件作者的人员。版权所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "zh-CHS": "本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "zh-CHS": "目录"
    },
    {
      "indent": 3,
      "text": "1. Overview ........................................................3\n2. Terminology .....................................................3\n3. Metadata XML Instances ..........................................3\n   3.1. Sample Call Flow ...........................................3\n   3.2. Call Scenarios with SRC Recording Streams without Mixing ...5\n        3.2.1. Example 1: Basic Call ...............................5\n        3.2.2. Example 2: Hold/Resume ..............................9\n        3.2.3. Example 3:Call Transfer (RE-INVITE and\n               REFER Based) .......................................12\n        3.2.4. Example 4: Call Disconnect .........................19\n   3.3. Call Scenarios with SRC Recording Streams by Mixing .......20\n        3.3.1. Example 1: Basic Call with SRC Mixing Streams ......20\n        3.3.2. Example 2: Hold/Resume with SRC Recording\n               by Mixing Streams ..................................23\n        3.3.3. Example 3: Metadata Snapshot of\n               Joining/Dropping of a ..............................25\n        3.3.4. Example 4: Call Disconnect .........................28\n   3.4. Call Scenarios with Persistent RS between SRC and SRS .....28\n        3.4.1. Example 1: Metadata Snapshot during CS\n               Disconnect with ....................................29\n   3.5. Turret-Case: Multiple CS into Single RS with Mixed\n        Stream ....................................................30\n4. Security Considerations ........................................32\n5. IANA Considerations ............................................32\n6. References .....................................................33\n   6.1. Normative References ......................................33\n   6.2. Informative References ....................................33\nAcknowledgements ..................................................34\nAuthors' Addresses ................................................34",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "1. Overview",
      "section_title": true,
      "zh-CHS": "1. 概述"
    },
    {
      "indent": 3,
      "text": "Session recording is a critical requirement in many communications environments, such as call centers and financial trading organizations. In some of these environments, all calls must be recorded for regulatory, compliance, and consumer-protection reasons. The recording of a session is typically performed by sending a copy of a media stream to a recording device. [RFC7865] focuses on the recording metadata that describes the Communication Session (CS). This document lists few examples and shows the snapshots of metadata sent from a Session Recording Client (SRC) to Session Recording Server (SRS). For the sake of simplicity, the entire Session Initiation Protocol (SIP) [RFC3261] messages are not shown, instead only snippets of the SIP and Session Description Protocol (SDP) [RFC4566] messages and the XML snapshot of metadata is shown.",
      "zh-CHS": "会话记录是许多通信环境中的一项关键要求，例如呼叫中心和金融交易组织。在其中一些环境中，出于监管、法规遵从性和消费者保护的原因，必须记录所有呼叫。会话的记录通常通过向记录设备发送媒体流的副本来执行。[RFC7865]侧重于描述通信会话（CS）的记录元数据。本文档列出了几个示例，并显示了从会话记录客户端（SRC）发送到会话记录服务器（SRS）的元数据快照。为简单起见，未显示整个会话启动协议（SIP）[RFC3261]消息，而仅显示SIP和会话描述协议（SDP）[RFC4566]消息的片段以及元数据的XML快照。"
    },
    {
      "indent": 0,
      "text": "2. Terminology",
      "section_title": true,
      "zh-CHS": "2. 术语"
    },
    {
      "indent": 3,
      "text": "The terms used in this document are defined in [RFC7865] and [RFC6341]. No new definitions are introduced in this document.",
      "zh-CHS": "本文件中使用的术语定义见[RFC7865]和[RFC6341]。本文件中未引入新定义。"
    },
    {
      "indent": 0,
      "text": "3. Metadata XML Instances",
      "section_title": true,
      "zh-CHS": "3. 元数据XML实例"
    },
    {
      "indent": 3,
      "text": "The following subsections have examples that contain the metadata snapshot sent from the SRC to the SRS.",
      "zh-CHS": "以下小节提供了包含从SRC发送到SRS的元数据快照的示例。"
    },
    {
      "indent": 0,
      "text": "3.1. Sample Call Flow",
      "section_title": true,
      "zh-CHS": "3.1. 样本呼叫流"
    },
    {
      "indent": 3,
      "text": "The following is a sample call flow that shows the SRC establishing a Recording Session (RS) towards the SRS. In this example, the SRC could be part of any one of the architectures described in Section 3 of [RFC7245].",
      "zh-CHS": "下面是一个示例调用流，显示了SRC向SRS建立记录会话（RS）。在本例中，SRC可以是[RFC7245]第3节中描述的任何一种体系结构的一部分。"
    },
    {
      "indent": 19,
      "text": "Figure 1: Sample Call Flow between SRC and SRS",
      "zh-CHS": "图1:SRC和SRS之间的调用流示例"
    },
    {
      "indent": 15,
      "text": "SRC                                                   SRS\n|                                                     |\n|(1) INVITE (metadata snapshot)   F1                  |\n|---------------------------------------------------->|\n|                            200 OK                   |\n|<----------------------------------------------------|\n|(3) ACK                                              |\n|---------------------------------------------------->|\n|(4) RTP                                              |\n|====================================================>|\n|====================================================>|\n|====================================================>|\n|====================================================>|\n|(5) UPDATE/RE-INVITE (metadata update 1)     F2      |\n|---------------------------------------------------->|\n|                      200 OK                         |\n|<----------------------------------------------------|\n| ................................................... |\n| ................................................... |\n|                                                     |\n|====================================================>|\n|====================================================>|\n|(7) UPDATE/RE-INVITE (metadata update n-1) Fn-1      |\n|---------------------------------------------------->|\n|                       200 OK                        |\n|<----------------------------------------------------|",
      "raw": true,
      "toc": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "For the sake of simplicity, ACKs to RE-INVITES and BYEs are not shown. The subsequent sections describe the snapshot of metadata sent from the SRC to the SRS for each of the above transactions (F1 ... Fn-1). There may be multiple UPDATES/RE-INVITES mid call to indicate snapshots of different CS changes. Depending on the architecture described in Section 3 of [RFC7245], an SRC may be an endpoint, a B2BUA, or part of the MEDIACTRL architecture or the Conference focus. The subsequent sections in this document try to list some example metadata snapshots for three major categories.",
      "zh-CHS": "为了简单起见，不会显示对重新邀请的确认和是。后续章节描述了针对上述每个事务（F1…Fn-1）从SRC发送到SRS的元数据快照。在通话中可能会有多个更新/重新邀请，以指示不同CS更改的快照。根据[RFC7245]第3节中描述的架构，SRC可以是端点、B2BUA或MEDIACTRL架构或会议焦点的一部分。本文档的后续部分尝试列出三个主要类别的一些示例元数据快照。"
    },
    {
      "indent": 3,
      "text": "o The SRC recording streams unmixed to the SRS. This includes cases where the SRC is a SIP UA or B2BUA.",
      "zh-CHS": "o SRC记录流未混合到SRS。这包括SRC是SIP UA或B2BUA的情况。"
    },
    {
      "indent": 3,
      "text": "o The SRC recording mixed streams to the SRS. This includes cases where the SRC is part of SIP conference model, as explained in [RFC4353].",
      "zh-CHS": "o SRC将混合流记录到SRS。这包括SRC是SIP会议模型一部分的情况，如[RFC4353]所述。"
    },
    {
      "indent": 3,
      "text": "o The SRC having a persistent RS with the SRS.",
      "zh-CHS": "o SRC与SRS具有持久RS。"
    },
    {
      "indent": 3,
      "text": "o Special flows like turret flows (used on financial trading floors to manage call activity). A trading turret is a specialized telephony key system that has a highly distributed switching architecture enabling parallel processing of calls. Figure 6 in Section 4 of [RFC6341] has the turret use case.",
      "zh-CHS": "o 特殊流，如转塔流（用于金融交易场所管理呼叫活动）。交易转台是一种专门的电话钥匙系统，具有高度分布式的交换体系结构，能够并行处理呼叫。[RFC6341]第4节中的图6给出了转台用例。"
    },
    {
      "indent": 3,
      "text": "Note that only those examples where metadata changes are listed in each category. For some of the call flows, the snapshots may be the same (like in case of endpoint or B2BUA acting as SRC) and the same is mentioned in the text preceding the example.",
      "zh-CHS": "请注意，仅在每个类别中列出元数据更改的示例。对于一些调用流，快照可能是相同的（如端点或B2BUA充当SRC的情况），并且在示例前面的文本中提到了相同的快照。"
    },
    {
      "indent": 0,
      "text": "3.2. Call Scenarios with SRC Recording Streams without Mixing",
      "section_title": true,
      "zh-CHS": "3.2. SRC记录流而不混合的呼叫场景"
    },
    {
      "indent": 3,
      "text": "This section describes example flows where SRC can be a SIP-UA or B2BUA as described in Section 3 of [RFC7245]. The SRS here can be a SIP-UA or an entity part of the MEDIACTRL architecture described in Section 3 of [RFC7245].",
      "zh-CHS": "本节描述了示例流程，其中SRC可以是[RFC7245]第3节中所述的SIP-UA或B2BUA。此处的SRS可以是SIP-UA或[RFC7245]第3节中描述的MEDIACTRL体系结构的实体部分。"
    },
    {
      "indent": 0,
      "text": "3.2.1. Example 1: Basic Call",
      "section_title": true,
      "zh-CHS": "3.2.1. 示例1：基本呼叫"
    },
    {
      "indent": 3,
      "text": "Basic call between two participants, Alice and Bob, who are part of the same CS. In this use case, each participant sends two media streams (audio and video). Media streams sent by each participant are received by the other participant in this use case. In this example, the SRC is a B2BUA in the path between Alice and Bob, as described in Section 3.1.1 of [RFC7245]. Below is the initial snapshot sent by SRC in the INVITE to SRS. This snapshot has the complete metadata. For the sake of simplicity, only snippets of SIP/ SDP are shown. In this example, the SRCs records the streams of each participant to SRS without mixing.",
      "zh-CHS": "两个参与者之间的基本通话，Alice和Bob是同一个CS的一部分。在这个用例中，每个参与者发送两个媒体流（音频和视频）。在这个用例中，每个参与者发送的媒体流由另一个参与者接收。在本例中，SRC是Alice和Bob之间路径中的B2BUA，如[RFC7245]第3.1.1节所述。下面是SRC在邀请SRS中发送的初始快照。此快照具有完整的元数据。为了简单起见，只显示SIP/SDP的片段。在本例中，SRC记录每个参与者到SRS的流，而不进行混合。"
    },
    {
      "indent": 3,
      "text": "Metadata snapshot for CS setup:",
      "zh-CHS": "CS安装程序的元数据快照："
    },
    {
      "indent": 3,
      "text": "INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=00000000000000000000000000000000\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "   --foobar\n   Content-Type: application/SDP\n   ...\n   m=audio 49170 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:96\n   a=sendonly\n   ...\n   m=video 49174 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:97\n   a=sendonly\n   ...\n   m=audio 51372 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:98\n   a=sendonly\n   ...\n   m=video 49176 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:99\n   a=sendonly\n   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n  <datamode>complete</datamode>\n        <group group_id=\"7+OTCyoxTmqmqyA/1weDAg==\">\n                <associate-time>2010-12-16T23:41:07Z</associate-time>\n                <!-- Standardized extension -->\n                <call-center xmlns='urn:ietf:params:xml:ns:callcenter'>\n                        <supervisor>sip:alice@atlanta.com</supervisor>\n                </call-center>\n                <mydata xmlns='http://example.com/my'>\n                        <structure>FOO!</structure>\n                        <whatever>bar</whatever>\n                </mydata>\n        </group>\n        <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <sipSessionID>ab30317f1a784dc48ff824d0d3715d86;\n                  remote=47755a9de7794ba387653f2099600ef2</sipSessionID>\n                <group-ref>7+OTCyoxTmqmqyA/1weDAg==\n                </group-ref>\n                <!-- Standardized extension -->\n                <mydata xmlns='http://example.com/my'>\n                        <structure>FOO!</structure>\n                        <whatever>bar</whatever>\n                </mydata>\n        </session>\n        <participant\n              participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n                <nameID aor=\"sip:alice@atlanta.com\">\n                        <name xml:lang=\"it\">Alice</name>\n                </nameID>\n                <!-- Standardized extension -->\n                <mydata xmlns='http://example.com/my'>\n                        <structure>FOO!</structure>\n                        <whatever>bar</whatever>\n                </mydata>\n        </participant>\n        <participant\n               participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n                <nameID aor=\"sip:bob@biloxy.com\">\n                        <name xml:lang=\"it\">Bob</name>\n                </nameID>\n                <!-- Standardized extension -->\n                <mydata xmlns='http://example.com/my'>\n                        <structure>FOO!</structure>\n                        <whatever>bar</whatever>\n                </mydata>\n        </participant>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "        <stream stream_id=\"UAAMm5GRQKSCMVvLyl4rFw==\"\n               session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <label>96</label>\n        </stream>\n        <stream stream_id=\"i1Pz3to5hGk8fuXl+PbwCw==\"\n               session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <label>97</label>\n        </stream>\n        <stream stream_id=\"8zc6e0lYTlWIINA6GR+3ag==\"\n               session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <label>98</label>\n        </stream>\n        <stream stream_id=\"EiXGlc+4TruqqoDaNE76ag==\"\n               session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <label>99</label>\n        </stream>\n        <sessionrecordingassoc session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <associate-time>2010-12-16T23:41:07Z</associate-time>\n        </sessionrecordingassoc>\n        <participantsessionassoc\n              participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n              session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <associate-time>2010-12-16T23:41:07Z</associate-time>\n        </participantsessionassoc>\n        <participantsessionassoc\n               participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n               session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n                <associate-time>2010-12-16T23:41:07Z</associate-time>\n        </participantsessionassoc>\n        <participantstreamassoc\n              participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n                <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n                <send>UAAMm5GRQKSCMVvLyl4rFw==</send>\n                <recv>8zc6e0lYTlWIINA6GR+3ag==</recv>\n                <recv>EiXGlc+4TruqqoDaNE76ag==</recv>\n        </participantstreamassoc>\n        <participantstreamassoc\n               participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n                <send>8zc6e0lYTlWIINA6GR+3ag==</send>\n                <send>EiXGlc+4TruqqoDaNE76ag==</send>\n                <recv>UAAMm5GRQKSCMVvLyl4rFw==</recv>\n                <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n        </participantstreamassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.2.2. Example 2: Hold/Resume",
      "section_title": true,
      "zh-CHS": "3.2.2. 示例2：保持/恢复"
    },
    {
      "indent": 3,
      "text": "A call between two participants Alice and Bob is established and an RS is created for recording, as in example 1. Bob puts Alice on hold and then resumes as part of the same CS. The 'send' and 'recv' XML elements of a 'participantstreamassoc' XML element is used to indicate whether or not a participant is contributing to a media stream. SRC sends a snapshot with only the changed XML elements.",
      "zh-CHS": "建立两个参与者Alice和Bob之间的呼叫，并创建一个RS进行记录，如示例1所示。Bob将Alice置于等待状态，然后作为同一个CS的一部分继续。“participantstreamassoc”XML元素的“send”和“recv”XML元素用于指示参与者是否参与媒体流。SRC只发送包含更改的XML元素的快照。"
    },
    {
      "indent": 3,
      "text": "During hold",
      "zh-CHS": "扣留期间"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot for CS hold:",
      "zh-CHS": "CS保留的元数据快照："
    },
    {
      "indent": 6,
      "text": "RE-INVITE SRC-------------------->SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly\n...\nm=video 49174 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:97\na=sendonly\n...\nm=audio 51372 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:98\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "...\nm=video 49176 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:99\na=sendonly\n....",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": " --foobar Content-Type: application/rs-metadata Content-Disposition: recording-session",
      "zh-CHS": "--foobar内容类型：应用程序/rs元数据内容处置：录制会话"
    },
    {
      "indent": 6,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n    <datamode>partial</datamode>\n      <participantstreamassoc\n       participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n       <recv>8zc6e0lYTlWIINA6GR+3ag==</recv>\n       <recv>EiXGlc+4TruqqoDaNE76ag==</recv>\n      </participantstreamassoc>\n      <participantstreamassoc\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n        <send>8zc6e0lYTlWIINA6GR+3ag==</send>\n        <send>EiXGlc+4TruqqoDaNE76ag==</send>\n       </participantstreamassoc>\n     </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In the above snippet, Alice with participant_id srfBElmCRp2QB23b7Mpk0w== only receives media streams and does not send any media. The same is indicated by the absence of a 'send' XML element. On the other hand, Bob (participant_id zSfPoSvdSDCmU3A3TRDxAw==) would be sending media, but he does not receive any media from Alice; therefore, the 'recv' XML element is absent in this instance.",
      "zh-CHS": "在上面的代码段中，参与者id为srfbelcrp2qb23b7mpk0w==的Alice只接收媒体流，不发送任何媒体。缺少“send”XML元素也表明了这一点。另一方面，Bob（参与者_id zsfposvdsdcmu3ardxaw==）将发送媒体，但他没有从Alice接收任何媒体；因此，“recv”XML元素在此实例中不存在。"
    },
    {
      "indent": 3,
      "text": "During resume",
      "zh-CHS": "在简历中"
    },
    {
      "indent": 3,
      "text": "The snapshot now has 'send' and 'recv' XML elements for both Alice and Bob, indicating that both are receiving and sending media.",
      "zh-CHS": "快照现在包含Alice和Bob的“send”和“recv”XML元素，表示两者都在接收和发送媒体。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot for CS resume:",
      "zh-CHS": "CS resume的元数据快照："
    },
    {
      "indent": 6,
      "text": "RE-INVITE SRC-------------------->SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   --foobar\n   Content-Type: application/SDP\n   ...\n   m=audio 49170 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:96\n   a=sendonly\n   ...\n   m=video 49174 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:97\n   a=sendonly\n   ...\n   m=audio 51372 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:98\n   a=sendonly\n   ...\n   m=video 49176 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:99\n   a=sendonly\n   ....\n   --foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n    <datamode>partial</datamode>\n      <participantstreamassoc\n       participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n       <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n       <send>UAAMm5GRQKSCMVvLyl4rFw==</send>\n       <recv>8zc6e0lYTlWIINA6GR+3ag==</recv>\n       <recv>EiXGlc+4TruqqoDaNE76ag==</recv>\n      </participantstreamassoc>\n      <participantstreamassoc\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n        <send>8zc6e0lYTlWIINA6GR+3ag==</send>\n        <send>EiXGlc+4TruqqoDaNE76ag==</send>\n        <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n       <recv>UAAMm5GRQKSCMVvLyl4rFw==</recv>\n       </participantstreamassoc>\n     </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.2.3. Example 3:Call Transfer (RE-INVITE and REFER Based)",
      "section_title": true,
      "zh-CHS": "3.2.3. 示例3：呼叫转移（基于重新邀请和转介）"
    },
    {
      "indent": 3,
      "text": "A basic call between two participants, Alice and Bob, is connected, and SRC (a B2BUA acting as SRC as per Section 3.1.1 of [RFC7245]) has sent a snapshot as described in example 1. Transfer is initiated by one of the participants (Alice). After the transfer is completed, the SRC sends a snapshot of the participant changes to the SRS. In this transfer scenario, Alice drops out after transfer is completed, Bob and Carol get connected, and recording of media between Bob and Carol is done by the SRC. There are two flows that can happen here as described below.",
      "zh-CHS": "两个参与者Alice和Bob之间的基本呼叫已连接，SRC（根据[RFC7245]第3.1.1节充当SRC的B2BUA）已发送快照，如示例1所述。转移由一名参与者（Alice）发起。传输完成后，SRC向SRS发送参与者更改的快照。在此传输场景中，Alice在传输完成后退出，Bob和Carol建立连接，Bob和Carol之间的媒体录制由SRC完成。如下所述，这里可能发生两个流。"
    },
    {
      "indent": 3,
      "text": "Transfer within the same session (e.g., a RE-INVITE-based transfer): Alice drops out and Carol is added to the same session. No change to the session/group element is made. A 'participantsessassoc' XML element indicating that Alice has disassociated from the CS will be present in the snapshot. A new 'participant' XML element representing Carol with mapping to the same RS SDP stream used for mapping earlier Alice's stream is sent in the snapshot. A new 'sipSessionID' XML element that has Universally Unique Identifier (UUID) tuples and that corresponds to Bob and Carol is sent in the snapshot from the SRC to the SRS. Note that one half of the session ID, that which corresponds to Bob, remains the same.",
      "zh-CHS": "同一会话内的传输（例如，基于重新邀请的传输）：Alice退出，Carol加入同一会话。未对会话/组元素进行任何更改。快照中将出现一个“participantsesssoc”XML元素，指示Alice已与CS解除关联。快照中发送了一个新的“参与者”XML元素，表示Carol，该元素映射到用于映射早期Alice流的相同RS SDP流。快照中将一个新的“sipSessionID”XML元素从SRC发送到SRS，该元素具有通用唯一标识符（UUID）元组，并对应于Bob和Carol。请注意，会话ID的一半（对应于Bob）保持不变。"
    },
    {
      "indent": 5,
      "text": "Metadata snapshot for INVITE based transfer in CS:",
      "zh-CHS": "CS中基于邀请的传输的元数据快照："
    },
    {
      "indent": 5,
      "text": "RE-INVITE SRC-------------------->SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "   --foobar\n   Content-Type: application/SDP\n   ...\n   m=audio 49180 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:96\n   a=sendonly\n   ...\n   m=video 49182 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:97\n   a=sendonly\n   ...\n   m=audio 51374 RTP/AVP 0\n   a=rtpmap:0 PCMU/8000\n   a=label:98\n   a=sendonly\n   ...\n   m=video 49178 RTP/AVPF 96\n   a=rtpmap:96 H.264/90000\n   a=label:99\n   a=sendonly\n   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n            <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <sipSessionID>3363127f0d084c10876dddd4f8e5eeb9\n         ;remote=2272bb7e70fe41dba0025ae9a26d54cf</sipSessionID>\n      </session>\n       <participant\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n          <nameID aor=\"sip:carol@example.com\">\n           <name xml:lang=\"it\">Carol</name>\n         </nameID>\n       </participant>\n       <participantsessionassoc\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\"\n          session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n          <associate-time>2013-12-16T23:41:07Z</associate-time>\n       </participantsessionassoc>\n       <participantsessionassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n          session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n           <disassociate-time>2013-12-16T23:41:07Z</disassociate-time>\n        </participantsessionassoc>\n        <participantstreamassoc\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n          <send>8zc6e0lYTlWIINA6GR+3ag==</send>\n          <send>EiXGlc+4TruqqoDaNE76ag==</send>\n          <recv>60JAJm9UTvik0Ltlih/Gzw==</recv>\n          <recv>AcR5FUd3Edi8cACQJy/3JQ==</recv>\n       </participantstreamassoc>\n       <participantstreamassoc\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n         <send>60JAJm9UTvik0Ltlih/Gzw==</send>\n         <send>AcR5FUd3Edi8cACQJy/3JQ==</send>\n         <recv>8zc6e0lYTlWIINA6GR+3ag==</recv>\n         <recv>EiXGlc+4TruqqoDaNE76ag==</recv>\n         <associate-time>2013-12-16T23:42:07Z</associate-time>\n       </participantstreamassoc>\n  </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Transfer with a new session (e.g., REFER-based transfer): in this case, a new session (CS) is created and shall be part of same CS-group (done by the SRC).",
      "zh-CHS": "使用新会话进行传输（例如，基于引用的传输）：在这种情况下，将创建一个新会话（CS），该会话应属于同一个CS组（由SRC完成）。"
    },
    {
      "indent": 3,
      "text": "The SRC first sends an *optional* snapshot indicating disassociation of the participant from the old CS. An SRC may choose to just send an INVITE with a new 'session' XML element to implicitly indicate that the participants are now part of a different CS without sending disassociation from the old CS. In this example, the SRC uses the same RS. In case the SRC wishes to use a new RS, it will tear down the current RS using normal SIP procedures (BYE) with metadata, as in example 4.",
      "zh-CHS": "SRC首先发送一个*可选*快照，指示参与者与旧CS解除关联。SRC可以选择只发送带有新“会话”XML元素的INVITE，以隐式指示参与者现在是不同CS的一部分，而不发送与旧CS的解除关联。在本例中，SRC使用相同的RS。如果SRC希望使用新的RS，它将使用带元数据的正常SIP过程（BYE）拆除当前RS，如例4所示。"
    },
    {
      "indent": 5,
      "text": "Metadata snapshot for REFER based transfer in CS:",
      "zh-CHS": "CS中基于引用的传输的元数据快照："
    },
    {
      "indent": 5,
      "text": "RE-INVITE SRC-------------------->SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49180 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly\n...\nm=video 49182 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:97\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "...\nm=audio 51374 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:98\na=sendonly\n...\nm=video 49178 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:99\na=sendonly\n....",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 2,
      "text": " --foobar Content-Type: application/rs-metadata Content-Disposition: recording-session",
      "zh-CHS": "--foobar内容类型：应用程序/rs元数据内容处置：录制会话"
    },
    {
      "indent": 4,
      "text": "      <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n         <datamode>partial</datamode>\n     <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n       <stop-time>2010-12-16T23:41:07Z</stop-time>\n     </session>\n     <participantsessionassoc\n        participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n        session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n      </participantsessionassoc>\n     <participantsessionassoc\n        participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n        session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n        <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n      </participantsessionassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In the above snapshot, the 'participantsessionassoc' XML element is optional as indicating a 'session' XML element with a 'stop-time' XML element implicitly means that all the participants associated with that session have been disassociated.",
      "zh-CHS": "在上面的快照中，“participantsessionassoc”XML元素是可选的，因为它指示一个带有“stop time”XML元素的“session”XML元素，这意味着与该会话关联的所有参与者都已解除关联。"
    },
    {
      "indent": 3,
      "text": "The SRC sends another snapshot to indicate the participant change (due to REFER) and new session information after transfer. In this example, it is assumed that the SRC uses the same RS to continue recording the call. The 'sipSessionID' XML element in the metadata snapshot now indicates Bob and Carol in the (local, remote) UUID pair.",
      "zh-CHS": "SRC发送另一个快照，以指示参与者更改（由于参考）和传输后的新会话信息。在本例中，假设SRC使用相同的RS继续记录呼叫。元数据快照中的“sipSessionID”XML元素现在表示（本地、远程）UUID对中的Bob和Carol。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot for REFER based transfer in CS:",
      "zh-CHS": "CS中基于引用的传输的元数据快照："
    },
    {
      "indent": 6,
      "text": "RE-INVITE SRC-------------------->SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49180 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly\n...\nm=video 49182 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:97\na=sendonly\n...\nm=audio 51374 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:98\na=sendonly\n...\nm=video 49178 RTP/AVPF 96\na=rtpmap:96 H.264/90000\na=label:99\na=sendonly\n....",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": " --foobar Content-Type: application/rs-metadata",
      "zh-CHS": "--foobar内容类型：应用程序/rs元数据"
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>complete</datamode>\n       <session session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n         <sipSessionID>3363127f0d084c10876dddd4f8e5eeb9\n         ;remote=2272bb7e70fe41dba0025ae9a26d54cf</sipSessionID>\n         <start-time>2010-12-16T23:41:07Z</start-time>\n       </session>\n       <participant\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n           <nameID aor=\"sip:Bob@biloxy.com\"/>\n        </participant>\n        <participant\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n          <nameID aor=\"sip:carol@example.com\"/>\n       </participant>\n        <stream stream_id=\"60JAJm9UTvik0Ltlih/Gzw==\"\n           session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n           <label>96</label>\n       </stream>\n       <stream stream_id=\"AcR5FUd3Edi8cACQJy/3JQ==\"\n           session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n           <label>97</label>\n       </stream>\n       <stream stream_id=\"8zc6e0lYTlWIINA6GR+3ag==\"\n           session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n           <label>98</label>\n       </stream>\n       <stream stream_id=\"EiXGlc+4TruqqoDaNE76ag==\"\n           session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n           <label>99</label>\n       </stream>\n       <participantsessionassoc\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n           session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n           <associate-time>2010-12-16T23:32:03Z</associate-time>\n        </participantsessionassoc>\n       <participantsessionassoc\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\"\n          session_id=\"bfLZ+NTFEeCNxQTuRyQBmw==\">\n        <associate-time>2010-12-16T23:41:07Z</associate-time>\n       </participantsessionassoc>\n       <participantstreamassoc\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n         <send>8zc6e0lYTlWIINA6GR+3ag==</send>\n         <send>EiXGlc+4TruqqoDaNE76ag==</send>\n         <recv>60JAJm9UTvik0Ltlih/Gzw==</recv>\n         <recv>AcR5FUd3Edi8cACQJy/3JQ==</recv>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "     </participantstreamassoc>\n     <participantstreamassoc\n        participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n      <send>60JAJm9UTvik0Ltlih/Gzw==</send>\n      <send>AcR5FUd3Edi8cACQJy/3JQ==</send>\n      <recv>8zc6e0lYTlWIINA6GR+3ag==</recv>\n      <recv>EiXGlc+4TruqqoDaNE76ag==</recv>\n      </participantstreamassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.2.4. Example 4: Call Disconnect",
      "section_title": true,
      "zh-CHS": "3.2.4. 示例4：呼叫断开"
    },
    {
      "indent": 3,
      "text": "This example shows a snapshot of metadata sent by the SRC to the SRS when a CS with Alice and Bob as participants is disconnected.",
      "zh-CHS": "此示例显示了当以Alice和Bob为参与者的CS断开连接时，SRC向SRS发送的元数据快照。"
    },
    {
      "indent": 11,
      "text": "SRC                                                   SRS\n    |                                                     |\n    |(1) BYE (metadata snapshot)   F1                     |\n    |---------------------------------------------------->|\n    |                            200 OK    F2             |\n    |<----------------------------------------------------|",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Metadata snapshot for a CS disconnect:",
      "zh-CHS": "CS断开连接的元数据快照："
    },
    {
      "indent": 3,
      "text": "F1  BYE SRC  -----------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "BYE sip:2001@example.com SIP/2.0\nVia: SIP/2.0/UDP src.example.com;branch=z9hG4bK47c8eb30\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: ab30317f1a784dc48ff824d0d3715d86\n    ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 102 BYE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "--foobar Content-Type: application/rs-metadata",
      "zh-CHS": "--foobar内容类型：应用程序/rs元数据"
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n       <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n          <stop-time>2010-12-16T23:41:07Z</stop-time>\n       </session>\n       <participantsessionassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n          session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n        </participantsessionassoc>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "    <participantsessionassoc\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n      session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n       <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n     </participantsessionassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.3. Call Scenarios with SRC Recording Streams by Mixing",
      "section_title": true,
      "zh-CHS": "3.3. 通过混合使用SRC记录流的呼叫场景"
    },
    {
      "indent": 3,
      "text": "This section describes a few example call flows where the SRC may be part of conference model either as focus or a participant in conference as explained in Section 3.1.5 of [RFC7245]. The SRS here can be a SIP User Agent (UA) or an entity part of the MEDIACTRL architecture. Note that the disconnect case is not shown since the metadata snapshot will be same as for a non-mixing case.",
      "zh-CHS": "本节描述了几个示例呼叫流，其中SRC可能是会议模型的一部分，如[RFC7245]第3.1.5节所述，作为会议的焦点或参与者。这里的SRS可以是SIP用户代理（UA）或MEDIACTRL体系结构的实体部分。请注意，未显示断开连接情况，因为元数据快照与非混合情况相同。"
    },
    {
      "indent": 0,
      "text": "3.3.1. Example 1: Basic Call with SRC Mixing Streams",
      "section_title": true,
      "zh-CHS": "3.3.1. 示例1：使用SRC混合流的基本调用"
    },
    {
      "indent": 3,
      "text": "A basic call between two participants, Alice and Bob, who are part of one CS. In this use case, each participant calls into a conference server (say, a Multipoint Control Unit (MCU)) to attend one of many conferences hosted on or managed by that server. Media streams sent by each participant are received by all the other participants in the conference. Below is the initial snapshot sent by the SRC in the INVITE to the SRS that has the complete metadata. For the sake of simplicity, only snippets of SIP/SDP are shown. The SRC records the streams of each participant to SRS by mixing in this example. The SRC here is part of conference model described in Section 3 of [RFC7245] as a focus and does mixing. The SRC here is not a participant by itself and hence it does not contribute to media.",
      "zh-CHS": "两个参与者之间的基本通话，Alice和Bob是一个CS的一部分。在这个用例中，每个参与者调用一个会议服务器（比如，一个多点控制单元（MCU）），以参加由该服务器主持或管理的许多会议中的一个。每个参与者发送的媒体流由会议的所有其他参与者接收。下面是SRC在邀请SRS中发送的具有完整元数据的初始快照。为了简单起见，只显示SIP/SDP的片段。在本例中，SRC通过混合将每个参与者的流记录到SRS。这里的SRC是[RFC7245]第3节中描述的会议模型的一部分，作为一个焦点，并进行混合。SRC本身不是参与者，因此不向媒体作出贡献。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot with the SRC mixing streams to the SRS:",
      "zh-CHS": "SRC向SRS混合流的元数据快照："
    },
    {
      "indent": 12,
      "text": "F1  INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: a358d2b81a444a8c8fb05950cef331e7\n ;remote=00000000000000000000000000000000\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>complete</datamode>\n      <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <sipSessionID>fa3b60f27e91441e84c55a9a0095f075\n          ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n          <sipSessionID>ca718e1430474b5485a53aa5d0bea45e\n          ;remote=68caf509b9284b7ea45f84a049febf0a</sipSessionID>\n          <start-time>2010-12-16T23:41:07Z</start-time>\n      </session>\n       <participant\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n         <nameID aor=\"sip:alice@atlanta.com\">\n          <name xml:lang=\"it\">Alice</name>\n         </nameID>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 7,
      "text": "   </participant>\n   <participant\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n       <nameID aor=\"sip:bob@biloxy.com\">\n        <name xml:lang=\"it\">Bob</name>\n     </nameID>\n   </participant>\n   <stream stream_id=\"i1Pz3to5hGk8fuXl+PbwCw==\"\n       session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n       <label>96</label>\n   </stream>\n   <participantsessionassoc\n      participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n      session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n    <associate-time>2010-12-16T23:41:07Z</associate-time>\n   </participantsessionassoc>\n   <participantsessionassoc\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\nsession_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n      <associate-time>2010-12-16T23:41:07Z</associate-time>\n   </participantsessionassoc>\n   <participantstreamassoc\n      participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n      <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n      <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n   </participantstreamassoc>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "     <participantstreamassoc\n         participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n       <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n       <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n     </participantstreamassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "In the above example, there are two participants, Alice and Bob, in the conference. Among other things, the SRC sends Session-ID in the metadata snapshot. There are two Session-IDs here: one that corresponds to the SIP session between Alice and the Conference focus and the other for the SIP session between Bob and the Conference focus. In this use case, since Alice and Bob call into the conference, these Session-IDs are different.",
      "zh-CHS": "在上面的例子中，有两位与会者，Alice和Bob，参加了会议。其中，SRC在元数据快照中发送会话ID。这里有两个会话ID：一个对应于Alice和会议焦点之间的SIP会话，另一个对应于Bob和会议焦点之间的SIP会话。在这个用例中，由于Alice和Bob调用会议，这些会话ID是不同的。"
    },
    {
      "indent": 0,
      "text": "3.3.2. Example 2: Hold/Resume with SRC Recording by Mixing Streams",
      "section_title": true,
      "zh-CHS": "3.3.2. 示例2：通过混合流保持/恢复SRC记录"
    },
    {
      "indent": 3,
      "text": "This is the continuation of example 1 (basic call with SRC mixing streams). A call between two participants, Alice and Bob, is established and an RS is created for recording, as in example 5. One of the participants, Bob, puts Alice on hold, and then resumes as part of the same CS. The 'send' and 'recv' XML elements of a 'participant' XML element are used to indicate whether or not a participant is contributing to a media stream. The metadata snapshot is represented below:",
      "zh-CHS": "这是示例1（SRC混合流的基本调用）的继续。建立两个参与者Alice和Bob之间的通话，并创建一个RS进行记录，如示例5所示。其中一名参与者Bob将Alice置于等待状态，然后作为同一个CS的一部分继续。“参与者”XML元素的“send”和“recv”XML元素用于指示参与者是否参与媒体流。元数据快照如下所示："
    },
    {
      "indent": 3,
      "text": "During hold",
      "zh-CHS": "扣留期间"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot when a CS participant goes on hold and the SRC is mixing the streams:",
      "zh-CHS": "CS参与者处于等待状态且SRC正在混合流时的元数据快照："
    },
    {
      "indent": 6,
      "text": "RE-INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: a358d2b81a444a8c8fb05950cef331e7\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n           <stream stream_id=\"i1Pz3to5hGk8fuXl+PbwCw==\"\n           session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n           <label>96</label>\n       </stream>\n       <participantstreamassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n           <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n       </participantstreamassoc>\n       <participantstreamassoc\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n         <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n       </participantstreamassoc>\n  </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "During resumption, a snapshot shown below will be sent from the SRC to the SRS.",
      "zh-CHS": "在恢复期间，将从SRC向SRS发送如下所示的快照。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot when a CS participant resumes and the SRC is mixing the streams:",
      "zh-CHS": "CS参与者恢复且SRC混合流时的元数据快照："
    },
    {
      "indent": 12,
      "text": "RE-INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: a358d2b81a444a8c8fb05950cef331e7\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n           <stream stream_id=\"i1Pz3to5hGk8fuXl+PbwCw==\"\n           session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n           <label>96</label>\n       </stream>\n      <participantstreamassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n          <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n          <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n       </participantstreamassoc>\n       <participantstreamassoc\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n         <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n        <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n       </participantstreamassoc>\n  </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.3.3. Example 3: Metadata Snapshot of Joining/Dropping of a Participant to a Session",
      "zh-CHS": "3.3.3. 示例3：参与者加入/退出会话的元数据快照"
    },
    {
      "indent": 3,
      "text": "In a conference model, participants can join and drop a session any time during the session. Below is a snapshot sent from the SRC to the SRS in this case. Note the SRC here can be a focus or a participant in the conference. In the case where the SRC is a participant, it may learn the information required for metadata by subscribing to a conference event package [RFC4575]. Assume Alice and Bob were in the conference and a third participant (Carol) joins, then the SRC sends the below snapshot with the indication of new participant.",
      "zh-CHS": "在会议模型中，参与者可以在会话期间的任何时间加入和退出会话。下面是在这种情况下从SRC发送到SRS的快照。注意：SRC可以是会议的焦点或参与者。在SRC是参与者的情况下，它可以通过订阅会议事件包[RFC4575]来了解元数据所需的信息。假设Alice和Bob参加了会议，第三个参与者（Carol）加入了会议，然后SRC发送下面的快照，并显示新参与者。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot for a new participant joining CS:",
      "zh-CHS": "加入CS的新参与者的元数据快照："
    },
    {
      "indent": 12,
      "text": "RE-INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\nSession-ID: a358d2b81a444a8c8fb05950cef331e7\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n           <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <sipSessionID>fa3b60f27e91441e84c55a9a0095f075\n          ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n          <sipSessionID>ca718e1430474b5485a53aa5d0bea45e\n          ;remote=68caf509b9284b7ea45f84a049febf0a</sipSessionID>\n          <sipSessionID>497c0f13929643b4a16858e2a3885edc\n          ;remote=0e8a82bedda74f57be4a4a4da54167c4</sipSessionID>\n      </session>\n           <participant\n          participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n          <nameID aor=\"sip:carol@example.com\">\n           <name xml:lang=\"it\">Carol</name>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "       </nameID>\n     </participant>\n     <participantsessionassoc\n        participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\"\n        session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n        <associate-time>2013-12-16T23:41:07Z</associate-time>\n     </participantsessionassoc>\n     <participantstreamassoc\n        participant_id=\"Atnm1ZRnOC6Pm5MApkrDzQ==\">\n        <send>i1Pz3to5hGk8fuXl+PbwCw==</send>\n        <recv>i1Pz3to5hGk8fuXl+PbwCw==</recv>\n     </participantstreamassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "After some time, Alice drops from the conference. The SRC generates a new snapshot showing Alice disassociating from the session.",
      "zh-CHS": "过了一段时间，艾丽丝从会议上走了下来。SRC生成一个新的快照，显示Alice与会话解除关联。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot for a participant dropping from CS:",
      "zh-CHS": "从CS中删除的参与者的元数据快照："
    },
    {
      "indent": 12,
      "text": "RE-INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0\nVia: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\n Session-ID: a358d2b81a444a8c8fb05950cef331e7\n ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/sdp, application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "--foobar\nContent-Type: application/SDP\n...\nm=audio 49170 RTP/AVP 0\na=rtpmap:0 PCMU/8000\na=label:96\na=sendonly",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "   ....\n--foobar\nContent-Type: application/rs-metadata\nContent-Disposition: recording-session",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n           <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n          <sipSessionID>ca718e1430474b5485a53aa5d0bea45e\n          ;remote=68caf509b9284b7ea45f84a049febf0a</sipSessionID>\n          <sipSessionID>497c0f13929643b4a16858e2a3885edc\n          ;remote=0e8a82bedda74f57be4a4a4da54167c4</sipSessionID>\n      </session>\n           <participantsessionassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n          session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n        <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n       </participantsessionassoc>\n   </recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.3.4. Example 4: Call Disconnect",
      "section_title": true,
      "zh-CHS": "3.3.4. 示例4：呼叫断开"
    },
    {
      "indent": 3,
      "text": "When a CS is disconnected, the SRC sends a BYE with a snapshot of metadata having a session stop time and participant disassociation times. The snapshot looks the same as listed in Section 3.2.4.",
      "zh-CHS": "当CS断开连接时，SRC发送一个BYE，其中包含一个元数据快照，该元数据具有会话停止时间和参与者解除关联时间。快照看起来与第3.2.4节中列出的相同。"
    },
    {
      "indent": 0,
      "text": "3.4. Call Scenarios with Persistent RS between SRC and SRS",
      "section_title": true,
      "zh-CHS": "3.4. SRC和SRS之间具有持久RS的调用场景"
    },
    {
      "indent": 3,
      "text": "This section shows the snapshots of metadata for the cases where a persistent RS exists between the SRC and the SRS. An SRC here may be a SIP UA or a B2BUA, or it may be part of a conference model as either the focus or a participant in a conference. The SRS here could be a SIP UA or an entity part of the MEDIACTRL architecture. Except in the disconnect case, the snapshot remains same as mentioned in previous sections.",
      "zh-CHS": "本节显示了SRC和SRS之间存在持久RS的情况下的元数据快照。这里的SRC可以是SIP-UA或B2BUA，也可以是作为会议焦点或参与者的会议模型的一部分。这里的SRS可以是SIP UA或MEDIACTRL体系结构的实体部分。除断开连接的情况外，快照与前几节中提到的相同。"
    },
    {
      "indent": 0,
      "text": "3.4.1. Example 1: Metadata Snapshot during CS Disconnect with Persistent RS between SRC and SRS",
      "zh-CHS": "3.4.1. 示例1:SRC和SRS之间具有持久RS的CS断开连接期间的元数据快照"
    },
    {
      "indent": 3,
      "text": "Metadata snapshot for a CS disconnect with a persistent RS:",
      "zh-CHS": "具有永久RS的CS断开连接的元数据快照："
    },
    {
      "indent": 3,
      "text": "RE-INVITE sent from SRC  -----------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "INVITE sip:2001@example.com SIP/2.0\nVia: SIP/2.0/UDP src.example.com;branch=z9hG4bK47c8eb30\nFrom: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247\nTo: <sip:recorder@example.com>\nCall-ID: d253c800-b0d1ea39-4a7dd-3f0e20a\n Session-ID: ab30317f1a784dc48ff824d0d3715d86\n    ;remote=f81d4fae7dec11d0a76500a0c91e6bf6\nCSeq: 101 INVITE\nMax-Forwards: 70\nRequire: siprec\nAccept: application/rs-metadata,\napplication/rs-metadata-request\nContact: <sip:2000@src.example.com>;+sip.src\nContent-Type: multipart/mixed;boundary=foobar\nContent-Length: [length]",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "--foobar Content-Type: application/rs-metadata",
      "zh-CHS": "--foobar内容类型：应用程序/rs元数据"
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>partial</datamode>\n       <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n          <stop-time>2010-12-16T23:41:07Z</stop-time>\n       </session>\n       <participantsessionassoc\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n          session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n         <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n        </participantsessionassoc>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "    <participantsessionassoc\n       participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n      session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n       <disassociate-time>2010-12-16T23:41:07Z</disassociate-time>\n     </participantsessionassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "3.5. Turret-Case: Multiple CS into Single RS with Mixed Stream",
      "section_title": true,
      "zh-CHS": "3.5. 炮塔情况：多个CS进入单RS，混合流"
    },
    {
      "indent": 3,
      "text": "In trading-floor environments, in order to minimize storage and recording system resources, it may be preferable to mix multiple concurrent calls (each call is one CS) on different handsets/speakers on the same turret into a single RS. This would mean media in each CS is mixed and recorded as part of single media stream, and multiple such CSs are recording in one RS from an SRC to an SRS.",
      "zh-CHS": "在交易场所环境中，为了尽量减少存储和记录系统资源，最好将同一转台上不同手机/扬声器上的多个并发呼叫（每个呼叫是一个CS）混合到一个RS中。这意味着每个CS中的媒体混合并记录为单个媒体流的一部分，多个这样的CSs在一个RS中从SRC记录到SRS。"
    },
    {
      "indent": 3,
      "text": "Taking an example where there are two CSs [CS1 and CS2]: assume mixing is done in each of these CSs and both these CSs are recorded as part of single RS from a single SRC, which is part of both the CSs. There are three possibilities here:",
      "zh-CHS": "举一个有两个CSs的例子[CS1和CS2]：假设在这些CSs中的每一个都进行了混合，并且这两个CSs都被记录为来自单个SRC的单个RS的一部分，该SRC是两个CSs的一部分。这里有三种可能性："
    },
    {
      "indent": 3,
      "text": "o CS1 and CS2 use the same focus for mixing, and that focus is also acting as SRC in each of the CSs.",
      "zh-CHS": "o CS1和CS2使用相同的焦点进行混合，该焦点在每个CSs中也充当SRC。"
    },
    {
      "indent": 3,
      "text": "o One CS (e.g. CS1) SRC is the focus and the other CS (e.g. CS2), SRC is just one of the participants of the conference.",
      "zh-CHS": "o 一个CS（如CS1）SRC是会议的焦点，另一个CS（如CS2），SRC只是会议的参与者之一。"
    },
    {
      "indent": 3,
      "text": "o In both CS1 and CS2, the SRC is just a participant of conference.",
      "zh-CHS": "o 在CS1和CS2中，SRC只是会议的参与者。"
    },
    {
      "indent": 3,
      "text": "The following example shows the first possibility where CS1 and CS2 use the same focus for mixing, and that focus is also acting as SRC in each of the CSs.",
      "zh-CHS": "下面的示例显示了第一种可能性，其中CS1和CS2使用相同的焦点进行混合，并且该焦点在每个CSs中也充当SRC。"
    },
    {
      "indent": 6,
      "text": "Metadata snapshot with two CSs recorded as part of the same RS:",
      "zh-CHS": "元数据快照，其中两个CSs记录为同一RS的一部分："
    },
    {
      "indent": 6,
      "text": "INVITE SRC --------------> SRS",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 6,
      "text": "INVITE sip:recorder@example.com SIP/2.0 Via: SIP/2.0/TCP src.example.com;branch=z9hG4bKdf6b622b648d9 From: <sip:2000@example.com>;tag=35e195d2-947d-4585-946f-09839247 To: <sip:recorder@example.com> Call-ID: d253c800-b0d1ea39-4a7dd-3f0e20a Session-ID: a358d2b81a444a8c8fb05950cef331e7 ;remote=00000000000000000000000000000000 Content-Type: application/SDP ... m=audio 49170 RTP/AVP 0 a=rtpmap:0 PCMU/8000 a=label:96 a=sendonly ...",
      "zh-CHS": "邀请sip：recorder@example.comSIP/2.0 Via:SIP/2.0/TCP src.example.com；分支=Z9HG4BKDF6B62B648D9来自：2000@example.com>;标签=35e195d2-947d-4585-946f-09839247至：<sip:recorder@example.com>呼叫ID:d253c800-b0d1ea39-4a7dd-3f0e20a会话ID:a358d2b81a444a8c8fb05950cef331e7；远程=00000000000000000000000000内容类型：应用程序/SDP。。。m=音频49170 RTP/AVP 0 a=rtpmap:0 PCMU/8000 a=标签：96 a=仅发送。。。"
    },
    {
      "indent": 3,
      "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <recording xmlns='urn:ietf:params:xml:ns:recording:1'>\n           <datamode>complete</datamode>\n        <group group_id=\"7+OTCyoxTmqmqyA/1weDAg==\">\n               <associate-time>2010-12-16T23:41:07Z</associate-time>\n       </group>\n       <session session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n          <sipSessionID>fa3b60f27e91441e84c55a9a0095f075\n          ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n          <sipSessionID>ca718e1430474b5485a53aa5d0bea45e\n          ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n          <sipSessionID>497c0f13929643b4a16858e2a3885edc\n          ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n          <group-ref>7+OTCyoxTmqmqyA/1weDAg==</group-ref>\n          <start-time>2010-12-16T23:41:07Z</start-time>\n       </session>\n      <session session_id=\"e6370VVGEeWAG6886p18uA==\">\n         <sipSessionID>ae10731ca50343a5aaae2dd0904a65de\n         ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n         <sipSessionID>33c77aac7deb414cbc8c10f363fccb71\n         ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n         <sipSessionID>fd6932e9e5fc489fae2d5b3779723b7e\n        ;remote=a358d2b81a444a8c8fb05950cef331e7</sipSessionID>\n        <group-ref>7+OTCyoxTmqmqyA/1weDAg==</group-ref>\n        <start-time>2010-12-16T23:43:07Z</start-time>\n       </session>\n       <participant\n          participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n         <nameID aor=\"sip:alice@atlanta.com\">\n          <name xml:lang=\"it\">Alice</name>\n         </nameID>\n       </participant>\n       <participant\n           participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n           <nameID aor=\"sip:Bob@biloxy.com\">\n            <name xml:lang=\"it\">Bob</name>\n         </nameID>\n       </participant>\n       <participant\n          participant_id=\"EiXGlc+4TruqqoDaNE76ag==\">\n         <nameID aor=\"sip:Carol@example.com\">\n          <name xml:lang=\"it\">Carol</name>\n         </nameID>\n       </participant>\n       <stream stream_id=\"UAAMm5GRQKSCMVvLyl4rFw==\"\n           session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n           <label>96</label>\n       </stream>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 10,
      "text": "<participantsessionassoc\n   participant_id=\"srfBElmCRp2QB23b7Mpk0w==\"\n   session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n <associate-time>2010-12-16T23:41:07Z</associate-time>\n</participantsessionassoc>\n<participantsessionassoc\n    participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n    session_id=\"hVpd7YQgRW2nD22h7q60JQ==\">\n   <associate-time>2010-12-16T23:41:07Z</associate-time>\n</participantsessionassoc>\n<participantsessionassoc\n    participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\"\n    session_id=\"e6370VVGEeWAG6886p18uA==\">\n   <associate-time>2010-12-16T23:43:07Z</associate-time>\n</participantsessionassoc>\n<participantsessionassoc\n    participant_id=\"EiXGlc+4TruqqoDaNE76ag==\"\n    session_id=\"e6370VVGEeWAG6886p18uA==\">\n   <associate-time>2010-12-16T23:43:07Z</associate-time>\n</participantsessionassoc>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 5,
      "text": "     <participantstreamassoc\n        participant_id=\"srfBElmCRp2QB23b7Mpk0w==\">\n        <send>UAAMm5GRQKSCMVvLyl4rFw==</send>\n        <recv>UAAMm5GRQKSCMVvLyl4rFw==</recv>\n     </participantstreamassoc>\n     <participantstreamassoc\n         participant_id=\"zSfPoSvdSDCmU3A3TRDxAw==\">\n       <send>UAAMm5GRQKSCMVvLyl4rFw==</send>\n       <recv>UAAMm5GRQKSCMVvLyl4rFw==</recv>\n     </participantstreamassoc>\n     <participantstreamassoc\n         participant_id=\"EiXGlc+4TruqqoDaNE76ag==\">\n       <send>UAAMm5GRQKSCMVvLyl4rFw==</send>\n       <recv>UAAMm5GRQKSCMVvLyl4rFw==</recv>\n     </participantstreamassoc>\n</recording>",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "4. Security Considerations",
      "section_title": true,
      "zh-CHS": "4. 安全考虑"
    },
    {
      "indent": 3,
      "text": "Security and privacy considerations mentioned in [RFC7865] and [RFC7866] have to be followed by the SRC and the SRS for setting up RS SIP dialogs and sending metadata.",
      "zh-CHS": "SRC和SRS必须遵循[RFC7865]和[RFC7866]中提到的安全和隐私注意事项，以设置RS SIP对话框和发送元数据。"
    },
    {
      "indent": 0,
      "text": "5. IANA Considerations",
      "section_title": true,
      "zh-CHS": "5. IANA考虑"
    },
    {
      "indent": 3,
      "text": "This document does not require any IANA actions.",
      "zh-CHS": "本文件不要求IANA采取任何行动。"
    },
    {
      "indent": 0,
      "text": "6. References",
      "section_title": true,
      "zh-CHS": "6. 工具书类"
    },
    {
      "indent": 0,
      "text": "6.1. Normative References",
      "section_title": true,
      "zh-CHS": "6.1. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[RFC6341] Rehor, K., Ed., Portman, L., Ed., Hutton, A., and R. Jain, \"Use Cases and Requirements for SIP-Based Media Recording (SIPREC)\", RFC 6341, DOI 10.17487/RFC6341, August 2011, <http://www.rfc-editor.org/info/rfc6341>.",
      "zh-CHS": "[RFC6341]Rehor，K.，Ed.，Portman，L.，Ed.，Hutton，A.，和R.Jain，“基于SIP的媒体记录（SIPREC）的用例和要求”，RFC 6341，DOI 10.17487/RFC6341，2011年8月<http://www.rfc-editor.org/info/rfc6341>."
    },
    {
      "indent": 3,
      "text": "[RFC7865] Ravindranath, R., Ravindran, P., and P. Kyzivat, \"Session Initiation Protocol (SIP) Recording Metadata\", RFC 7865, DOI 10.17487/RFC7865, May 2016, <http://www.rfc-editor.org/info/rfc7865>.",
      "zh-CHS": "[RFC7865]Ravindranath，R.，Ravindran，P.，和P.Kyzivat，“会话启动协议（SIP）记录元数据”，RFC 7865，DOI 10.17487/RFC7865，2016年5月<http://www.rfc-editor.org/info/rfc7865>."
    },
    {
      "indent": 3,
      "text": "[RFC7866] Portman, L., Lum, H., Ed., Eckel, C., Johnston, A., and A. Hutton, \"Session Recording Protocol\", RFC 7866, DOI 10.17487/RFC7866, May 2016, <http://www.rfc-editor.org/info/rfc7866>.",
      "zh-CHS": "[RFC7866]Portman，L.，Lum，H.，Ed.，Eckel，C.，Johnston，A.，和A.Hutton，“会话记录协议”，RFC 7866，DOI 10.17487/RFC7866，2016年5月<http://www.rfc-editor.org/info/rfc7866>."
    },
    {
      "indent": 3,
      "text": "[RFC7245] Hutton, A., Ed., Portman, L., Ed., Jain, R., and K. Rehor, \"An Architecture for Media Recording Using the Session Initiation Protocol\", RFC 7245, DOI 10.17487/RFC7245, May 2014, <http://www.rfc-editor.org/info/rfc7245>.",
      "zh-CHS": "[RFC7245]Hutton，A.，Ed.，Portman，L.，Ed.，Jain，R.，和K.Rehor，“使用会话启动协议的媒体记录架构”，RFC 7245，DOI 10.17487/RFC72452014年5月<http://www.rfc-editor.org/info/rfc7245>."
    },
    {
      "indent": 0,
      "text": "6.2. Informative References",
      "section_title": true,
      "zh-CHS": "6.2. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[RFC4575] Rosenberg, J., Schulzrinne, H., and O. Levin, Ed., \"A Session Initiation Protocol (SIP) Event Package for Conference State\", RFC 4575, DOI 10.17487/RFC4575, August 2006, <http://www.rfc-editor.org/info/rfc4575>.",
      "zh-CHS": "[RFC4575]Rosenberg，J.，Schulzrinne，H.，和O.Levin，Ed.，“会议状态的会话启动协议（SIP）事件包”，RFC 4575，DOI 10.17487/RFC4575，2006年8月<http://www.rfc-editor.org/info/rfc4575>."
    },
    {
      "indent": 3,
      "text": "[RFC4353] Rosenberg, J., \"A Framework for Conferencing with the Session Initiation Protocol (SIP)\", RFC 4353, DOI 10.17487/RFC4353, February 2006, <http://www.rfc-editor.org/info/rfc4353>.",
      "zh-CHS": "[RFC4353]Rosenberg，J.，“会话启动协议（SIP）会议框架”，RFC 4353，DOI 10.17487/RFC4353，2006年2月<http://www.rfc-editor.org/info/rfc4353>."
    },
    {
      "indent": 3,
      "text": "[RFC3261] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, \"SIP: Session Initiation Protocol\", RFC 3261, DOI 10.17487/RFC3261, June 2002, <http://www.rfc-editor.org/info/rfc3261>.",
      "zh-CHS": "[RFC3261]Rosenberg，J.，Schulzrinne，H.，Camarillo，G.，Johnston，A.，Peterson，J.，Sparks，R.，Handley，M.，和E.Schooler，“SIP：会话启动协议”，RFC 3261，DOI 10.17487/RFC3261，2002年6月<http://www.rfc-editor.org/info/rfc3261>."
    },
    {
      "indent": 3,
      "text": "[RFC4566] Handley, M., Jacobson, V., and C. Perkins, \"SDP: Session Description Protocol\", RFC 4566, DOI 10.17487/RFC4566, July 2006, <http://www.rfc-editor.org/info/rfc4566>.",
      "zh-CHS": "[RFC4566]Handley，M.，Jacobson，V.，和C.Perkins，“SDP：会话描述协议”，RFC 4566，DOI 10.17487/RFC4566，2006年7月<http://www.rfc-editor.org/info/rfc4566>."
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "zh-CHS": "致谢"
    },
    {
      "indent": 3,
      "text": "Thanks to Ofir Rath, Charles Eckel, Yaron Pdut, Dmitry Andreyev, and Charles Armitage for their review comments.",
      "zh-CHS": "感谢Ofir Rath、Charles Eckel、Yaron Pdut、Dmitry Andreyev和Charles Armitage的评论。"
    },
    {
      "indent": 3,
      "text": "Thanks to Alissa Cooper, Stephen Farrell, Kathleen Moriarty, Suresh Krishnan, Benoit Claise, Carlos Pignataro, Dan Romascanu, and Derek Atkins for their feedback and comments during IESG reviews.",
      "zh-CHS": "感谢Alissa Cooper、Stephen Farrell、Kathleen Moriarty、Suresh Krishnan、Benoit Claise、Carlos Pignataro、Dan Romascanu和Derek Atkins在IESG审查期间提供的反馈和评论。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "Ram Mohan Ravindranath Cisco Systems, Inc. Cessna Business Park, Kadabeesanahalli Village, Varthur Hobli, Sarjapur-Marathahalli Outer Ring Road Bangalore, Karnataka 560103 India",
      "zh-CHS": "Ram Mohan Ravindranath Cisco Systems，Inc.印度卡纳塔克邦班加罗尔Sarjapur Marathahalli外环路Varthur Hobli Kadabeesanahalli村塞斯纳商业园，邮编：560103"
    },
    {
      "indent": 3,
      "text": "Email: rmohanr@cisco.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Parthasarathi Ravindran Nokia Networks Bangalore, Karnataka India",
      "zh-CHS": "印度卡纳塔克邦班加罗尔Parthasarathi Ravindran诺基亚网络公司"
    },
    {
      "indent": 3,
      "text": "Email: partha@parthasarathi.co.in",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Paul Kyzivat Huawei Hudson, MA United States of America",
      "zh-CHS": "Paul Kyzivat Huawei Hudson，马萨诸塞州，美利坚合众国"
    },
    {
      "indent": 3,
      "text": "Email: pkyzivat@alum.mit.edu",
      "raw": true,
      "zh-CHS": " "
    }
  ]
}