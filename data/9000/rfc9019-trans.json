{
  "title": {
    "text": "RFC 9019: A Firmware Update Architecture for Internet of Things",
    "zh-CHS": "RFC 9019"
  },
  "number": 9019,
  "created_at": "2021-10-28 02:51:13.770809+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "+----------+\n                                                      |          |\n                                                      |  Author  |\n                                                      |          |\n                                                      +----------+\n                       Firmware + Manifest                 |\n              +----------------------------------+         | Firmware +\n              |                                  |         | Manifest\n              |                               ---+-------  |\n              |                           ----   |       --|-\n              |                         //+----------+     | \\\\\n             -+--                      // |          |     |   \\\n        ----/ |  ----                |/   | Firmware |<-+  |    \\\n      //      |      \\\\              |    | Server   |  |  |     \\\n     /        |        \\             /    |          |  +  +      \\\n    /         |         \\           /     +----------+   \\ /       |\n   / +--------+--------+ \\         /                      |        |\n  /  |        v        |  \\       /                       v        |\n |   | +------------+  |   |     |          +----------------+      |\n |   | |  Firmware  |  |   |     |          |     Device     |      |\n |   | |  Consumer  |  |   |     |          |     Management |      |\n|    | +------------+  |    |    |          |                |      |\n|    | +------------+  |    |    |          |    +--------+  |      |\n|    | |  Status    |<-+--------------------+->  |        |  |      |\n|    | |  Tracker   |  |    |    |          |    | Status |  |      |\n|    | |  Client    |  |    |    |          |    | Tracker|  |     |\n |   | +------------+  |   |     |          |    | Server |  |     |\n |   |    Device       |   |      |         |    +--------+  |     |\n |   +-----------------+   |       \\        |                |    /\n  \\                       /         \\       +----------------+   /\n   \\       Network       /           \\                          /\n    \\     Operator      /             \\     Device Operator    /\n     \\\\               //               \\\\                    //\n        ----     ----                     ----           ----\n            -----                             -----------",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "+--------+    +-----------------+    +-----------------------------+\n|        |    | Firmware Server |    |         IoT Device          |\n| Author |    | Status Tracker  |    | +------------+ +----------+ |\n+--------+    | Server          |    | |  Firmware  | |Bootloader| |\n  |           +-----------------+    | |  Consumer  | |          | |\n  |                   |              | +------------+ +----------+ |\n  |                   |              |      |                |     |\n  |                   |              |  +-----------------------+  |\n  | Create Firmware   |              |  | Status Tracker Client |  |\n  |--------------+    |              |  +-----------------------+  |\n  |              |    |               `''''''''''''''''''''''''''''\n  |<-------------+    |                     |        |       |\n  |                   |                     |        |       |\n  | Upload Firmware   |                     |        |       |\n  |------------------>|                     |        |       |\n  |                   |                     |        |       |\n  | Create Manifest   |                     |        |       |\n  |---------------+   |                     |        |       |\n  |               |   |                     |        |       |\n  |<--------------+   |                     |        |       |\n  |                   |                     |        |       |\n  | Sign Manifest     |                     |        |       |\n  |-------------+     |                     |        |       |\n  |             |     |                     |        |       |\n  |<------------+     |                     |        |       |\n  |                   |                     |        |       |\n  | Upload Manifest   |                     |        |       |\n  |------------------>|  Notification of    |        |       |\n  |                   |  new firmware image |        |       |\n  |                   |----------------------------->|       |\n  |                   |                     |        |       |\n  |                   |                     |Initiate|       |\n  |                   |                     | Update |       |\n  |                   |                     |<-------|       |\n  |                   |                     |        |       |\n  |                   |   Query Manifest    |        |       |\n  |                   |<--------------------|        .       |\n  |                   |                     |        .       |\n  |                   |   Send Manifest     |        .       |\n  |                   |-------------------->|        .       |\n  |                   |                     | Validate       |\n  |                   |                     | Manifest       |\n  |                   |                     |--------+       |\n  |                   |                     |        |       |\n  |                   |                     |<-------+       |\n  |                   |                     |        .       |\n  |                   |  Request Firmware   |        .       |\n  |                   |<--------------------|        .       |\n  |                   |                     |        .       |\n  |                   | Send Firmware       |        .       |\n  |                   |-------------------->|        .       |\n  |                   |                     | Verify .       |\n  |                   |                     | Firmware       |\n  |                   |                     |--------+       |\n  |                   |                     |        |       |\n  |                   |                     |<-------+       |\n  |                   |                     |        .       |\n  |                   |                     | Store  .       |\n  |                   |                     | Firmware       |\n  |                   |                     |--------+       |\n  |                   |                     |        |       |\n  |                   |                     |<-------+       |\n  |                   |                     |        .       |\n  |                   |                     |        .       |\n  |                   |                     |        .       |\n  |                   |                     |        |       |\n  |                   |                     | Update |       |\n  |                   |                     |Complete|       |\n  |                   |                     |------->|       |\n  |                   |                              |       |\n  |                   |  Firmware Update Completed   |       |\n  |                   |<-----------------------------|       |\n  |                   |                              |       |\n  |                   |  Reboot                      |       |\n  |                   |----------------------------->|       |\n  |                   |                     |        |       |\n  |                   |                     |        |       |\n  |                   |                     |        |Reboot |\n  |                   |                     |        |------>|\n  |                   |                     |        |       |\n  |                   |                     |        .       |\n  |                   |                 +---+----------------+--+\n  |                   |                S|   |                |  |\n  |                   |                E|   | Verify         |  |\n  |                   |                C|   | Firmware       |  |\n  |                   |                U|   | +--------------|  |\n  |                   |                R|   | |              |  |\n  |                   |                E|   | +------------->|  |\n  |                   |                 |   |                |  |\n  |                   |                B|   | Activate new   |  |\n  |                   |                O|   | Firmware       |  |\n  |                   |                O|   | +--------------|  |\n  |                   |                T|   | |              |  |\n  |                   |                 |   | +------------->|  |\n  |                   |                P|   |                |  |\n  |                   |                R|   | Boot new       |  |\n  |                   |                O|   | Firmware       |  |\n  |                   |                C|   | +--------------|  |\n  |                   |                E|   | |              |  |\n  |                   |                S|   | +------------->|  |\n  |                   |                S|   |                |  |\n  |                   |                 +---+----------------+--+\n  |                   |                     |        .       |\n  |                   |                     |        |       |\n  |                   |                     .        |       |\n  |                   |  Device running new firmware |       |\n  |                   |<-----------------------------|       |\n  |                   |                     .        |       |\n  |                   |                              |       |",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 1,
      "text": "+---------+   +-----------------+    +-----------------------------+\n| Status  |   | Firmware Server |    | +------------+ +----------+ |\n| Tracker |   | Status Tracker  |    | |  Firmware  | |Bootloader| |\n| Server  |   | Server          |    | |  Consumer  | |          | |\n+---------+   +-----------------+    | |  +Status   | +----------+ |\n     |                |              | |  Tracker   |        |     |\n     |                |              | |  Client    |        |     |\n     |                |              | +------------+        |     |\n     |                |              |      |  IoT Device    |     |\n     |                |               `''''''''''''''''''''''''''''\n     |                |                     |                |\n     |        Query Firmware Version        |                |\n     |------------------------------------->|                |\n     |        Firmware Version A.B.C        |                |\n     |<-------------------------------------|                |\n     |                |                     |                |\n     |         <<some time later>>          |                |\n     |                |                     |                |\n   _,...._         _,...._                  |                |\n ,'       `.     ,'       `.                |                |\n|   New     |   |   New     |               |                |\n\\ Manifest  /   \\ Firmware  /               |                |\n `.._   _,,'     `.._   _,,'                |                |\n     `''             `''                    |                |\n     |            Push manifest             |                |\n     |----------------+-------------------->|                |\n     |                |                     |                |\n     |                '                     |                '\n     |                |                     | Validate       |\n     |                |                     | Manifest       |\n     |                |                     |---------+      |\n     |                |                     |         |      |\n     |                |                     |<--------+      |\n     |                | Request firmware    |                |\n     |                | X.Y.Z               |                |\n     |                |<--------------------|                |\n     |                |                     |                |\n     |                | Firmware X.Y.Z      |                |\n     |                |-------------------->|                |\n     |                |                     |                |\n     |                |                     | Verify         |\n     |                |                     | Firmware       |\n     |                |                     |--------------+ |\n     |                |                     |              | |\n     |                |                     |<-------------+ |\n     |                |                     |                |\n     |                |                     | Store          |\n     |                |                     | Firmware       |\n     |                |                     |-------------+  |\n     |                |                     |             |  |\n     |                |                     |<------------+  |\n     |                |                     |                |\n     |                |                     |                |\n     |                |                     | Trigger Reboot |\n     |                |                     |--------------->|\n     |                |                     |                |\n     |                |                     |                |\n     |                |                     | __..-------..._'\n     |                |                    ,-'               `-.\n     |                |                   |      Secure Boot    |\n     |                |                   `-.                 _/\n     |                |                     |`--..._____,,.,-'\n     |                |                     |                |\n     | Device running firmware X.Y.Z        |                |\n     |<-------------------------------------|                |\n     |                |                     |                |\n     |                |                     |                |",
      "raw": true,
      "zh-CHS": " "
    }
  ]
}